var Ext=Ext||{};Ext._startTime=(new Date).getTime();(function(){var h=this,d=Object.prototype,b=d.toString,a=true,g={toString:1},c=function(){},e=function(){var a=e.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},f;Ext.global=h;for(f in g)a=null;if(a)a=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];Ext.enumerables=a;Ext.apply=function(c,b,g){g&&Ext.apply(c,g);if(c&&b&&typeof b==="object"){var f,e,d;for(f in b)c[f]=b[f];if(a)for(e=a.length;e--;){d=a[e];if(b.hasOwnProperty(d))c[d]=b[d]}}return c};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-",scopeResetCSS:false},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:c,emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(a,c){var b;if(a)for(b in c)if(a[b]===undefined)a[b]=c[b];return a},iterate:function(a,c,b){if(Ext.isEmpty(a))return;if(b===undefined)b=a;if(Ext.isIterable(a))Ext.Array.each.call(Ext.Array,a,c,b);else Ext.Object.each.call(Ext.Object,a,c,b)}});Ext.apply(Ext,{extend:function(){var a=d.constructor,b=function(b){for(var a in b){if(!b.hasOwnProperty(a))continue;this[a]=b[a]}};return function(c,d,f){if(Ext.isObject(d)){f=d;d=c;c=f.constructor!==a?f.constructor:function(){d.apply(this,arguments)}}var h=function(){},e,g=d.prototype;h.prototype=g;e=c.prototype=new h;e.constructor=c;c.superclass=g;if(g.constructor===a)g.constructor=d;c.override=function(a){Ext.override(c,a)};e.override=b;e.proto=e;c.override(f);c.extend=function(a){return Ext.extend(c,a)};return c}}(),override:function(a,d){if(a.$isClass)a.override(d);else if(typeof a=="function")Ext.apply(a.prototype,d);else{var f=a.self,b,c;if(f&&f.$isClass){for(b in d)if(d.hasOwnProperty(b)){c=d[b];if(typeof c=="function"){c.$name=b;c.$owner=f;c.$previous=a.hasOwnProperty(b)?a[b]:e}a[b]=c}}else Ext.apply(a,d)}return a}});Ext.apply(Ext,{valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},typeOf:function(c){var a,d;if(c===null)return"null";a=typeof c;if(a==="undefined"||a==="string"||a==="number"||a==="boolean")return a;d=b.call(c);switch(d){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return a==="function"?"function":a==="object"?c.nodeType!==undefined?c.nodeType===3?/\S/.test(c.nodeValue)?"textnode":"whitespace":"element":"object":void 0},isEmpty:function(a,b){return a===null||a===undefined||(!b?a==="":false)||Ext.isArray(a)&&a.length===0},isArray:"isArray"in Array?Array.isArray:function(a){return b.call(a)==="[object Array]"},isDate:function(a){return b.call(a)==="[object Date]"},isObject:b.call(null)==="[object Object]"?function(a){return a!==null&&a!==undefined&&b.call(a)==="[object Object]"&&a.ownerDocument===undefined}:function(a){return b.call(a)==="[object Object]"},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(b){var a=typeof b;return a==="string"||a==="number"||a==="boolean"},isFunction:typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function"?function(a){return b.call(a)==="[object Function]"}:function(a){return typeof a==="function"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?a.nodeType===1:false},isTextNode:function(a){return a?a.nodeName==="#text":false},isDefined:function(a){return typeof a!=="undefined"},isIterable:function(a){var c=typeof a,b=false;if(a&&c!="string")if(c=="function"){if(Ext.isSafari)b=a instanceof NodeList||a instanceof HTMLCollection}else b=true;return b?a.length!==undefined:false}});Ext.apply(Ext,{clone:function(c){var f,e,h,g,d,i;if(c===null||c===undefined)return c;if(c.nodeType&&c.cloneNode)return c.cloneNode(true);f=b.call(c);if(f==="[object Date]")return new Date(c.getTime());if(f==="[object Array]"){e=c.length;d=[];while(e--)d[e]=Ext.clone(c[e])}else if(f==="[object Object]"&&c.constructor===Object){d={};for(i in c)d[i]=Ext.clone(c[i]);if(a)for(h=a.length;h--;){g=a[h];d[g]=c[g]}}return d||c},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(a===undefined){b=0;do a="ExtBox"+ ++b;while(Ext.global[a]!==undefined);Ext.global[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var f=this,a=Array.prototype.slice.call(arguments),e=f.functionFactoryCache,d,b,c;if(Ext.isSandboxed){c=a.length;if(c>0){c--;a[c]="var Ext=window."+Ext.name+";"+a[c]}}d=a.join("");b=e[d];if(!b){b=Function.prototype.constructor.apply(Function.prototype,a);e[d]=b}return b},functionFactory:function(){var c=this,b=Array.prototype.slice.call(arguments),a;if(Ext.isSandboxed){a=b.length;if(a>0){a--;b[a]="var Ext=window."+Ext.name+";"+b[a]}}return Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:c,log:c,info:c,warn:c,error:function(a){throw new Error(a);},deprecate:c}});Ext.type=Ext.typeOf})();Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function($$code){(function(){eval($$code)})()};(function(){var b="4.1.0",a;Ext.Version=a=Ext.extend(Object,{constructor:function(c){var b,d;if(c instanceof a)return c;this.version=this.shortVersion=String(c).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");d=this.version.search(/([^\d\.])/);if(d!==-1){this.release=this.version.substr(d,c.length);this.shortVersion=this.version.substr(0,d)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");b=this.version.split(".");this.major=parseInt(b.shift()||0,10);this.minor=parseInt(b.shift()||0,10);this.patch=parseInt(b.shift()||0,10);this.build=parseInt(b.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(b){return a.compare(this.version,b)===1},isGreaterThanOrEqual:function(b){return a.compare(this.version,b)>=0},isLessThan:function(b){return a.compare(this.version,b)===-1},isLessThanOrEqual:function(b){return a.compare(this.version,b)<=0},equals:function(b){return a.compare(this.version,b)===0},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(a,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return!a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(d,c){var e,f,b;d=(new a(d)).toArray();c=(new a(c)).toArray();for(b=0;b<Math.max(d.length,c.length);b++){e=this.getComponentValue(d[b]);f=this.getComponentValue(c[b]);if(e<f)return-1;else if(e>f)return 1}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(b,c){Ext.versions[b]=new a(c);Ext.lastRegisteredVersion=Ext.versions[b];return this},getVersion:function(a){return a===undefined?Ext.lastRegisteredVersion:Ext.versions[a]},deprecate:function(b,d,e,c){a.compare(Ext.getVersion(b),d)<1&&e.call(c)}});Ext.setVersion("core",b)})();Ext.String=function(){var h=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,l=/('|\\)/g,g=/\{(\d+)\}/g,e=/([-.*+?\^${}()|\[\]\/\\])/g,m=/^\s+|\s+$/g,i=/\s+/,k=/(^[^a-z]*|[^\w])/gi,b,a,d,c,f=function(c,a){return b[a]},j=function(c,b){return b in a?a[b]:String.fromCharCode(parseInt(b.substr(2),10))};return{createVarName:function(a){return a.replace(k,"")},htmlEncode:function(a){return!a?a:String(a).replace(d,f)},htmlDecode:function(a){return!a?a:String(a).replace(c,j)},addCharacterEntities:function(h){var g=[],i=[],e,f;for(e in h){f=h[e];a[e]=f;b[f]=e;g.push(f);i.push(e)}d=new RegExp("("+g.join("|")+")","g");c=new RegExp("("+i.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){b={};a={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(a,b){return!Ext.isEmpty(b)?a+(a.indexOf("?")===-1?"?":"&")+b:a},trim:function(a){return a.replace(h,"")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},ellipsis:function(a,c,e){if(a&&a.length>c){if(e){var b=a.substr(0,c-2),d=Math.max(b.lastIndexOf(" "),b.lastIndexOf("."),b.lastIndexOf("!"),b.lastIndexOf("?"));if(d!==-1&&d>=c-15)return b.substr(0,d)+"..."}return a.substr(0,c-3)+"..."}return a},escapeRegex:function(a){return a.replace(e,"\\$1")},escape:function(a){return a.replace(l,"\\$1")},toggle:function(c,a,b){return c===a?b:a},leftPad:function(c,d,b){var a=String(c);b=b||" ";while(a.length<d)a=b+a;return a},format:function(b){var a=Ext.Array.toArray(arguments,1);return b.replace(g,function(c,b){return a[b]})},repeat:function(e,d,b){for(var a=[],c=d;c--;)a.push(e);return a.join(b||"")},splitWords:function(a){return a&&typeof a=="string"?a.replace(m,"").split(i):a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Number=new function(){var b=this,c=.9.toFixed()!=="1",a=Math;Ext.apply(this,{constrain:function(d,c,b){var a=parseFloat(d);return a<c?c:a>b?b:a},snap:function(a,c,e,f){var d;if(a===undefined||a<e)return e||0;if(c){d=a%c;if(d!==0){a-=d;if(d*2>=c)a+=c;else if(d*2<-c)a-=c}}return b.constrain(a,e,f)},snapInRange:function(a,d,c,f){var e;c=c||0;if(a===undefined||a<c)return c;if(d&&(e=(a-c)%d)){a-=e;e*=2;if(e>=d)a+=d}if(f!==undefined)if(a>(f=b.snapInRange(f,d,c)))a=f;return a},toFixed:c?function(d,b){b=b||0;var c=a.pow(10,b);return(a.round(d*c)/c).toFixed(b)}:function(b,a){return b.toFixed(a)},from:function(a,b){if(isFinite(a))a=parseFloat(a);return!isNaN(a)?a:b},randomInt:function(b,c){return a.floor(a.random()*(c-b+1)+b)}});Ext.num=function(){return b.from.apply(this,arguments)}};(function(){var c=Array.prototype,b=c.slice,g=function(){var a=[],b,c=20;if(!a.splice)return false;while(c--)a.push("A");a.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");b=a.length;a.splice(13,0,"XXX");return b+1!=a.length?false:true}(),q="forEach"in c,u="map"in c,j="indexOf"in c,v="every"in c,m="some"in c,n="filter"in c,s=function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}(),i=true,a,d,h,k;try{typeof document!=="undefined"&&b.call(document.getElementsByTagName("body"))}catch(w){i=false}function f(b,a){return a<0?Math.max(0,b.length+a):Math.min(b.length,a)}function e(b,m,n,g){var h=g?g.length:0,i=b.length,e=f(b,m),k,c,d,l,j,a;if(e===i)h&&b.push.apply(b,g);else{k=Math.min(n,i-e);c=e+k;d=c+h-k;l=i-c;j=i-k;if(d<c)for(a=0;a<l;++a)b[d+a]=b[c+a];else if(d>c)for(a=l;a--;)b[d+a]=b[c+a];if(h&&e===j){b.length=j;b.push.apply(b,g)}else{b.length=j+h;for(a=0;a<h;++a)b[e+a]=g[a]}}return b}function p(a,c,d,b){if(b&&b.length)if(c<a.length)a.splice.apply(a,[c,d].concat(b));else a.push.apply(a,b);else a.splice(c,d);return a}function l(a,b,c){return e(a,b,c)}function t(a,b,c){a.splice(b,c);return a}function r(a,g,c){var d=f(a,g),h=a.slice(g,f(a,d+c));if(arguments.length<4)e(a,d,c);else e(a,d,c,b.call(arguments,3));return h}function o(a){return a.splice.apply(a,b.call(arguments,1))}d=g?t:l;h=g?p:e;k=g?o:r;a=Ext.Array={each:function(c,e,d,g){c=a.from(c);var b,f=c.length;if(g!==true){for(b=0;b<f;b++)if(e.call(d||c[b],c[b],b,c)===false)return b}else for(b=f-1;b>-1;b--)if(e.call(d||c[b],c[b],b,c)===false)return b;return true},forEach:q?function(a,c,b){return a.forEach(c,b)}:function(b,c,e){for(var a=0,d=b.length;a<d;a++)c.call(e,b[a],a,b)},indexOf:j?function(a,b,c){return a.indexOf(b,c)}:function(c,e,b){for(var d=c.length,a=b<0?Math.max(0,d+b):b||0;a<d;a++)if(c[a]===e)return a;return-1},contains:j?function(b,a){return b.indexOf(a)!==-1}:function(b,d){var a,c;for(a=0,c=b.length;a<c;a++)if(b[a]===d)return true;return false},toArray:function(a,d,c){if(!a||!a.length)return[];if(typeof a==="string")a=a.split("");if(i)return b.call(a,d||0,c||a.length);var f=[],e;d=d||0;c=c?c<0?a.length+c:c:a.length;for(e=d;e<c;e++)f.push(a[e]);return f},pluck:function(d,f){var e=[],a,c,b;for(a=0,c=d.length;a<c;a++){b=d[a];e.push(b[f])}return e},map:u?function(a,c,b){return a.map(c,b)}:function(b,e,d){for(var c=[],a=0,f=b.length;a<f;a++)c[a]=e.call(d,b[a],a,b);return c},every:v?function(a,c,b){return a.every(c,b)}:function(b,c,e){for(var a=0,d=b.length;a<d;++a)if(!c.call(e,b[a],a,b))return false;return true},some:m?function(a,c,b){return a.some(c,b)}:function(b,c,e){for(var a=0,d=b.length;a<d;++a)if(c.call(e,b[a],a,b))return true;return false},clean:function(c){for(var d=[],b=0,e=c.length,a;b<e;b++){a=c[b];!Ext.isEmpty(a)&&d.push(a)}return d},unique:function(e){for(var b=[],c=0,f=e.length,d;c<f;c++){d=e[c];a.indexOf(b,d)===-1&&b.push(d)}return b},filter:n?function(a,c,b){return a.filter(c,b)}:function(b,e,d){for(var c=[],a=0,f=b.length;a<f;a++)e.call(d,b[a],a,b)&&c.push(b[a]);return c},from:function(c,e){if(c===undefined||c===null)return[];if(Ext.isArray(c))return e?b.call(c):c;var d=typeof c;return c&&c.length!==undefined&&d!=="string"&&(d!=="function"||!c.apply)?a.toArray(c):[c]},remove:function(b,e){var c=a.indexOf(b,e);c!==-1&&d(b,c,1);return b},include:function(c,b){!a.contains(c,b)&&c.push(b)},clone:function(a){return b.call(a)},merge:function(){var f=b.call(arguments),d=[],c,e;for(c=0,e=f.length;c<e;c++)d=d.concat(f[c]);return a.unique(d)},intersect:function(){var l=[],f=b.call(arguments),g,n,p,e,o,j,r,m,q,k,c,i,h;if(!f.length)return l;g=f.length;for(c=o=0;c<g;c++){j=f[c];if(!e||j.length<e.length){e=j;o=c}}e=a.unique(e);d(f,o,1);r=e.length;g=f.length;for(c=0;c<r;c++){m=e[c];k=0;for(i=0;i<g;i++){n=f[i];p=n.length;for(h=0;h<p;h++){q=n[h];if(m===q){k++;break}}}k===g&&l.push(m)}return l},difference:function(i,h){var e=b.call(i),f=e.length,c,a,g;for(c=0,g=h.length;c<g;c++)for(a=0;a<f;a++)if(e[a]===h[c]){d(e,a,1);a--;f--}return e},slice:[1,2].slice(1,undefined).length?function(a,d,c){return b.call(a,d,c)}:function(a,c,d){return typeof c==="undefined"?b.call(a):typeof d==="undefined"?b.call(a,c):b.call(a,c,d)},sort:s?function(b,a){return a?b.sort(a):b.sort()}:function(a,g){for(var e=a.length,c=0,f,d,b,h;c<e;c++){b=c;for(d=c+1;d<e;d++)if(g){f=g(a[d],a[b]);if(f<0)b=d}else if(a[d]<a[b])b=d;if(b!==c){h=a[c];a[c]=a[b];a[b]=h}}return a},flatten:function(c){var b=[];function a(e){var d,f,c;for(d=0,f=e.length;d<f;d++){c=e[d];if(Ext.isArray(c))a(c);else b.push(c)}return b}return a(c)},min:function(d,f){var b=d[0],c,e,a;for(c=0,e=d.length;c<e;c++){a=d[c];if(f){if(f(b,a)===1)b=a}else if(a<b)b=a}return b},max:function(d,f){var b=d[0],c,e,a;for(c=0,e=d.length;c<e;c++){a=d[c];if(f){if(f(b,a)===-1)b=a}else if(a>b)b=a}return b},mean:function(b){return b.length>0?a.sum(b)/b.length:undefined},sum:function(d){var e=0,a,c,b;for(a=0,c=d.length;a<c;a++){b=d[a];e+=b}return e},toMap:function(c,d,e){var b={},a=c.length;if(!d)while(a--)b[c[a]]=a+1;else if(typeof d=="string")while(a--)b[c[a][d]]=a+1;else while(a--)b[d.call(e,c[a])]=a+1;return b},erase:d,insert:function(a,c,b){return h(a,c,0,b)},replace:h,splice:k,push:function(a){var d=arguments.length,b=1,c;if(a===undefined)a=[];else if(!Ext.isArray(a))a=[a];for(;b<d;b++){c=arguments[b];Array.prototype.push[Ext.isArray(c)?"apply":"call"](a,c)}return a}};Ext.each=a.each;a.union=a.merge;Ext.min=a.min;Ext.max=a.max;Ext.sum=a.sum;Ext.mean=a.mean;Ext.flatten=a.flatten;Ext.clean=a.clean;Ext.unique=a.unique;Ext.pluck=a.pluck;Ext.toArray=function(){return a.toArray.apply(a,arguments)}})();Ext.Function={flexSetter:function(a){return function(b,e){var c,d;if(b===null)return this;if(typeof b!=="string"){for(c in b)b.hasOwnProperty(c)&&a.call(this,c,b[c]);if(Ext.enumerables)for(d=Ext.enumerables.length;d--;){c=Ext.enumerables[d];b.hasOwnProperty(c)&&a.call(this,c,b[c])}}else a.call(this,b,e);return this}},bind:function(d,c,b,a){if(arguments.length===2)return function(){return d.apply(c,arguments)};var f=d,e=Array.prototype.slice;return function(){var d=b||arguments;if(a===true){d=e.call(arguments,0);d=d.concat(b)}else if(typeof a=="number"){d=e.call(arguments,0);Ext.Array.insert(d,a,b)}return f.apply(c||Ext.global,d)}},pass:function(c,a,b){if(!Ext.isArray(a))if(Ext.isIterable(a))a=Ext.Array.clone(a);else a=a!==undefined?[a]:[];return function(){var d=[].concat(a);d.push.apply(d,arguments);return c.apply(b||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(b,a,d,c){var e=b;return!Ext.isFunction(a)?b:function(){var e=this,f=arguments;a.target=e;a.method=b;return a.apply(d||e||Ext.global,f)!==false?b.apply(e||Ext.global,f):c||null}},createDelayed:function(a,e,c,b,d){if(c||b)a=Ext.Function.bind(a,c,b,d);return function(){var c=this,b=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(c,b)},e)}},defer:function(a,b,e,d,c){a=Ext.Function.bind(a,e,d,c);if(b>0)return setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b);a();return 0},createSequence:function(a,b,c){return!b?a:function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}},createBuffered:function(e,b,d,c){var a;return function(){var g=c||Array.prototype.slice.call(arguments,0),f=d||this;a&&clearTimeout(a);a=setTimeout(function(){e.apply(f,g)},b)}},createThrottled:function(h,c,g){var b,a,d,f,e=function(){h.apply(g||this,d);b=(new Date).getTime()};return function(){a=(new Date).getTime()-b;d=arguments;clearTimeout(f);if(!b||a>=c)e();else f=setTimeout(e,c-a)}},interceptBefore:function(b,a,d,c){var e=b[a]||Ext.emptyFn;return b[a]=function(){var a=d.apply(c||this,arguments);e.apply(this,arguments);return a}},interceptAfter:function(b,a,d,c){var e=b[a]||Ext.emptyFn;return b[a]=function(){e.apply(this,arguments);return d.apply(c||this,arguments)}}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");(function(){var b=function(){},a=Ext.Object={chain:function(c){b.prototype=c;var a=new b;b.prototype=null;return a},toQueryObjects:function(e,c,g){var f=a.toQueryObjects,d=[],b,h;if(Ext.isArray(c))for(b=0,h=c.length;b<h;b++)if(g)d=d.concat(f(e+"["+b+"]",c[b],true));else d.push({name:e,value:c[b]});else if(Ext.isObject(c)){for(b in c)if(c.hasOwnProperty(b))if(g)d=d.concat(f(e+"["+b+"]",c[b],true));else d.push({name:e,value:c[b]})}else d.push({name:e,value:c});return d},toQueryString:function(g,j){var c=[],h=[],e,d,i,f,b;for(e in g)if(g.hasOwnProperty(e))c=c.concat(a.toQueryObjects(e,g[e],j));for(d=0,i=c.length;d<i;d++){f=c[d];b=f.value;if(Ext.isEmpty(b))b="";else if(Ext.isDate(b))b=Ext.Date.toString(b);h.push(encodeURIComponent(f.name)+"="+encodeURIComponent(String(b)))}return h.join("&")},fromQueryString:function(q,r){var o=q.replace(/^\?/,"").split("&"),e={},d,j,b,g,k,n,m,c,h,i,p,f,a,l;for(k=0,n=o.length;k<n;k++){m=o[k];if(m.length>0){j=m.split("=");b=decodeURIComponent(j[0]);g=j[1]!==undefined?decodeURIComponent(j[1]):"";if(!r)if(e.hasOwnProperty(b)){if(!Ext.isArray(e[b]))e[b]=[e[b]];e[b].push(g)}else e[b]=g;else{i=b.match(/(\[):?([^\]]*)\]/g);p=b.match(/^([^\[]+)/);b=p[0];f=[];if(i===null){e[b]=g;continue}for(c=0,h=i.length;c<h;c++){a=i[c];a=a.length===2?"":a.substring(1,a.length-1);f.push(a)}f.unshift(b);d=e;for(c=0,h=f.length;c<h;c++){a=f[c];if(c===h-1)if(Ext.isArray(d)&&a==="")d.push(g);else d[a]=g;else{if(d[a]===undefined||typeof d[a]==="string"){l=f[c+1];d[a]=Ext.isNumeric(l)||l===""?[]:{}}d=d[a]}}}}}return e},each:function(a,d,c){for(var b in a)if(a.hasOwnProperty(b))if(d.call(c||a,b,a[b],a)===false)return},merge:function(e){for(var g=1,j=arguments.length,h=a.merge,i=Ext.clone,f,c,b,d;g<j;g++){f=arguments[g];for(c in f){b=f[c];if(b&&b.constructor===Object){d=e[c];if(d&&d.constructor===Object)h(d,b);else e[c]=i(b)}else e[c]=b}}return e},mergeIf:function(c){for(var e=1,g=arguments.length,f=Ext.clone,d,a,b;e<g;e++){d=arguments[e];for(a in d)if(!(a in c)){b=d[a];if(b&&b.constructor===Object)c[a]=f(b);else c[a]=b}}return c},getKey:function(a,c){for(var b in a)if(a.hasOwnProperty(b)&&a[b]===c)return b;return null},getValues:function(a){var c=[],b;for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c},getKeys:typeof Object.keys=="function"?function(a){return!a?[]:Object.keys(a)}:function(b){var c=[],a;for(a in b)b.hasOwnProperty(a)&&c.push(a);return c},getSize:function(a){var b=0,c;for(c in a)if(a.hasOwnProperty(c))b++;return b},classify:function(c){var h=c,e=[],g={},f=function(){for(var a=0,c=e.length,b;a<c;a++){b=e[a];this[b]=new g[b]}},b,d;for(b in c)if(c.hasOwnProperty(b)){d=c[b];if(d&&d.constructor===Object){e.push(b);g[b]=a.classify(d)}}f.prototype=h;return f}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var b=Ext.Array.from(arguments),c="";if(typeof b[1]==="string"){c=b[1]+"&";b[1]=false}return c+a.toQueryString.apply(a,b)};Ext.urlDecode=function(){return a.fromQueryString.apply(a,arguments)}})();(function(){function b(b){var a=Array.prototype.slice.call(arguments,1);return b.replace(/\{(\d+)\}/g,function(c,b){return a[b]})}Ext.Date={now:Date.now||function(){return+new Date},toString:function(a){var b=Ext.String.leftPad;return a.getFullYear()+"-"+b(a.getMonth()+1,2,"0")+"-"+b(a.getDate(),2,"0")+"T"+b(a.getHours(),2,"0")+":"+b(a.getMinutes(),2,"0")+":"+b(a.getSeconds(),2,"0")},getElapsed:function(b,a){return Math.abs(b-(a||new Date))},useStrict:false,formatCodeToRegex:function(d,e){var c=a.parseCodes[d];if(c){c=typeof c=="function"?c():c;a.parseCodes[d]=c}return c?Ext.applyIf({c:c.c?b(c.c,e||"{0}"):c.c},c):{g:0,c:null,s:Ext.String.escapeRegex(d)}},parseFunctions:{MS:function(b){var c=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),a=(b||"").match(c);return a?new Date(((a[1]||"")+a[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(){var b=/(\\.)/g,a=/([gGhHisucUOPZ]|MS)/;return function(c){return a.test(c.replace(b,""))}}(),formatContainsDateInfo:function(){var b=/(\\.)/g,a=/([djzmnYycU]|MS)/;return function(c){return a.test(c.replace(b,""))}}(),unescapeFormat:function(){var a=/\\/gi;return function(b){return b.replace(a,"")}}(),formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var e,c,b,f,d;for(e="Y-m-dTH:i:sP",c=[],b=0,f=e.length;b<f;++b){d=e.charAt(b);c.push(d=="T"?"'T'":a.getFormatCode(d))}return c.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(c,h,i,g,e,f,d){g=g||0;e=e||0;f=f||0;d=d||0;var b=a.add(new Date(c<100?100:c,h-1,i,g,e,f,d),a.YEAR,c<100?c-100:0);return c==b.getFullYear()&&h==b.getMonth()+1&&i==b.getDate()&&g==b.getHours()&&e==b.getMinutes()&&f==b.getSeconds()&&d==b.getMilliseconds()},parse:function(e,b,c){var d=a.parseFunctions;d[b]==null&&a.createParser(b);return d[b](e,Ext.isDefined(c)?c:a.useStrict)},parseDate:function(c,d,b){return a.parse(c,d,b)},getFormatCode:function(c){var b=a.formatCodes[c];if(b){b=typeof b=="function"?b():b;a.formatCodes[c]=b}return b||"'"+Ext.String.escape(c)+"'"},createFormat:function(f){for(var e=[],b=false,c="",d=0;d<f.length;++d){c=f.charAt(d);if(!b&&c=="\\")b=true;else if(b){b=false;e.push("'"+Ext.String.escape(c)+"'")}else e.push(a.getFormatCode(c))}a.formatFunctions[f]=Ext.functionFactory("return "+e.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Ext.Date.defaults,","results = String(input).match(Ext.Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = Ext.Date.clearTime(new Date);","y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));","m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));","d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));","h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));","i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));","s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));","ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);","}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(j){for(var k=a.parseRegexes.length,m=1,f=[],i=[],g=false,e="",h=0,n=j.length,l=[],d;h<n;++h){e=j.charAt(h);if(!g&&e=="\\")g=true;else if(g){g=false;i.push(Ext.String.escape(e))}else{d=a.formatCodeToRegex(e,m);m+=d.g;i.push(d.s);if(d.g&&d.c)if(d.calcAtEnd)l.push(d.c);else f.push(d.c)}}f=f.concat(l);a.parseRegexes[k]=new RegExp("^"+i.join("")+"$","i");a.parseFunctions[j]=Ext.functionFactory("input","strict",b(c,k,f.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var c=[],b=0;b<7;c.push(a.getShortDayName(b)),++b);return{g:0,c:null,s:"(?:"+c.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+a.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+a.monthNames.join("|")+")"}},M:function(){for(var c=[],b=0;b<12;c.push(a.getShortMonthName(b)),++b);return Ext.applyIf({s:"("+c.join("|")+")"},a.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return a.formatCodeToRegex("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e=[],b=[a.formatCodeToRegex("Y",1),a.formatCodeToRegex("m",2),a.formatCodeToRegex("d",3),a.formatCodeToRegex("H",4),a.formatCodeToRegex("i",5),a.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",a.formatCodeToRegex("P",8).c,"}else{",a.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],c,d;for(c=0,d=b.length;c<d;++c)e.push(b[c].c);return{g:1,c:e.join(""),s:[b[0].s,"(?:","-",b[1].s,"(?:","-",b[2].s,"(?:","(?:T| )?",b[3].s,":",b[4].s,"(?::",b[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(b,c){return a.format(b,c)},isEqual:function(b,a){return b&&a?b.getTime()===a.getTime():!(b||a)},format:function(d,b){var c=a.formatFunctions;if(!Ext.isDate(d))return"";c[b]==null&&a.createFormat(b);return c[b].call(d)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(b,c){var a=b.getTimezoneOffset();return(a>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(a)/60),2,"0")+(c?":":"")+Ext.String.leftPad(Math.abs(a%60),2,"0")},getDayOfYear:function(c){var e=0,b=Ext.Date.clone(c),f=c.getMonth(),d;for(d=0,b.setDate(1),b.setMonth(0);d<f;b.setMonth(++d))e+=a.getDaysInMonth(b);return e+c.getDate()-1},getWeekOfYear:function(){var a=8.64e7,b=7*a;return function(c){var e=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,d=Math.floor(e/7),f=(new Date(d*b)).getUTCFullYear();return d-Math.floor(Date.UTC(f,0,7)/b)+1}}(),isLeapYear:function(b){var a=b.getFullYear();return!!((a&3)==0&&(a%100||a%400==0&&a))},getFirstDayOfMonth:function(b){var a=(b.getDay()-(b.getDate()-1))%7;return a<0?a+7:a},getLastDayOfMonth:function(b){return a.getLastDateOfMonth(b).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(b){return new Date(b.getFullYear(),b.getMonth(),a.getDaysInMonth(b))},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(d){var c=d.getMonth();return c==1&&a.isLeapYear(d)?29:b[c]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return(new Date(a.getFullYear(),0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(b,f){if(f)return Ext.Date.clearTime(Ext.Date.clone(b));var e=b.getDate(),c,d;b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);if(b.getDate()!=e){for(c=1,d=a.add(b,Ext.Date.HOUR,c);d.getDate()!=e;c++,d=a.add(b,Ext.Date.HOUR,c));b.setDate(e);b.setHours(d.getHours())}return b},add:function(d,e,c){var a=Ext.Date.clone(d),f=Ext.Date,b;if(!e||c===0)return a;switch(e.toLowerCase()){case Ext.Date.MILLI:a.setMilliseconds(a.getMilliseconds()+c);break;case Ext.Date.SECOND:a.setSeconds(a.getSeconds()+c);break;case Ext.Date.MINUTE:a.setMinutes(a.getMinutes()+c);break;case Ext.Date.HOUR:a.setHours(a.getHours()+c);break;case Ext.Date.DAY:a.setDate(a.getDate()+c);break;case Ext.Date.MONTH:b=d.getDate();if(b>28)b=Math.min(b,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(d),Ext.Date.MONTH,c)).getDate());a.setDate(b);a.setMonth(d.getMonth()+c);break;case Ext.Date.YEAR:b=d.getDate();if(b>28)b=Math.min(b,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(d),Ext.Date.YEAR,c)).getDate());a.setDate(b);a.setFullYear(d.getFullYear()+c)}return a},between:function(c,d,b){var a=c.getTime();return d.getTime()<=a&&a<=b.getTime()},compat:function(){for(var f=window.Date,b,k,h=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],g=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],j=h.length,i=g.length,c,d,e=0;e<j;e++){c=h[e];f[c]=a[c]}for(b=0;b<i;b++){d=g[b];f.prototype[d]=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a[d].apply(a,b)}}}};var a=Ext.Date})();(function(c){var b=[],a=function(){};Ext.apply(a,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(c){var f=c.prototype,g,a,b,h,d,e;a=this.prototype=Ext.Object.chain(f);a.self=this;this.superclass=a.superclass=f;if(!c.$isClass){g=Ext.Base.prototype;for(b in g)if(b in a)a[b]=g[b]}e=f.$inheritableStatics;if(e)for(b=0,h=e.length;b<h;b++){d=e[b];if(!this.hasOwnProperty(d))this[d]=c[d]}if(c.$onExtended)this.$onExtended=c.$onExtended.slice();a.config=new a.configClass;a.initConfigList=a.initConfigList.slice();a.initConfigMap=Ext.clone(a.initConfigMap);a.configMap=Ext.Object.chain(a.configMap)},$onExtended:[],triggerExtended:function(){var d=this.$onExtended,c=d.length,a,b;if(c>0)for(a=0;a<c;a++){b=d[a];b.fn.apply(b.scope||this,arguments)}},onExtended:function(b,a){this.$onExtended.push({fn:b,scope:a});return this},addConfig:function(c,j){var b=this.prototype,k=Ext.Class.configNameCache,g=b.configMap,i=b.initConfigList,f=b.initConfigMap,d=b.config,e,a,h;for(a in c)if(c.hasOwnProperty(a)){if(!g[a])g[a]=true;h=c[a];e=k[a].initialized;if(!f[a]&&h!==null&&!b[e]){f[a]=true;i.push(a)}}if(j)Ext.merge(d,c);else Ext.mergeIf(d,c);b.configClass=Ext.Object.classify(d)},addStatics:function(b){var c,a;for(a in b)if(b.hasOwnProperty(a)){c=b[a];this[a]=c}return this},addInheritableStatics:function(e){var d,b,c=this.prototype,a,f;d=c.$inheritableStatics;b=c.$hasInheritableStatics;if(!d){d=c.$inheritableStatics=[];b=c.$hasInheritableStatics={}}for(a in e)if(e.hasOwnProperty(a)){f=e[a];this[a]=f;if(!b[a]){b[a]=true;d.push(a)}}return this},addMembers:function(e){var h=this.prototype,f=Ext.enumerables,c=[],d,g,a,b;for(a in e)c.push(a);f&&c.push.apply(c,f);for(d=0,g=c.length;d<g;d++){a=c[d];if(e.hasOwnProperty(a)){b=e[a];if(typeof b=="function"&&!b.$isClass&&b!==Ext.emptyFn){b.$owner=this;b.$name=a}h[a]=b}}return this},addMember:function(b,a){if(typeof a=="function"&&!a.$isClass&&a!==Ext.emptyFn){a.$owner=this;a.$name=b}this.prototype[b]=a;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(h,c){var g=this.prototype,i=h.prototype,d,f,a,e,b;c=Ext.Array.from(c);for(d=0,f=c.length;d<f;d++){a=c[d];b=i[a];if(typeof b=="function"){e=Ext.Function.clone(b);e.$owner=this;e.$name=a;g[a]=e}else g[a]=b}return this},override:function(c){var e=this,j=Ext.enumerables,h=e.prototype,k=Ext.Function.clone,a,g,b,i,d,f;if(arguments.length===2){a=c;c={};c[a]=arguments[1];j=null}do{d=[];i=null;for(a in c)if(a=="statics")i=c[a];else if(a=="config")e.addConfig(c[a],true);else d.push(a);j&&d.push.apply(d,j);for(g=d.length;g--;){a=d[g];if(c.hasOwnProperty(a)){b=c[a];if(typeof b=="function"&&!b.$className&&b!==Ext.emptyFn){if(typeof b.$owner!="undefined")b=k(b);b.$owner=e;b.$name=a;f=h[a];if(f)b.$previous=f}h[a]=b}}h=e;c=i}while(c);return this},callParent:function(c){var a;return(a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass.$class[a.$name]).apply(this,c||b)},mixin:function(e,d){var b=d.prototype,a=this.prototype,c;typeof b.onClassMixedIn!="undefined"&&b.onClassMixedIn.call(d,this);if(!a.hasOwnProperty("mixins"))if("mixins"in a)a.mixins=Ext.Object.chain(a.mixins);else a.mixins={};for(c in b)if(c==="mixins")Ext.merge(a.mixins,b[c]);else if(typeof a[c]=="undefined"&&c!="mixinId"&&c!="config")a[c]=b[c];"config"in b&&this.addConfig(b.config,false);a.mixins[e]=b},getName:function(){return Ext.getClassName(this)},createAlias:c(function(b,a){this.override(b,function(){return this[a].apply(this,arguments)})}),addXtype:function(b){var a=this.prototype,c=a.xtypesMap,e=a.xtypes,d=a.xtypesChain;if(!a.hasOwnProperty("xtypesMap")){c=a.xtypesMap=Ext.merge({},a.xtypesMap||{});e=a.xtypes=a.xtypes?[].concat(a.xtypes):[];d=a.xtypesChain=a.xtypesChain?[].concat(a.xtypesChain):[];a.xtype=b}if(!c[b]){c[b]=true;e.push(b);d.push(b);Ext.ClassManager.setAlias(this,"widget."+b)}return this}});a.implement({isInstance:true,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var a=this.statics.caller,b=this.self;return!a?b:a.$owner},callParent:function(d){var a,c=(a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return c.apply(this,d||b)},self:a,constructor:function(){return this},initConfig:function(d){var b=d,i=Ext.Class.configNameCache,h=new this.configClass,c=this.initConfigList,k=this.configMap,g,e,j,a,f;this.initConfig=Ext.emptyFn;this.initialConfig=b||{};this.config=d=b?Ext.merge(h,d):h;if(b){c=c.slice();for(a in b)if(k[a])if(b[a]!==null){c.push(a);this[i[a].initialized]=false}}for(e=0,j=c.length;e<j;e++){a=c[e];g=i[a];f=g.initialized;if(!this[f]){this[f]=true;this[g.set].call(this,d[a])}}return this},hasConfig:function(a){return Boolean(this.configMap[a])},setConfig:function(b,d){if(!b)return this;var f=Ext.Class.configNameCache,e=this.config,h=this.configMap,g=this.initialConfig,a,c;d=Boolean(d);for(a in b){if(d&&g.hasOwnProperty(a))continue;c=b[a];e[a]=c;h[a]&&this[f[a].set](c)}return this},getConfig:function(b){var a=Ext.Class.configNameCache;return this[a[b].get]()},getInitialConfig:function(b){var a=this.config;return!b?a:a[b]},onConfigUpdate:function(d,i,e){var j=this.self,b,g,f,c,h,a;d=Ext.Array.from(d);e=e||this;for(b=0,g=d.length;b<g;b++){f=d[b];c="update"+Ext.String.capitalize(f);h=this[c]||Ext.emptyFn;a=function(){h.apply(this,arguments);e[i].apply(e,arguments)};a.$name=c;a.$owner=j;this[c]=a}},destroy:function(){this.destroy=Ext.emptyFn}});a.prototype.callOverridden=a.prototype.callParent;Ext.Base=a})(Ext.Function.flexSetter);(function(){var a,b=Ext.Base,d=[],c,e;for(c in b)b.hasOwnProperty(c)&&d.push(c);e=d.length;function f(){function a(){return this.constructor.apply(this,arguments)||null}return a}Ext.Class=a=function(b,c,d){if(typeof b!="function"){d=c;c=b;b=null}if(!c)c={};b=a.create(b,c);a.process(b,c,d);return b};Ext.apply(a,{onBeforeCreated:function(a,c,b){a.addMembers(c);b.onCreated.call(a,a)},create:function(a){var g,c;if(!a)a=f();for(c=0;c<e;c++){g=d[c];a[g]=b[g]}return a},process:function(n,f,j){var i=f.preprocessors||a.defaultPreprocessors,o=this.preprocessors,h={onBeforeCreated:this.onBeforeCreated},g=[],b,c,e,m,d,l,k,p;delete f.preprocessors;for(e=0,m=i.length;e<m;e++){b=i[e];if(typeof b=="string"){b=o[b];c=b.properties;if(c===true)g.push(b.fn);else if(c)for(d=0,l=c.length;d<l;d++){k=c[d];if(f.hasOwnProperty(k)){g.push(b.fn);break}}}else g.push(b)}h.onCreated=j?j:Ext.emptyFn;h.preprocessors=g;this.doProcess(n,f,h)},doProcess:function(c,e,a){var b=this,d=a.preprocessors.shift();if(!d){a.onBeforeCreated.apply(b,arguments);return}d.call(b,c,e,a,b.doProcess)!==false&&b.doProcess(c,e,a)},preprocessors:{},registerPreprocessor:function(a,e,c,b,d){if(!b)b="last";if(!c)c=[a];this.preprocessors[a]={name:a,properties:c||false,fn:e};this.setDefaultPreprocessorPosition(a,b,d);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(d,a,e){var b=this.defaultPreprocessors,c;if(typeof a=="string"){if(a==="first"){b.unshift(d);return this}else if(a==="last"){b.push(d);return this}a=a==="after"?1:-1}c=Ext.Array.indexOf(b,e);c!==-1&&Ext.Array.splice(b,Math.max(0,c+a),0,d);return this},configNameCache:{},getConfigNameMap:function(b){var d=this.configNameCache,c=d[b],a;if(!c){a=b.charAt(0).toUpperCase()+b.substr(1);c=d[b]={"internal":b,initialized:"_is"+a+"Initialized",apply:"apply"+a,update:"update"+a,"set":"set"+a,"get":"get"+a,doSet:"doSet"+a,changeEvent:b.toLowerCase()+"change"}}return c}});a.registerPreprocessor("extend",function(a,c){var g=Ext.Base,h=g.prototype,f=c.extend,b,e,d;delete c.extend;if(f&&f!==Object)b=f;else b=g;e=b.prototype;if(!b.$isClass)for(d in h)if(!e[d])e[d]=h[d];a.extend(b);a.triggerExtended.apply(a,arguments);if(c.onClassExtended){a.onExtended(c.onClassExtended,a);delete c.onClassExtended}},true);a.registerPreprocessor("statics",function(b,a){b.addStatics(a.statics);delete a.statics});a.registerPreprocessor("inheritableStatics",function(b,a){b.addInheritableStatics(a.inheritableStatics);delete a.inheritableStatics});a.registerPreprocessor("config",function(d,b){var e=b.config,c=d.prototype;delete b.config;Ext.Object.each(e,function(m,n){var f=a.getConfigNameMap(m),h=f.internal,d=f.initialized,l=f.apply,j=f.update,i=f.set,e=f.get,o=i in c||b.hasOwnProperty(i),p=l in c||b.hasOwnProperty(l),q=j in c||b.hasOwnProperty(j),g,k;if(n===null||!o&&!p&&!q){c[h]=n;c[d]=true}else c[d]=false;if(!o)b[i]=function(a){var b=this[h],e=this[l],c=this[j];if(!this[d])this[d]=true;if(e)a=e.call(this,a,b);if(typeof a!="undefined"){this[h]=a;c&&a!==b&&c.call(this,a,b)}return this};if(!(e in c)||b.hasOwnProperty(e)){k=b[e]||false;if(k)g=function(){return k.apply(this,arguments)};else g=function(){return this[h]};b[e]=function(){var a;if(!this[d]){this[d]=true;this[i](this.config[m])}a=this[e];if("$previous"in a)a.$previous=g;else this[e]=g;return g.apply(this,arguments)}}});d.addConfig(e,true)});a.registerPreprocessor("mixins",function(d,g,h){var a=g.mixins,e,b,c,f;delete g.mixins;Ext.Function.interceptBefore(h,"onCreated",function(){if(a instanceof Array)for(c=0,f=a.length;c<f;c++){b=a[c];e=b.prototype.mixinId||b.$className;d.mixin(e,b)}else for(var g in a)a.hasOwnProperty(g)&&d.mixin(g,a[g])})});Ext.extend=function(e,c,b){if(arguments.length===2&&Ext.isObject(c)){b=c;c=e;e=null}var d;if(!c)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");b.extend=c;b.preprocessors=["extend","statics","inheritableStatics","mixins","config"];if(e)d=new a(e,b);else d=new a(b);d.prototype.override=function(b){for(var a in b)if(b.hasOwnProperty(a))this[a]=b[a]};return d}})();(function(e,b,f,d,c){var a=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(d){var g=this.existCache,e,h,b,a,f;if(this.classes[d]||g[d])return true;a=c;f=this.parseNamespace(d);for(e=0,h=f.length;e<h;e++){b=f[e];if(typeof b!="string")a=b;else{if(!a||!a[b])return false;a=a[b]}}g[d]=true;this.triggerCreated(d);return true},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(h){var c=this.createdListeners,i=this.nameCreatedListeners,j=this.maps.nameToAlternates[h],g=[h],a,f,e,k,b,d;for(a=0,f=c.length;a<f;a++){b=c[a];b.fn.call(b.scope,h)}j&&g.push.apply(g,j);for(a=0,f=g.length;a<f;a++){d=g[a];c=i[d];if(c){for(e=0,k=c.length;e<k;e++){b=c[e];b.fn.call(b.scope,d)}delete i[d]}}},onCreated:function(d,c,a){var f=this.createdListeners,b=this.nameCreatedListeners,e={fn:d,scope:c};if(a){if(this.isCreated(a)){d.call(c,a);return}if(!b[a])b[a]=[];b[a].push(e)}else f.push(e)},parseNamespace:function(e){var h=this.namespaceParseCache,a,i,j,b,k,d,g,f,l;if(this.enableNamespaceParseCache)if(h.hasOwnProperty(e))return h[e];a=[];i=this.namespaceRewrites;j=c;b=e;for(f=0,l=i.length;f<l;f++){k=i[f];d=k.from;g=k.to;if(b===d||b.substring(0,d.length)===d){b=b.substring(d.length);if(typeof g!="string")j=g;else a=a.concat(g.split("."));break}}a.push(j);a=a.concat(b.split("."));if(this.enableNamespaceParseCache)h[e]=a;return a},setNamespace:function(h,i){for(var a=c,e=this.parseNamespace(h),g=e.length-1,f=e[g],b,d=0;d<g;d++){b=e[d];if(typeof b!="string")a=b;else{if(!a[b])a[b]={};a=a[b]}}a[f]=i;return a[f]},createNamespaces:function(){var a=c,f,b,e,d,g,h;for(e=0,g=arguments.length;e<g;e++){f=this.parseNamespace(arguments[e]);for(d=0,h=f.length;d<h;d++){b=f[d];if(typeof b!="string")a=b;else{if(!a[b])a[b]={};a=a[b]}}}return a},"set":function(a,e){var c=this,g=c.maps,f=g.nameToAlternates,b=c.getName(e),d;c.classes[a]=c.setNamespace(a,e);if(b&&b!==a){g.alternateToName[a]=b;d=f[b]||(f[b]=[]);d.push(a)}return this},"get":function(e){var g=this.classes,a,f,b,d,h;if(g[e])return g[e];a=c;f=this.parseNamespace(e);for(d=0,h=f.length;d<h;d++){b=f[d];if(typeof b!="string")a=b;else{if(!a||!a[b])return null;a=a[b]}}return a},setAlias:function(c,b){var e=this.maps.aliasToName,d=this.maps.nameToAliases,a;if(typeof c=="string")a=c;else a=this.getName(c);if(b&&e[b]!==a)e[b]=a;if(!d[a])d[a]=[];b&&Ext.Array.include(d[a],b);return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getNameByAlias:function(a){return this.maps.aliasToName[a]||""},getNameByAlternate:function(a){return this.maps.alternateToName[a]||""},getAliasesByName:function(a){return this.maps.nameToAliases[a]||[]},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(c,b,d){b.$className=c;return new e(b,function(){var j=b.postprocessors||a.defaultPostprocessors,n=a.postprocessors,i=[],e,h,l,g,k,f,m;delete b.postprocessors;for(h=0,l=j.length;h<l;h++){e=j[h];if(typeof e=="string"){e=n[e];f=e.properties;if(f===true)i.push(e.fn);else if(f)for(g=0,k=f.length;g<k;g++){m=f[g];if(b.hasOwnProperty(m)){i.push(e.fn);break}}}else i.push(e)}b.postprocessors=i;b.createdFn=d;a.processCreate(c,this,b)})},processCreate:function(c,a,d){var b=this,e=d.postprocessors.shift(),f=d.createdFn;if(!e){b.set(c,a);f&&f.call(a,a);b.triggerCreated(c);return}e.call(b,c,a,d,b.processCreate)!==false&&b.processCreate(c,a,d)},createOverride:function(f,a,e){var b=this,h=a.override,c=a.requires,d=a.uses,g=function(){var i,j;if(c){j=c;c=null;Ext.Loader.require(j,g)}else{i=b.get(h);delete a.override;delete a.requires;delete a.uses;Ext.override(i,a);b.triggerCreated(f);d&&Ext.Loader.addUsedClasses(d);e&&e.call(i)}};b.existCache[f]=true;b.onCreated(g,b,h);return b},instantiateByAlias:function(){var c=arguments[0],b=f.call(arguments),a=this.getNameByAlias(c);if(!a){a=this.maps.aliasToName[c];Ext.syncRequire(a)}b[0]=a;return this.instantiate.apply(this,b)},instantiate:function(){var a=arguments[0],e=typeof a,d=f.call(arguments,1),g=a,c,b;if(e!="function"){if(e!="string"&&d.length===0){d=[a];a=a.xclass}b=this.get(a)}else b=a;if(!b){c=this.getNameByAlias(a);if(c){a=c;b=this.get(a)}}if(!b){c=this.getNameByAlternate(a);if(c){a=c;b=this.get(a)}}if(!b){Ext.syncRequire(a);b=this.get(a)}return this.getInstantiator(d.length)(b,d)},dynInstantiate:function(b,a){a=d(a,true);a.unshift(b);return this.instantiate.apply(this,a)},getInstantiator:function(b){var e=this.instantiators,c,a,d;c=e[b];if(!c){a=b;d=[];for(a=0;a<b;a++)d.push("a["+a+"]");c=e[b]=new Function("c","a","return new c("+d.join(",")+")")}return c},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,e,c,b,d){if(!b)b="last";if(!c)c=[a];this.postprocessors[a]={name:a,properties:c||false,fn:e};this.setDefaultPostprocessorPosition(a,b,d);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=d(a);return this},setDefaultPostprocessorPosition:function(d,a,e){var b=this.defaultPostprocessors,c;if(typeof a=="string"){if(a==="first"){b.unshift(d);return this}else if(a==="last"){b.push(d);return this}a=a==="after"?1:-1}c=Ext.Array.indexOf(b,e);c!==-1&&Ext.Array.splice(b,Math.max(0,c+a),0,d);return this},getNamesByExpression:function(a){var g=this.maps.nameToAliases,d=[],b,i,f,c,h,e,j;if(a.indexOf("*")!==-1){a=a.replace(/\*/g,"(.*?)");h=new RegExp("^"+a+"$");for(b in g)if(g.hasOwnProperty(b)){f=g[b];if(b.search(h)!==-1)d.push(b);else for(e=0,j=f.length;e<j;e++){i=f[e];if(i.search(h)!==-1){d.push(b);break}}}}else{c=this.getNameByAlias(a);if(c)d.push(c);else{c=this.getNameByAlternate(a);if(c)d.push(c);else d.push(a)}}return d}};a.registerPostprocessor("alias",function(g,e,f){var c=f.alias,a,d;for(a=0,d=c.length;a<d;a++){b=c[a];this.setAlias(e,b)}},["xtype","alias"]);a.registerPostprocessor("singleton",function(b,a,d,c){c.call(this,b,new a,d);return false});a.registerPostprocessor("alternateClassName",function(g,e,f){var a=f.alternateClassName,b,c,d;if(!(a instanceof Array))a=[a];for(b=0,c=a.length;b<c;b++){d=a[b];this.set(d,e)}});Ext.apply(Ext,{create:b(a,"instantiate"),widget:function(g,b){var f=g,d,e,c,h;if(typeof f!="string"){b=g;f=b.xtype}else b=b||{};if(b.isComponent)return b;d="widget."+f;e=a.getNameByAlias(d);if(!e)h=true;c=a.get(e);return h||!c?a.instantiateByAlias(d,b):new c(b)},createByAlias:b(a,"instantiateByAlias"),define:function(d,b){return b.override?a.createOverride.apply(a,arguments):a.create.apply(a,arguments)},getClassName:b(a,"getName"),getDisplayName:function(a){if(a){if(a.displayName)return a.displayName;if(a.$name&&a.$class)return Ext.getClassName(a.$class)+"#"+a.$name;if(a.$className)return a.$className}return"Anonymous"},getClass:b(a,"getClass"),"namespace":b(a,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;e.registerPreprocessor("className",function(b,a){if(a.$className)b.$className=a.$className},true,"first");e.registerPreprocessor("alias",function(n,e){var k=n.prototype,c=d(e.xtype),h=d(e.alias),l="widget.",m=l.length,i=Array.prototype.slice.call(k.xtypesChain||[]),g=Ext.merge({},k.xtypesMap||{}),a,f,j,b;for(a=0,f=h.length;a<f;a++){j=h[a];if(j.substring(0,m)===l){b=j.substring(m);Ext.Array.include(c,b)}}n.xtype=e.xtype=c[0];e.xtypes=c;for(a=0,f=c.length;a<f;a++){b=c[a];if(!g[b]){g[b]=true;i.push(b)}}e.xtypesChain=i;e.xtypesMap=g;Ext.Function.interceptAfter(e,"onClassCreated",function(){var d=k.mixins,e,h;for(e in d)if(d.hasOwnProperty(e)){h=d[e];c=h.xtypes;if(c)for(a=0,f=c.length;a<f;a++){b=c[a];if(!g[b]){g[b]=true;i.push(b)}}}});for(a=0,f=c.length;a<f;a++){b=c[a];Ext.Array.include(h,l+b)}e.alias=h},["xtype","alias"])})(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);Ext.Loader=new function(){var a=this,b=Ext.ClassManager,u=Ext.Class,r=Ext.Function.flexSetter,i=Ext.Function.alias,l=Ext.Function.pass,m=Ext.Function.defer,n=Ext.Array.erase,g=["extend","mixins","requires"],k={},o=[],q=/\/\.\//g,s=/\./g;Ext.apply(a,{isInHistory:k,history:o,config:{enabled:false,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",garbageCollect:false,paths:{Ext:"."},preserveScripts:true,scriptCharset:undefined},setConfig:function(b,c){if(Ext.isObject(b)&&arguments.length===1)Ext.merge(a.config,b);else a.config[b]=Ext.isObject(c)?Ext.merge(a.config[b],c):c;return a},getConfig:function(b){return b?a.config[b]:a.config},setPath:r(function(b,c){a.config.paths[b]=c;return a}),getPath:function(b){var d="",e=a.config.paths,c=a.getPrefix(b);if(c.length>0){if(c===b)return e[c];d=e[c];b=b.substring(c.length+1)}if(d.length>0)d+="/";return d.replace(q,"/")+b.replace(s,"/")+".js"},getPrefix:function(d){var e=a.config.paths,b,c="";if(e.hasOwnProperty(d))return d;for(b in e)if(e.hasOwnProperty(b)&&b+"."===d.substring(0,b.length+1))if(b.length>c.length)c=b;return c},isAClassNameWithAKnownPrefix:function(b){var c=a.getPrefix(b);return c!==""&&c!==b},"require":function(c,a,b){a&&a.call(b)},syncRequire:function(){},exclude:function(b){return{"require":function(e,d,c){return a.require(e,d,c,b)},syncRequire:function(e,d,c){return a.syncRequire(e,d,c,b)}}},onReady:function(a,c,d,e){var b;if(d!==false&&Ext.onDocumentReady){b=a;a=function(){Ext.onDocumentReady(b,c,e)}}a.call(c)}});var e=[],c={},j={},p={},d={},h=[],f=[],t={};Ext.apply(a,{documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:false,queue:e,isClassFileLoaded:c,isFileLoaded:j,readyListeners:h,optionalRequires:f,requiresMap:t,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:false,classNameToFilePathMap:p,scriptsLoading:0,syncModeEnabled:false,scriptElements:d,refreshQueue:function(){var h=e.length,f,c,d,g;if(!h&&!a.scriptsLoading)return a.triggerReady();for(f=0;f<h;f++){c=e[f];if(c){g=c.requires;if(g.length>a.numLoadedFiles)continue;for(d=0;d<g.length;)if(b.isCreated(g[d]))n(g,d,1);else d++;if(c.requires.length===0){n(e,f,1);c.callback.call(c.scope);a.refreshQueue();break}}}return a},injectScriptElement:function(j,h,i,f,d){var b=document.createElement("script"),g=false,c=a.config,e=function(){if(!g){g=true;b.onload=b.onreadystatechange=b.onerror=null;if(typeof c.scriptChainDelay=="number")m(h,c.scriptChainDelay,f);else h.call(f);a.cleanupScriptElement(b,c.preserveScripts===false,c.garbageCollect)}},k=function(){m(i,1,f);a.cleanupScriptElement(b,c.preserveScripts===false,c.garbageCollect)};b.type="text/javascript";b.onerror=k;d=d||c.scriptCharset;if(d)b.charset=d;if("addEventListener"in b)b.onload=e;else if("readyState"in b)b.onreadystatechange=function(){(this.readyState=="loaded"||this.readyState=="complete")&&e()};else b.onload=e;b.src=j;(a.documentHead||document.getElementsByTagName("head")[0]).appendChild(b);return b},removeScriptElement:function(b){if(d[b]){a.cleanupScriptElement(d[b],true,!!a.getConfig("garbageCollect"));delete d[b]}return a},cleanupScriptElement:function(b,d,e){var c;b.onload=b.onreadystatechange=b.onerror=null;if(d){Ext.removeNode(b);if(e)for(c in b)try{b[c]=null;delete b[c]}catch(f){}}return a},loadScript:function(b){var j=a.getConfig(),e=typeof b=="string",c=e?b:b.url,f=!e&&b.onError,g=!e&&b.onLoad,h=!e&&b.scope,l=function(){a.numPendingFiles--;a.scriptsLoading--;f&&f.call(h,"Failed loading '"+c+"', please verify that the file exists");a.numPendingFiles+a.scriptsLoading===0&&a.refreshQueue()},k=function(){a.numPendingFiles--;a.scriptsLoading--;g&&g.call(h);a.numPendingFiles+a.scriptsLoading===0&&a.refreshQueue()},i;a.isLoading=true;a.numPendingFiles++;a.scriptsLoading++;i=j.disableCaching?c+"?"+j.disableCachingParam+"="+Ext.Date.now():c;d[c]=a.injectScriptElement(i,k,l)},loadScriptFile:function(f,h,n,e,m){if(j[f])return a;var l=a.getConfig(),k=f+(l.disableCaching?"?"+l.disableCachingParam+"="+Ext.Date.now():""),g=false,b,c,i;e=e||a;a.isLoading=true;if(!m){i=function(){};d[f]=a.injectScriptElement(k,h,i,e)}else{if(typeof XMLHttpRequest!="undefined")b=new XMLHttpRequest;else b=new ActiveXObject("Microsoft.XMLHTTP");try{b.open("GET",k,false);b.send(null)}catch(o){g=true}c=b.status===1223?204:b.status===0&&(self.location||{}).protocol=="file:"?200:b.status;g=g||c===0;if(!g)if(c>=200&&c<300||c===304){Ext.globalEval(b.responseText+"\n//@ sourceURL="+f);h.call(e)}b=null}},syncRequire:function(){var b=a.syncModeEnabled;if(!b)a.syncModeEnabled=true;a.require.apply(a,arguments);if(!b)a.syncModeEnabled=false;a.refreshQueue()},"require":function(m,t,r,h){var z={},A={},w=[],x=[],k=[],y=[],n,q,o,u,v,f,j,d,g,i,s;if(h){h=typeof h==="string"?[h]:h;for(d=0,i=h.length;d<i;d++){v=h[d];if(typeof v=="string"&&v.length>0){w=b.getNamesByExpression(v);for(g=0,s=w.length;g<s;g++)z[w[g]]=true}}}m=typeof m==="string"?[m]:m?m:[];if(t)if(t.length>0)n=function(){var c=[],a,d;for(a=0,d=y.length;a<d;a++)c.push(b.get(y[a]));return t.apply(this,c)};else n=t;else n=Ext.emptyFn;r=r||Ext.global;for(d=0,i=m.length;d<i;d++){u=m[d];if(typeof u=="string"&&u.length>0){x=b.getNamesByExpression(u);s=x.length;for(g=0;g<s;g++){j=x[g];if(z[j]!==true){y.push(j);if(!b.isCreated(j)&&!A[j]){A[j]=true;k.push(j)}}}}}if(k.length>0){if(!a.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(k.length>1?"es":"")+": "+k.join(", "));}else{n.call(r);return a}q=a.syncModeEnabled;!q&&e.push({requires:k.slice(),callback:n,scope:r});i=k.length;for(d=0;d<i;d++){f=k[d];o=a.getPath(f);if(q&&c.hasOwnProperty(f)){a.numPendingFiles--;a.removeScriptElement(o);delete c[f]}if(!c.hasOwnProperty(f)){c[f]=false;p[f]=o;a.numPendingFiles++;a.loadScriptFile(o,l(a.onFileLoaded,[f,o],a),l(a.onFileLoadError,[f,o],a),a,q)}}if(q){n.call(r);if(i===1)return b.get(f)}return a},onFileLoaded:function(d,b){a.numLoadedFiles++;c[d]=true;j[b]=true;a.numPendingFiles--;a.numPendingFiles===0&&a.refreshQueue()},onFileLoadError:function(){a.numPendingFiles--;a.hasFileLoadError=true},addUsedClasses:function(b){var c,d,e;if(b){b=typeof b=="string"?[b]:b;for(d=0,e=b.length;d<e;d++){c=b[d];typeof c=="string"&&!Ext.Array.contains(f,c)&&f.push(c)}}return a},triggerReady:function(){var c,d,b=f;if(a.isLoading){a.isLoading=false;if(b.length!==0){b=b.slice();f.length=0;a.require(b,a.triggerReady,a);return a}}while(h.length&&!a.isLoading){c=h.shift();c.fn.call(c.scope)}return a},onReady:function(b,c,e,f){var d;if(e!==false&&Ext.onDocumentReady){d=b;b=function(){Ext.onDocumentReady(d,c,f)}}if(!a.isLoading)b.call(c);else h.push({fn:b,scope:c})},historyPush:function(b){if(b&&c.hasOwnProperty(b)&&!k[b]){k[b]=true;o.push(b)}return a}});Ext.disableCacheBuster=function(b,c){var a=new Date;a.setTime(a.getTime()+(b?10*365:-1)*24*60*60*1e3);a=a.toGMTString();document.cookie="ext-cache=1; expires="+a+"; path="+(c||"/")};Ext.require=i(a,"require");Ext.syncRequire=i(a,"syncRequire");Ext.exclude=i(a,"exclude");Ext.onReady=function(d,c,b){a.onReady(d,c,true,b)};u.registerPreprocessor("loader",function(m,h,p,o){var n=this,j=[],t,r=b.getName(m),i,e,l,k,d,f,c,s,q;for(i=0,l=g.length;i<l;i++){f=g[i];if(h.hasOwnProperty(f)){c=h[f];if(typeof c=="string")j.push(c);else if(c instanceof Array)for(e=0,k=c.length;e<k;e++){d=c[e];typeof d=="string"&&j.push(d)}else if(typeof c!="function")for(e in c)if(c.hasOwnProperty(e)){d=c[e];typeof d=="string"&&j.push(d)}}}if(j.length===0)return;a.require(j,function(){for(i=0,l=g.length;i<l;i++){f=g[i];if(h.hasOwnProperty(f)){c=h[f];if(typeof c=="string")h[f]=b.get(c);else if(c instanceof Array)for(e=0,k=c.length;e<k;e++){d=c[e];if(typeof d=="string")h[f][e]=b.get(d)}else if(typeof c!="function")for(var a in c)if(c.hasOwnProperty(a)){d=c[a];if(typeof d=="string")h[f][a]=b.get(d)}}}o.call(n,m,h,p)});return false},true,"after","className");b.registerPostprocessor("uses",function(e,d,c){var b=c.uses;b&&a.addUsedClasses(b)});b.onCreated(a.historyPush)};Ext.Error=Ext.extend(Error,{statics:{ignore:false,raise:function(a){a=a||{};if(Ext.isString(a))a={msg:a};var b=this.raise.caller,c;if(b){if(b.$name)a.sourceMethod=b.$name;if(b.$owner)a.sourceClass=b.$owner.$className}if(Ext.Error.handle(a)!==true){c=Ext.Error.prototype.toString.call(a);Ext.log({msg:c,level:"error",dump:a,stack:true});throw new Ext.Error(a);}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){if(Ext.isString(a))a={msg:a};var b=this;Ext.apply(b,a);b.message=b.message||b.msg},toString:function(){var a=this,c=a.sourceClass?a.sourceClass:"",b=a.sourceMethod?"."+a.sourceMethod+"(): ":"",d=a.msg||"(No description provided)";return c+b+d}});Ext.deprecated=function(){return Ext.emptyFn};Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){if(useNative===null)useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]";return useNative},pad=function(a){return a<10?"0"+a:a},doDecode=function(json){return eval("("+json+")")},doEncode=function(a,b){return a===null||a===undefined?"null":Ext.isDate(a)?Ext.JSON.encodeDate(a):Ext.isString(a)?encodeString(a):typeof a=="number"?isFinite(a)?String(a):"null":Ext.isBoolean(a)?String(a):a.toJSON?a.toJSON():Ext.isArray(a)?encodeArray(a,b):Ext.isObject(a)?encodeObject(a,b):typeof a==="function"?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\13":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(a){return'"'+a.replace(charToReplace,function(a){var b=m[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(c){for(var a=["[",""],d=c.length,b=0;b<d;b+=1)a.push(doEncode(c[b]),",");a[a.length-1]="]";return a.join("")},encodeObject=function(c){var a=["{",""],b;for(b in c)(!useHasOwn||c.hasOwnProperty(b))&&a.push(doEncode(b),":",doEncode(c[b]),",");a[a.length-1]="}";return a.join("")};me.encodeValue=doEncode;me.encodeDate=function(a){return'"'+a.getFullYear()+"-"+pad(a.getMonth()+1)+"-"+pad(a.getDate())+"T"+pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds())+'"'};me.encode=function(a){if(!encodingFunction)encodingFunction=isNative()?JSON.stringify:me.encodeValue;return encodingFunction(a)};me.decode=function(a,b){if(!decodingFunction)decodingFunction=isNative()?JSON.parse:doDecode;try{return decodingFunction(a)}catch(c){if(b===true)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}}};Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:false,enableGarbageCollector:true,enableListenerCollection:true,addCacheEntry:function(e,a,b){b=b||a.dom;var d=e||a&&a.id||b.id,c=Ext.cache[d]||(Ext.cache[d]={data:{},events:{},dom:b,skipGarbageCollection:!!(b.getElementById||b.navigator)});if(a){a.$cache=c;c.el=a}return c},id:function(a,d){var b=this,c="";a=Ext.getDom(a,true)||{};if(a===document)a.id=b.documentId;else if(a===window)a.id=b.windowId;if(!a.id){if(b.isSandboxed)c=Ext.sandboxName.toLowerCase()+"-";a.id=c+(d||"ext-gen")+ ++Ext.idSeed}return a.id},escapeId:function(){var c=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,d=/([\W]{1})/g,b=/^(\d)/g,a=function(b,a){return"\\"+a},e=function(b,a){return"\\00"+a.charCodeAt(0).toString(16)+" "};return function(f){return c.test(f)?f:f.replace(d,a).replace(b,e)}}(),getBody:function(){var a;return function(){return a||(a=Ext.get(document.body))}}(),getHead:function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var a;return function(){return a||(a=Ext.get(document))}}(),getCmp:function(a){return Ext.ComponentManager.get(a)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){for(var c=arguments.length,a,b=0;b<c;b++){a=arguments[b];if(a)if(Ext.isArray(a))this.destroy.apply(this,a);else if(Ext.isFunction(a.destroy))a.destroy();else a.dom&&a.remove()}},callback:function(c,b,a,d){if(Ext.isFunction(c)){a=a||[];b=b||window;if(d)Ext.defer(c,d,b,a);else c.apply(b,a)}},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;(function(){var a=function(a){return a.test(Ext.userAgent)},r=document.compatMode=="CSS1Compat",f=function(c,b){var a;return c&&(a=b.exec(Ext.userAgent))?parseFloat(a[1]):0},c=document.documentMode,i=a(/opera/),J=i&&a(/version\/10\.5/),p=a(/\bchrome\b/),o=a(/webkit/),d=!p&&a(/safari/),A=d&&a(/applewebkit\/4/),z=d&&a(/version\/3/),w=d&&a(/version\/4/),B=d&&a(/version\/5\.0/),u=d&&a(/version\/5/),b=!i&&a(/msie/),m=b&&(a(/msie 7/)&&c!=8&&c!=9||c==7),l=b&&(a(/msie 8/)&&c!=7&&c!=9||c==8),x=b&&(a(/msie 9/)&&c!=7&&c!=8||c==9),j=b&&a(/msie 6/),g=!o&&a(/gecko/),k=g&&a(/rv:1\.9/),F=g&&a(/rv:2\.0/),D=g&&a(/rv:5\./),G=g&&a(/rv:10\./),M=k&&a(/rv:1\.9\.0/),K=k&&a(/rv:1\.9\.1/),I=k&&a(/rv:1\.9\.2/),y=a(/windows|win32/),t=a(/macintosh|mac os x/),L=a(/linux/),n=null,C=f(true,/\bchrome\/(\d+\.\d+)/),e=f(true,/\bfirefox\/(\d+\.\d+)/),E=f(b,/msie (\d+\.\d+)/),H=f(i,/version\/(\d+\.\d+)/),v=f(d,/version\/(\d+\.\d+)/),s=f(o,/webkit\/(\d+\.\d+)/),q=/^https/i.test(window.location.protocol),h;try{document.execCommand("BackgroundImageCache",false,true)}catch(N){}h=function(){};h.info=h.warn=h.error=Ext.emptyFn;Ext.setVersion("extjs","4.1.0");Ext.apply(Ext,{SSL_SECURE_URL:q&&b?"javascript:''":"about:blank",scopeResetCSS:Ext.buildSettings.scopeResetCSS,resetCls:Ext.buildSettings.baseCSSPrefix+"reset",enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(a,d){if(!a||!document)return null;if(a.dom)return a.dom;else if(typeof a=="string"){var c=Ext.getElementById(a);return c&&b&&d?a==c.getAttribute("id")?c:null:c}else return a},removeNode:j||m||l?function(){var a;return function(b){if(b&&b.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);var c=Ext.cache,d=b.id;if(c[d]){delete c[d].dom;delete c[d]}if(b.tagName.toUpperCase()!="IFRAME"){l&&b.parentNode&&b.parentNode.removeChild(b);a=a||document.createElement("div");a.appendChild(b);a.innerHTML=""}}}}():function(a){if(a&&a.parentNode&&a.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);var b=Ext.cache,c=a.id;if(b[c]){delete b[c].dom;delete b[c]}a.parentNode.removeChild(a)}},isStrict:r,isIEQuirks:b&&!r,isOpera:i,isOpera10_5:J,isWebKit:o,isChrome:p,isSafari:d,isSafari3:z,isSafari4:w,isSafari5:u,isSafari5_0:B,isSafari2:A,isIE:b,isIE6:j,isIE7:m,isIE8:l,isIE9:x,isGecko:g,isGecko3:k,isGecko4:F,isGecko5:D,isGecko10:G,isFF3_0:M,isFF3_5:K,isFF3_6:I,isFF4:4<=e&&e<5,isFF5:5<=e&&e<6,isFF10:10<=e&&e<11,isLinux:L,isWindows:y,isMac:t,chromeVersion:C,firefoxVersion:e,ieVersion:E,operaVersion:H,safariVersion:v,webKitVersion:s,isSecure:q,BLANK_IMAGE_URL:j||m?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(e){if(!Ext.isReady)Ext.onReady(function(){Ext.addBehaviors(e)});else{var b={},d,c,a;for(c in e)if((d=c.split("@"))[1]){a=d[0];if(!b[a])b[a]=Ext.select(a);b[a].on(d[1],e[c])}b=null}},getScrollbarSize:function(c){if(!Ext.isReady)return{};if(c||!n){var b=document.body,a=document.createElement("div");a.style.width=a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";b.appendChild(a);n={width:a.offsetWidth-a.clientWidth,height:a.offsetHeight-a.clientHeight};b.removeChild(a)}return n},getScrollBarWidth:function(b){var a=Ext.getScrollbarSize(b);return a.width+2},copyTo:function(d,e,a,g){if(typeof a=="string")a=a.split(/[,;\s]/);for(var f=a.length,b,c=0;c<f;c++){b=a[c];if(g||e.hasOwnProperty(b))d[b]=e[b]}return d},destroyMembers:function(c){for(var a=1,b=arguments,d=b.length;a<d;a++){Ext.destroy(c[b[a]]);delete c[b[a]]}},log:h,partition:function(c,d){for(var e=[[],[]],b,f=c.length,a=0;a<f;a++){b=c[a];e[d&&d(b,a,c)||!d&&b?0:1].push(b)}return e},invoke:function(d,e){for(var c=[],g=Array.prototype.slice.call(arguments,2),a,f=d.length,b=0;b<f;b++){a=d[b];if(a&&typeof a[e]=="function")c.push(a[e].apply(a,g));else c.push(undefined)}return c},zip:function(){for(var g=Ext.partition(arguments,function(a){return typeof a!="function"}),d=g[0],e=g[1][0],h=Ext.max(Ext.pluck(d,"length")),c=[],b,f,a=0;a<h;a++){c[a]=[];if(e)c[a]=e.apply(e,Ext.pluck(d,a));else for(b=0,f=d.length;b<f;b++)c[a].push(d[b][a])}return c},toSentence:function(a,e){var b=a.length,d,c;if(b<=1)return a[0];else{d=a.slice(0,b-1);c=a[b-1];return Ext.util.Format.format("{0} {1} {2}",d.join(", "),e||"and",c)}},useShims:j})})();Ext.application=function(a){Ext.require("Ext.app.Application");Ext.onReady(function(){new Ext.app.Application(a)})};(function(){Ext.ns("Ext.util");Ext.util.Format={};var a=Ext.util.Format,f=/<\/?[^>]+>/gi,d=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,c=/\r?\n/g,e=/[^\d\.]/g,b;Ext.apply(a,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(a){return a!==undefined?a:""},defaultValue:function(a,b){return a!==undefined&&a!==""?a:b},substr:"ab".substr(-1)!="b"?function(d,b,c){var a=String(d);return b<0?a.substr(Math.max(a.length+b,0),c):a.substr(b,c)}:function(b,c,a){return String(b).substr(c,a)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(b,g,c,h){var e="",d=",0",f=0;b=b-0;if(b<0){b=-b;e="-"}c=Ext.isDefined(c)?c:a.currencyPrecision;d+=d+(c>0?".":"");for(;f<c;f++)d+="0";b=a.number(b,d);return(h||a.currencyAtEnd)===true?Ext.String.format("{0}{1}{2}",e,b,g||a.currencySign):Ext.String.format("{0}{1}{2}",e,g||a.currencySign,b)},date:function(a,b){if(!a)return"";if(!Ext.isDate(a))a=new Date(Date.parse(a));return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},stripTags:function(a){return!a?a:String(a).replace(f,"")},stripScripts:function(a){return!a?a:String(a).replace(d,"")},fileSize:function(a){return a<1024?a+" bytes":a<1048576?Math.round(a*10/1024)/10+" KB":Math.round(a*10/1048576)/10+" MB"},math:function(){var a={};return function(c,b){if(!a[b])a[b]=Ext.functionFactory("v","return v "+b+";");return a[b](c)}}(),round:function(c,a){var b=Number(c);if(typeof a=="number"){a=Math.pow(10,a);b=Math.round(c*a)/a}return b},number:function(d,f){if(!f)return d;d=Ext.Number.from(d,NaN);if(isNaN(d))return"";var p=a.thousandSeparator,m=a.decimalSeparator,r=false,n=d<0,l,c,g,k,j,o,q,i,h;d=Math.abs(d);if(f.substr(f.length-2)=="/i"){if(!b)b=new RegExp("[^\\d\\"+a.decimalSeparator+"]","g");f=f.substr(0,f.length-2);r=true;l=f.indexOf(p)!=-1;c=f.replace(b,"").split(m)}else{l=f.indexOf(",")!=-1;c=f.replace(e,"").split(".")}if(c.length<=2)if(c.length>1)d=Ext.Number.toFixed(d,c[1].length);else d=Ext.Number.toFixed(d,0);g=d.toString();c=g.split(".");if(l){k=c[0];j=[];o=k.length;q=Math.floor(o/3);i=k.length%3||3;for(h=0;h<o;h+=i){if(h!==0)i=3;j[j.length]=k.substr(h,i);q-=1}g=j.join(p);if(c[1])g+=m+c[1]}else if(c[1])g=c[0]+m+c[1];if(n)n=g.replace(/[^1-9]/g,"")!=="";return(n?"-":"")+f.replace(/[\d,?\.?]+/,g)},numberRenderer:function(b){return function(c){return a.number(c,b)}},plural:function(a,b,c){return a+" "+(a==1?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(c,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(b){b=Ext.isEmpty(b)?"":b;if(Ext.isNumber(b))b=b.toString();var a=b.split(" "),c=a.length;if(c==1)a[1]=a[2]=a[3]=a[0];else if(c==2){a[2]=a[0];a[3]=a[1]}else if(c==3)a[3]=a[1];return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})})();Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(b){var a=this;if(typeof b=="number")a.interval=b;else b&&Ext.apply(a,b);a.tasks=[];a.timerFn=Ext.Function.bind(a.onTick,a)},newTask:function(b){var a=new Ext.util.TaskRunner.Task(b);a.manager=this;return a},start:function(a){var b=this,c=(new Date).getTime();if(!a.pending){b.tasks.push(a);a.pending=true}a.stopped=false;a.taskStartTime=c;a.taskRunTime=a.fireOnStart!==false?0:a.taskStartTime;a.taskRunCount=0;if(!b.firing)if(a.fireOnStart!==false)b.startTimer(0,c);else b.startTimer(a.interval,c);return a},stop:function(a){if(!a.stopped){a.stopped=true;a.onStop&&a.onStop.call(a.scope||a,a)}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e99,onTick:function(){var b=this,i=b.tasks,f=(new Date).getTime(),j=1e99,k=i.length,g,e,d,a,h,c;b.timerId=null;b.firing=true;for(d=0;d<k||d<(k=i.length);++d){a=i[d];if(!(c=a.stopped)){g=a.taskRunTime+a.interval;if(g<=f){h=1;try{h=a.run.apply(a.scope||a,a.args||[++a.taskRunCount])}catch(l){try{if(a.onError)h=a.onError.call(a.scope||a,a,l)}catch(m){}}a.taskRunTime=f;if(h===false||a.taskRunCount===a.repeat){b.stop(a);c=true}else{c=a.stopped;g=f+a.interval}}if(!c&&a.duration&&a.duration<=f-a.taskStartTime){b.stop(a);c=true}}if(c){a.pending=false;if(!e)e=i.slice(0,d)}else{e&&e.push(a);if(j>g)j=g}}if(e)b.tasks=e;b.firing=false;b.tasks.length&&b.startTimer(j-f,(new Date).getTime())},startTimer:function(c,e){var a=this,d=e+c,b=a.timerId;if(b&&a.nextExpires-d>a.interval){clearTimeout(b);b=null}if(!b){if(c<a.interval)c=a.interval;a.timerId=setTimeout(a.timerFn,c);a.nextExpires=d}}},function(){var b=this,a=b.prototype;a.destroy=a.stopAll;Ext.util.TaskManager=Ext.TaskManager=new b;b.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==undefined)this.interval=a;this.manager.start(this)},start:function(a){this.stopped&&this.restart(a)},stop:function(){this.manager.stop(this)}});a=b.Task.prototype;a.destroy=a.stop});Ext.define("Ext.perf.Accumulator",function(){var b=null,d=Ext.global.chrome,c,a=function(){a=function(){return(new Date).getTime()};var b,c;if(Ext.isChrome&&d&&d.Interval){b=new d.Interval;b.start();a=function(){return b.microseconds()/1e3}}else if(window.ActiveXObject)try{c=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=c;a=function(){return c.milliseconds}}catch(e){}else if(Date.now)a=Date.now;Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=a;return a()};function g(a,b){a.sum+=b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function h(f){var d=f?f:a()-this.time,e=this,c=e.accum;++c.count;!--c.depth&&g(c.total,d);g(c.pure,d-e.childTime);b=e.parent;if(b){++b.accum.childCount;b.childTime+=d}}function e(){return{min:Number.MAX_VALUE,max:0,sum:0}}function i(b,a){return function(){var d=b.enter(),c=a.apply(this,arguments);d.leave();return c}}function f(d,e,b,c){var a={avg:0,min:c.min,max:c.max,sum:0};if(d){b=b||0;a.sum=c.sum-e*b;a.avg=a.sum/d}return a}return{constructor:function(b){var a=this;a.count=a.childCount=a.depth=a.maxDepth=0;a.pure=e();a.total=e();a.name=b},statics:{getTimestamp:a},format:function(b){if(!c)c=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(a){return Math.round(a*100)/100}});var a=this.getData(b);a.name=this.name;a.pure.type="Pure";a.total.type="Total";a.times=[a.pure,a.total];return c.apply(a)},getData:function(b){var a=this;return{count:a.count,childCount:a.childCount,depth:a.maxDepth,pure:f(a.count,a.childCount,b,a.pure),total:f(a.count,a.childCount,b,a.total)}},enter:function(){var c=this,d={accum:c,leave:h,childTime:0,parent:b};++c.depth;if(c.maxDepth<c.depth)c.maxDepth=c.depth;b=d;d.time=a();return d},monitor:function(c,b,a){var d=this.enter();if(a)c.apply(b,a);else c.call(b);d.leave()},report:function(){Ext.log(this.format())},tap:function(e,k){var j=this,l=typeof k=="string"?[k]:k,c,f,a,h,d,b,g,m;m=function(){if(typeof e=="string"){c=Ext.global;h=e.split(".");for(a=0,d=h.length;a<d;++a)c=c[h[a]]}else c=e;for(a=0,d=l.length;a<d;++a){b=l[a];f=b.charAt(0)=="!";if(f)b=b.substring(1);else f=!(b in c.prototype);g=f?c:c.prototype;g[b]=i(j,g[b])}};Ext.ClassManager.onCreated(m,j,e);return j}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.define("Ext.perf.Monitor",{singleton:true,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var b=new Ext.perf.Accumulator("$"),g=b.total,c=Ext.perf.Accumulator.getTimestamp,e=0,f,a,d;d=c();do{f=b.enter();f.leave();++e}while(g.sum<100);a=c();return(a-d)/e},"get":function(b){var c=this,a=c.accumulatorsByName[b];if(!a){c.accumulatorsByName[b]=a=new Ext.perf.Accumulator(b);c.accumulators.push(a)}return a},enter:function(a){return this.get(a).enter()},monitor:function(a,c,b){this.get(a).monitor(c,b)},report:function(){var a=this,c=a.accumulators,b=a.calibrate();c.sort(function(b,a){return b.name<a.name?-1:a.name<b.name?1:0});a.updateGC();Ext.log("Calibration: "+Math.round(b*100)/100+" msec/sample");Ext.each(c,function(a){Ext.log(a.format(b))})},getData:function(c){var a={},b=this.accumulators;Ext.each(b,function(b){if(c||b.count)a[b.name]=b.getData()});return a},updateGC:function(){var b=this.accumulatorsByName.GC,c=Ext.senchaToolbox,a;if(b){b.count=c.garbageCollectionCounter||0;if(b.count){a=b.pure;b.total.sum=a.sum=c.garbageCollectionMilliseconds;a.min=a.max=a.sum/b.count;a=b.total;a.min=a.max=a.sum/b.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get("GC");a.watchGarbageCollector(false)}},setup:function(a){if(!a)a={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}};this.currentConfig=a;var b,d,f,c,e;for(b in a)if(a.hasOwnProperty(b)){d=a[b];f=Ext.Perf.get(b);for(c in d)if(d.hasOwnProperty(c)){e=d[c];f.tap(c,e)}}this.watchGC()}});Ext.is={init:function(c){var d=this.platforms,e=d.length,b,a;c=c||window.navigator;for(b=0;b<e;b++){a=d[b];this[a.identity]=a.regex.test(c[a.property])}this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android;this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();(function(){var a=function(a,c){var b=a.ownerDocument.defaultView,d=(b?b.getComputedStyle(a,null):a.currentStyle)||a.style;return d[c]};Ext.supports={init:function(){var c=this,d=document,g=c.tests,e=g.length,a=e&&Ext.isReady&&d.createElement("div"),b,f=[];if(a){a.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join("");d.body.appendChild(a)}while(e--){b=g[e];if(a||b.early)c[b.identity]=b.fn.call(c,d,a);else f.push(b)}a&&d.body.removeChild(a);c.tests=f},PointerEvents:"pointerEvents"in document.documentElement.style,CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:typeof window.orientation!="undefined"&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}(),tests:[{identity:"Transitions",fn:function(i,h){for(var b=["webkit","Moz","o","ms","khtml"],d="TransitionEnd",f=[b[0]+d,"transitionend",b[2]+d,b[3]+d,b[4]+d],g=b.length,c=0,e=false;c<g;c++)if(a(h,b[c]+"TransitionProperty")){Ext.supports.CSS3Prefix=b[c];Ext.supports.CSS3TransitionEnd=f[c];e=true;break}return e}},{identity:"RightMargin",fn:function(b,c){var a=b.defaultView;return!(a&&a.getComputedStyle(c.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{identity:"TransparentColor",fn:function(b,c,a){a=b.defaultView;return!(a&&a.getComputedStyle(c.lastChild,null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(b,c,a){a=b.defaultView;return a&&a.getComputedStyle}},{identity:"Svg",fn:function(a){return!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return!!a.createElement("canvas").getContext}},{identity:"Vml",fn:function(b){var a=b.createElement("div");a.innerHTML="<!--[if vml]><br/><br/><![endif]-->";return a.childNodes.length==2}},{identity:"Float",fn:function(b,a){return!!a.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return!!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){var a=window.history;return!!(a&&a.pushState)}},{identity:"CSS3DTransform",fn:function(){return typeof WebKitCSSMatrix!="undefined"&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(h,c){var a="background-image:",f="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",b="linear-gradient(left top, black, white)",g="-moz-"+b,d="-o-"+b,e=[a+f,a+b,a+g,a+d];c.style.cssText=e.join(";");return(""+c.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(){for(var b=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],c=false,a=0;a<b.length;a++)if(document.body.style[b[a]]!==undefined)return true;return c}},{identity:"GeoLocation",fn:function(){return typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined"||typeof google!="undefined"&&typeof google.gears!="undefined"}},{identity:"MouseEnterLeave",fn:function(b,a){return"onmouseenter"in a&&"onmouseleave"in a}},{identity:"MouseWheel",fn:function(b,a){return"onmousewheel"in a}},{identity:"Opacity",fn:function(b,a){if(Ext.isIE6||Ext.isIE7||Ext.isIE8)return false;a.firstChild.style.cssText="opacity:0.73";return a.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)}},{identity:"BoundingClientRect",fn:function(b,a){return Ext.isFunction(a.getBoundingClientRect)}},{identity:"IncludePaddingInWidthCalculation",fn:function(b,a){return a.childNodes[1].firstChild.offsetWidth==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(b,a){return a.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var a=Ext.supports.Range?document.createRange():false;return a&&!!a.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var a=document.createElement("textarea");return"maxlength"in a}},{identity:"GetPositionPercentage",fn:function(c,b){return a(b.childNodes[2],"left")=="10%"}}]}})();Ext.supports.init();Ext.util.DelayedTask=function(d,c,b){var f=this,a,e=function(){clearInterval(a);a=null;d.apply(c,b||[])};this.delay=function(h,j,i,g){f.cancel();d=j||d;c=i||c;b=g||b;a=setInterval(e,h)};this.cancel=function(){if(a){clearInterval(a);a=null}}};Ext.require("Ext.util.DelayedTask",function(){Ext.util.Event=Ext.extend(Object,function(){function c(b,d,c,a){return function(){c.target===arguments[0]&&b.apply(a,arguments)}}function b(c,a,d,b){a.task=new Ext.util.DelayedTask;return function(){a.task.delay(d.buffer,c,b,Ext.Array.toArray(arguments))}}function a(c,a,d,b){return function(){var e=new Ext.util.DelayedTask;if(!a.tasks)a.tasks=[];a.tasks.push(e);e.delay(d.delay||10,c,b,Ext.Array.toArray(arguments))}}function d(c,b,d,a){return function(){var d=b.ev;if(d.removeListener(b.fn,a)&&d.observable)d.observable.hasListeners[d.name]--;return c.apply(a,arguments)}}return{isEvent:true,constructor:function(b,a){this.name=a;this.observable=b;this.listeners=[]},addListener:function(c,b,e){var a=this,d;b=b||a.observable;if(!a.isListening(c,b)){d=a.createListener(c,b,e);if(a.firing)a.listeners=a.listeners.slice(0);a.listeners.push(d)}},createListener:function(i,g,e){e=e||{};g=g||this.observable;var h={fn:i,scope:g,o:e,ev:this},f=i;if(e.single)f=d(f,h,e,g);if(e.target)f=c(f,h,e,g);if(e.delay)f=a(f,h,e,g);if(e.buffer)f=b(f,h,e,g);h.fireFn=f;return h},findListener:function(f,e){var d=this.listeners,b=d.length,a,c;while(b--){a=d[b];if(a){c=a.scope;if(a.fn==f&&(c==e||c==this.observable))return b}}return-1},isListening:function(b,a){return this.findListener(b,a)!==-1},removeListener:function(f,e){var b=this,d,a,c;d=b.findListener(f,e);if(d!=-1){a=b.listeners[d];if(b.firing)b.listeners=b.listeners.slice(0);if(a.task){a.task.cancel();delete a.task}c=a.tasks&&a.tasks.length;if(c){while(c--)a.tasks[c].cancel();delete a.tasks}Ext.Array.erase(b.listeners,d,1);return true}return false},clearListeners:function(){var b=this.listeners,a=b.length;while(a--)this.removeListener(b[a].fn,b[a].scope)},fire:function(){var b=this,e=b.listeners,f=e.length,c,d,a;if(f>0){b.firing=true;for(c=0;c<f;c++){a=e[c];d=arguments.length?Array.prototype.slice.call(arguments,0):[];a.o&&d.push(a.o);if(a&&a.fireFn.apply(a.scope||b.observable,d)===false)return b.firing=false}}b.firing=false;return true}}}())});Ext.EventManager=new function(){var a=this,b=document,c=window,d=function(){var f=b.body||b.getElementsByTagName("body")[0],c=Ext.baseCSSPrefix,g=[c+"body"],d=[],e;if(!f)return false;e=f.parentNode;function a(a){g.push(c+a)}if(Ext.isIE){a("ie");if(Ext.isIE6)a("ie6");else{a("ie7p");if(Ext.isIE7)a("ie7");else{a("ie8p");if(Ext.isIE8)a("ie8");else{a("ie9p");Ext.isIE9&&a("ie9")}}}(Ext.isIE6||Ext.isIE7)&&a("ie7m");(Ext.isIE6||Ext.isIE7||Ext.isIE8)&&a("ie8m");(Ext.isIE7||Ext.isIE8)&&a("ie78")}if(Ext.isGecko){a("gecko");Ext.isGecko3&&a("gecko3");Ext.isGecko4&&a("gecko4");Ext.isGecko5&&a("gecko5")}Ext.isOpera&&a("opera");Ext.isWebKit&&a("webkit");if(Ext.isSafari){a("safari");Ext.isSafari2&&a("safari2");Ext.isSafari3&&a("safari3");Ext.isSafari4&&a("safari4");Ext.isSafari5&&a("safari5");Ext.isSafari5_0&&a("safari5_0")}Ext.isChrome&&a("chrome");Ext.isMac&&a("mac");Ext.isLinux&&a("linux");!Ext.supports.CSS3BorderRadius&&a("nbr");!Ext.supports.CSS3LinearGradient&&a("nlg");!Ext.scopeResetCSS&&a("reset");if(e){if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7))Ext.isBorderBox=false;else Ext.isBorderBox=true;Ext.isBorderBox&&d.push(c+"border-box");if(Ext.isStrict)d.push(c+"strict");else d.push(c+"quirks");Ext.fly(e,"_internal").addCls(d)}Ext.fly(f,"_internal").addCls(g);return true};Ext.apply(a,{hasBoundOnReady:false,hasFiredReady:false,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){var a=new Ext.util.Event;a.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime();a.self.prototype.fire.apply(a,arguments);Ext._afterReadytime=(new Date).getTime()};return a}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){if(a.hasBoundOnReady)return;if(b.readyState=="complete")a.onReadyEvent({type:b.readyState||"body"});else{document.addEventListener("DOMContentLoaded",a.onReadyEvent,false);window.addEventListener("load",a.onReadyEvent,false);a.hasBoundOnReady=true}},onReadyEvent:function(b){b&&b.type&&a.onReadyChain.push(b.type);if(a.hasBoundOnReady){document.removeEventListener("DOMContentLoaded",a.onReadyEvent,false);window.removeEventListener("load",a.onReadyEvent,false)}!Ext.isReady&&a.fireDocReady()},fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=(new Date).getTime();Ext.isReady=true;Ext.supports.init();a.onWindowUnload();a.readyEvent.onReadyChain=a.onReadyChain;if(Ext.isNumber(a.deferReadyEvent)){Ext.Function.defer(a.fireReadyEvent,a.deferReadyEvent);a.hasDocReadyTimer=true}else a.fireReadyEvent()}},fireReadyEvent:function(){var b=a.readyEvent;a.hasDocReadyTimer=false;a.isFiring=true;while(b.listeners.length&&!a.isReadyPaused())b.fire();a.isFiring=false;a.hasFiredReady=true},onDocumentReady:function(d,c,b){b=b||{};b.single=true;a.readyEvent.addListener(d,c,b);if(!(a.isFiring||a.hasDocReadyTimer))if(Ext.isReady)a.fireReadyEvent();else a.bindReadyEvent()},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(a){var d;a=Ext.getDom(a);if(a===b||a===c)d=a===b?Ext.documentId:Ext.windowId;else d=Ext.id(a);!Ext.cache[d]&&Ext.addCacheEntry(d,null,a);return d},prepareListenerConfig:function(f,d,g){var h=a.propRe,b,c,e;for(b in d)if(d.hasOwnProperty(b))if(!h.test(b)){c=d[b];if(typeof c=="function")e=[f,b,c,d.scope,d];else e=[f,b,c.fn,c.scope,c];if(g)a.removeListener.apply(a,e);else a.addListener.apply(a,e)}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(b,c){if(a.mouseEnterLeaveRe.test(b)&&!Ext.supports.MouseEnterLeave){if(c)c=Ext.Function.createInterceptor(c,a.contains);b=b=="mouseenter"?"mouseover":"mouseout"}else if(b=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera)b="DOMMouseScroll";return{eventName:b,fn:c}},contains:function(d){var c=d.browserEvent.currentTarget,b=a.getRelatedTarget(d);if(c&&c.firstChild)while(b){if(b===c)return false;b=b.parentNode;if(b&&b.nodeType!=1)b=null}return true},addListener:function(e,c,j,i,g){if(typeof c!=="string"){a.prepareListenerConfig(e,c);return}var d=e.dom||Ext.getDom(e),h,f;g=g||{};h=a.normalizeEvent(c,j);f=a.createListenerWrap(d,c,h.fn,i,g);if(d.attachEvent)d.attachEvent("on"+h.eventName,f);else d.addEventListener(h.eventName,f,g.capture||false);d==b&&c=="mousedown"&&a.stoppedMouseDownEvent.addListener(f);a.getEventListenerCache(e.dom?e:d,c).push({fn:j,wrap:f,scope:i})},removeListener:function(h,f,k,m){if(typeof f!=="string"){a.prepareListenerConfig(h,f,true);return}var e=Ext.getDom(h),n=h.dom?h:Ext.get(e),i=a.getEventListenerCache(n,f),l=a.normalizeEvent(f).eventName,j=i.length,g,d,c,o;while(j--){d=i[j];if(d&&(!k||d.fn==k)&&(!m||d.scope===m)){c=d.wrap;if(c.task){clearTimeout(c.task);delete c.task}g=c.tasks&&c.tasks.length;if(g){while(g--)clearTimeout(c.tasks[g]);delete c.tasks}if(e.detachEvent)e.detachEvent("on"+l,c);else e.removeEventListener(l,c,false);c&&e==b&&f=="mousedown"&&a.stoppedMouseDownEvent.removeListener(c);Ext.Array.erase(i,j,1)}}},removeAll:function(f){var b=f.dom?f:Ext.get(f),d,e,c;if(!b)return;d=b.$cache||b.getCache();e=d.events;for(c in e)e.hasOwnProperty(c)&&a.removeListener(b,c);d.events={}},purgeElement:function(b,c){var f=Ext.getDom(b),d=0,e;if(c)a.removeListener(b,c);else a.removeAll(b);if(f&&f.childNodes)for(e=b.childNodes.length;d<e;d++)a.purgeElement(b.childNodes[d],c)},createListenerWrap:function(g,f,i,j,c){c=c||{};var b,d,h=/\\/g,e=function(l,k){if(!d){b=["if(!"+Ext.name+") {return;}"];if(c.buffer||c.delay||c.freezeEvent)b.push("e = new X.EventObjectImpl(e, "+(c.freezeEvent?"true":"false")+");");else b.push("e = X.EventObject.setEvent(e);");if(c.delegate){b.push('var t = e.getTarget("'+(c.delegate+"").replace(h,"\\\\")+'", this);');b.push("if(!t) {return;}")}else b.push("var t = e.target;");c.target&&b.push("if(e.target !== options.target) {return;}");if(c.stopEvent)b.push("e.stopEvent();");else{c.preventDefault&&b.push("e.preventDefault();");c.stopPropagation&&b.push("e.stopPropagation();")}c.normalized===false&&b.push("e = e.browserEvent;");if(c.buffer){b.push("(wrap.task && clearTimeout(wrap.task));");b.push("wrap.task = setTimeout(function() {")}if(c.delay){b.push("wrap.tasks = wrap.tasks || [];");b.push("wrap.tasks.push(setTimeout(function() {")}b.push("fn.call(scope || dom, e, t, options);");c.single&&b.push("evtMgr.removeListener(dom, ename, fn, scope);");if(f!=="mousemove"){b.push("if (evtMgr.idleEvent.listeners.length) {");b.push("evtMgr.idleEvent.fire();");b.push("}")}c.delay&&b.push("}, "+c.delay+"));");c.buffer&&b.push("}, "+c.buffer+");");d=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",b.join("\n"))}d.call(g,l,c,i,j,f,g,e,k,Ext,a)};return e},getEventListenerCache:function(c,e){var b,d;if(!c)return[];if(c.$cache)b=c.$cache;else b=Ext.cache[a.getId(c)];d=b.events||(b.events={});return d[e]||(d[e]=[])},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(b){a.stopPropagation(b);a.preventDefault(b)},stopPropagation:function(a){a=a.browserEvent||a;if(a.stopPropagation)a.stopPropagation();else a.cancelBubble=true},preventDefault:function(a){a=a.browserEvent||a;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;try{if(a.ctrlKey||a.keyCode>111&&a.keyCode<124)a.keyCode=-1}catch(b){}}},getRelatedTarget:function(b){b=b.browserEvent||b;var c=b.relatedTarget;if(!c)if(a.mouseLeaveRe.test(b.type))c=b.toElement;else if(a.mouseEnterRe.test(b.type))c=b.fromElement;return a.resolveTextNode(c)},getPageX:function(b){return a.getPageXY(b)[0]},getPageY:function(b){return a.getPageXY(b)[1]},getPageXY:function(d){d=d.browserEvent||d;var e=d.pageX,f=d.pageY,c=b.documentElement,a=b.body;if(!e&&e!==0){e=d.clientX+(c&&c.scrollLeft||a&&a.scrollLeft||0)-(c&&c.clientLeft||a&&a.clientLeft||0);f=d.clientY+(c&&c.scrollTop||a&&a.scrollTop||0)-(c&&c.clientTop||a&&a.clientTop||0)}return[e,f]},getTarget:function(b){b=b.browserEvent||b;return a.resolveTextNode(b.target||b.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(!a)return;var b=HTMLElement.prototype.toString.call(a);return b=="[xpconnect wrapped native prototype]"||b=="[object XULElement]"?void 0:a.nodeType==3?a.parentNode:a}:function(a){return a&&a.nodeType==3?a.parentNode:a},curWidth:0,curHeight:0,onWindowResize:function(f,e,d){var b=a.resizeEvent;if(!b){a.resizeEvent=b=new Ext.util.Event;a.on(c,"resize",a.fireResize,null,{buffer:100})}b.addListener(f,e,d)},fireResize:function(){var b=Ext.Element.getViewWidth(),c=Ext.Element.getViewHeight();if(a.curHeight!=c||a.curWidth!=b){a.curHeight=c;a.curWidth=b;a.resizeEvent.fire(b,c)}},removeResizeListener:function(d,c){var b=a.resizeEvent;b&&b.removeListener(d,c)},onWindowUnload:function(d,f,e){var b=a.unloadEvent;if(!b){a.unloadEvent=b=new Ext.util.Event;a.addListener(c,"unload",a.fireUnload)}d&&b.addListener(d,f,e)},fireUnload:function(){try{b=c=undefined;var g,d,h,f,e;a.unloadEvent.fire();if(Ext.isGecko3){g=Ext.ComponentQuery.query("gridview");d=0;h=g.length;for(;d<h;d++)g[d].scrollToTop()}e=Ext.cache;for(f in e)e.hasOwnProperty(f)&&a.removeAll(f)}catch(i){}},removeUnloadListener:function(d,c){var b=a.unloadEvent;b&&b.removeListener(d,c)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return a.useKeyDown?"keydown":"keypress"}});!("addEventListener"in document)&&document.attachEvent&&Ext.apply(a,{pollScroll:function(){var b=true;try{document.documentElement.doScroll("left")}catch(c){b=false}if(b)a.onReadyEvent({type:"doScroll"});else a.scrollTimeout=setTimeout(a.pollScroll,20);return b},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var b=document.readyState;if(a.readyStatesRe.test(b))a.onReadyEvent({type:b})},bindReadyEvent:function(){var c=true;if(a.hasBoundOnReady)return;try{c=!window.frameElement}catch(d){}if(!c||!b.documentElement.doScroll)a.pollScroll=Ext.emptyFn;if(a.pollScroll()===true)return;if(b.readyState=="complete")a.onReadyEvent({type:"already "+(b.readyState||"body")});else{b.attachEvent("onreadystatechange",a.checkReadyState);window.attachEvent("onload",a.onReadyEvent);a.hasBoundOnReady=true}},onReadyEvent:function(b){b&&b.type&&a.onReadyChain.push(b.type);if(a.hasBoundOnReady){document.detachEvent("onreadystatechange",a.checkReadyState);window.detachEvent("onload",a.onReadyEvent)}if(Ext.isNumber(a.scrollTimeout)){clearTimeout(a.scrollTimeout);delete a.scrollTimeout}!Ext.isReady&&a.fireDocReady()},onReadyChain:[]});Ext.onReady=function(c,b,a){Ext.Loader.onReady(c,b,true,a)};Ext.onDocumentReady=a.onDocumentReady;a.on=a.addListener;a.un=a.removeListener;Ext.onReady(d)};Ext.define("Ext.EventObjectImpl",{uses:["Ext.util.Point"],BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;if(Ext.isGecko)a=3;else if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532)a=120;else a=12;a*=3}else a=120;return a}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(a,b){a&&this.setEvent(a.browserEvent||a,b)},setEvent:function(a,e){var b=this,c,d;if(a==b||a&&a.browserEvent)return a;b.browserEvent=a;if(a){c=a.button?b.btnMap[a.button]:a.which?a.which-1:-1;if(b.clickRe.test(a.type)&&c==-1)c=0;d={type:a.type,button:c,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey||a.metaKey||false,altKey:a.altKey,keyCode:a.keyCode,charCode:a.charCode,target:Ext.EventManager.getTarget(a),relatedTarget:Ext.EventManager.getRelatedTarget(a),currentTarget:a.currentTarget,xy:e?b.getXY():null}}else d={button:-1,shiftKey:false,ctrlKey:false,altKey:false,keyCode:0,charCode:0,target:null,xy:[0,0]};Ext.apply(b,d);return b},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var a=this.browserEvent;if(a){a.type=="mousedown"&&Ext.EventManager.stoppedMouseDownEvent.fire(this);Ext.EventManager.stopPropagation(a)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?this.safariKeys[a]||a:a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy)this.xy=Ext.EventManager.getPageXY(this.browserEvent);return this.xy},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):a?Ext.get(this.target):this.target},getRelatedTarget:function(b,c,a){return b?Ext.fly(this.relatedTarget).findParent(b,c,a):a?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(b){var c=this.WHEEL_SCALE,a=Math.round(b/c);if(!a&&b)a=b<0?-1:1;return a},getWheelDeltas:function(){var d=this,b=d.browserEvent,c=0,a=0;if(Ext.isDefined(b.wheelDeltaX)){c=b.wheelDeltaX;a=b.wheelDeltaY}else if(b.wheelDelta)a=b.wheelDelta;else if(b.detail){a=-b.detail;if(a>100)a=3;else if(a<-100)a=-3;if(Ext.isDefined(b.axis)&&b.axis===b.HORIZONTAL_AXIS){c=a;a=0}}return{x:d.correctWheelDelta(c),y:d.correctWheelDelta(a)}},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},within:function(c,e,d){if(c){var b=e?this.getRelatedTarget():this.getTarget(),a;if(b){a=Ext.fly(c).contains(b);if(!a&&d)a=b==Ext.getDom(c);return a}}return false},isNavKeyPress:function(){var b=this,a=this.normalizeKey(b.keyCode);return a>=33&&a<=40||a==b.RETURN||a==b.TAB||a==b.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return this.type=="keypress"&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&a<=20||a>=44&&a<=46},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){var a,b={},c;if(!Ext.isIE&&document.createEvent)a={createHtmlEvent:function(e,d,c,b){var a=e.createEvent("HTMLEvents");a.initEvent(d,c,b);return a},createMouseEvent:function(d,n,h,g,j,c,b,f,e,m,l,i,k){var a=d.createEvent("MouseEvents"),o=d.defaultView||window;if(a.initMouseEvent)a.initMouseEvent(n,h,g,o,j,c,b,c,b,f,e,m,l,i,k);else{a=d.createEvent("UIEvents");a.initEvent(n,h,g);a.view=o;a.detail=j;a.screenX=c;a.screenY=b;a.clientX=c;a.clientY=b;a.ctrlKey=f;a.altKey=e;a.metaKey=l;a.shiftKey=m;a.button=i;a.relatedTarget=k}return a},createUIEvent:function(b,g,e,d,f){var a=b.createEvent("UIEvents"),c=b.defaultView||window;a.initUIEvent(g,e,d,c,f);return a},fireEvent:function(b,c,a){b.dispatchEvent(a)},fixTarget:function(a){return a==window&&!a.dispatchEvent?document:a}};else if(document.createEventObject){c={0:1,1:4,2:2};a={createHtmlEvent:function(d,e,c,b){var a=d.createEventObject();a.bubbles=c;a.cancelable=b;return a},createMouseEvent:function(n,o,i,h,j,d,b,g,f,m,l,e,k){var a=n.createEventObject();a.bubbles=i;a.cancelable=h;a.detail=j;a.screenX=d;a.screenY=b;a.clientX=d;a.clientY=b;a.ctrlKey=g;a.altKey=f;a.shiftKey=m;a.metaKey=l;a.button=c[e]||e;a.relatedTarget=k;return a},createUIEvent:function(d,f,c,b){var a=d.createEventObject();a.bubbles=c;a.cancelable=b;return a},fireEvent:function(c,a,b){c.fireEvent("on"+a,b)},fixTarget:function(a){return a==document?document.documentElement:a}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(c,d){var f=d[0],e=d[1];b[c]=function(d){var b=a.createHtmlEvent(c,f,e);a.fireEvent(d,c,b)}});function e(b,d){var c=b!="mousemove";return function(g,e){var f=e.getXY(),h=a.createMouseEvent(g.ownerDocument,b,true,c,d,f[0],f[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);a.fireEvent(g,b,h)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(a){b[a]=e(a,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(c,d){var f=d[0],e=d[1];b[c]=function(b){var d=a.createUIEvent(b.ownerDocument,c,f,e,1);a.fireEvent(b,c,d)}});if(!a){b={};a={fixTarget:function(a){return a}}}function d(){}return function(f){var e=this,g=b[e.type]||d,c=f?f.dom||f:e.getTarget();c=a.fixTarget(c);g(c,e)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl});Ext.define("Ext.dom.AbstractQuery",{select:function(c,a){var f=[],d,b,e,h,g;a=a||document;if(typeof a=="string")a=document.getElementById(a);c=c.split(",");for(b=0,h=c.length;b<h;b++)if(typeof c[b]=="string")if(typeof c[b][0]=="@"){d=a.getAttributeNode(c[b].substring(1));f.push(d)}else{d=a.querySelectorAll(c[b]);for(e=0,g=d.length;e<g;e++)f.push(d[e])}return f},selectNode:function(b,a){return this.select(b,a)[0]},is:function(a,b){if(typeof a=="string")a=document.getElementById(a);return this.select(b).indexOf(a)!==-1}});Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/tag|children|cn|html|tpl|tplData$/i,endRe:/end/i,attribXlat:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){var c=/([a-z])([A-Z])/g,a={};function b(c,b,a){return b+"-"+a.toLowerCase()}return function(d){return a[d]||(a[d]=d.replace(c,b))}}(),generateMarkup:function(a,b){var e=this,d,c,f,g,h;if(typeof a=="string")b.push(a);else if(Ext.isArray(a))for(g=0;g<a.length;g++)a[g]&&e.generateMarkup(a[g],b);else{f=a.tag||"div";b.push("<",f);for(d in a)if(a.hasOwnProperty(d)){c=a[d];if(!e.confRe.test(d))if(typeof c=="object"){b.push(" ",d,'="');e.generateStyles(c,b).push('"')}else b.push(" ",e.attribXlat[d]||d,'="',c,'"')}if(e.emptyTags.test(f))b.push("/>");else{b.push(">");(c=a.tpl)&&c.applyOut(a.tplData,b);(c=a.html)&&b.push(c);(c=a.cn||a.children)&&e.generateMarkup(c,b);h=e.closeTags;b.push(h[f]||(h[f]="</"+f+">"))}}return b},generateStyles:function(b,d){var c=d||[],a;for(a in b)b.hasOwnProperty(a)&&c.push(this.decamelizeName(a),":",b[a],";");return d||c.join("")},markup:function(a){if(typeof a=="string")return a;var b=this.generateMarkup(a,[]);return b.join("")},applyStyles:function(b,a){if(a){var c=0,d,e;b=Ext.fly(b);if(typeof a=="function")a=a.call();if(typeof a=="string"){a=Ext.util.Format.trim(a).split(/\s*(?::|;)\s*/);for(d=a.length;c<d;)b.setStyle(a[c++],a[c++])}else Ext.isObject(a)&&b.setStyle(a)}},insertHtml:function(b,a,g){var f={},j,h,c,d,e,i;b=b.toLowerCase();f.beforebegin=["BeforeBegin","previousSibling"];f.afterend=["AfterEnd","nextSibling"];c=a.ownerDocument.createRange();h="setStart"+(this.endRe.test(b)?"After":"Before");if(f[b]){c[h](a);d=c.createContextualFragment(g);a.parentNode.insertBefore(d,b=="beforebegin"?a:a.nextSibling);return a[(b=="beforebegin"?"previous":"next")+"Sibling"]}else{e=(b=="afterbegin"?"first":"last")+"Child";if(a.firstChild){c[h](a[e]);d=c.createContextualFragment(g);if(b=="afterbegin")a.insertBefore(d,a.firstChild);else a.appendChild(d)}else a.innerHTML=g;return a[e]}throw'Illegal insertion point -> "'+b+'"';},insertBefore:function(a,c,b){return this.doInsert(a,c,b,"beforebegin")},insertAfter:function(a,c,b){return this.doInsert(a,c,b,"afterend","nextSibling")},insertFirst:function(a,c,b){return this.doInsert(a,c,b,"afterbegin","firstChild")},append:function(a,c,b){return this.doInsert(a,c,b,"beforeend","",true)},overwrite:function(a,c,b){a=Ext.getDom(a);a.innerHTML=this.markup(c);return b?Ext.get(a.firstChild):a.firstChild},doInsert:function(b,d,c,e){var a=this.insertHtml(e,Ext.getDom(b),this.markup(d));return c?Ext.get(a,true):a}});(function(){var a=window.document,c=/^\s+|\s+$/g,b=/\s/;if(!Ext.cache)Ext.cache={};Ext.define("Ext.dom.AbstractElement",{inheritableStatics:{"get":function(b){var c=this,f=Ext.dom.Element,d,e,h,g;if(!b)return null;if(typeof b=="string"){if(b==Ext.windowId)return f.get(window);else if(b==Ext.documentId)return f.get(a);d=Ext.cache[b];if(d&&d.skipGarbageCollection){e=d.el;return e}if(!(h=a.getElementById(b)))return null;if(d&&d.el){e=d.el;e.dom=h}else e=new f(h,!!d);return e}else if(b.tagName){if(!(g=b.id))g=Ext.id(b);d=Ext.cache[g];if(d&&d.el){e=Ext.cache[g].el;e.dom=b}else e=new f(b,!!d);return e}else if(b instanceof c){if(b!=c.docEl&&b!=c.winEl)b.dom=a.getElementById(b.id)||b.dom;return b}else if(b.isComposite)return b;else if(Ext.isArray(b))return c.select(b);else if(b===a){if(!c.docEl){c.docEl=Ext.Object.chain(f.prototype);c.docEl.dom=a;c.docEl.id=Ext.id(a);c.addToCache(c.docEl)}return c.docEl}else if(b===window){if(!c.winEl){c.winEl=Ext.Object.chain(f.prototype);c.winEl.dom=window;c.winEl.id=Ext.id(window);c.addToCache(c.winEl)}return c.winEl}return null},addToCache:function(a,b){a&&Ext.addCacheEntry(b,a);return a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var a,g={},e,i,f,k,d,h=[],j=false;for(e=0,i=arguments.length;e<i;e++){a=arguments[e];if(Ext.isString(a))a=a.replace(c,"").split(b);if(a)for(f=0,k=a.length;f<k;f++){d=a[f];if(!g[d]){if(e)j=true;g[d]=true}}}for(d in g)h.push(d);h.changed=j;return h},removeCls:function(d,e){var g={},a,h,f,i=[],j=false;if(d){if(Ext.isString(d))d=d.replace(c,"").split(b);for(a=0,h=d.length;a<h;a++)g[d[a]]=true}if(e){if(Ext.isString(e))e=e.split(b);for(a=0,h=e.length;a<h;a++){f=e[a];if(g[f]){j=true;delete g[f]}}}for(f in g)i.push(f);i.changed=j;return i},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(e,f){var c=this,d=typeof e=="string"?a.getElementById(e):e,b;if(!d)return null;b=d.id;if(!f&&b&&Ext.cache[b])return Ext.cache[b].el;c.dom=d;c.id=b||Ext.id(d);c.self.addToCache(c)},"set":function(d,e){var c=this.dom,a,b;for(a in d)if(d.hasOwnProperty(a)){b=d[a];if(a=="style")this.applyStyles(b);else if(a=="cls")c.className=b;else if(e!==false)if(b===undefined)c.removeAttribute(a);else c.setAttribute(a,b);else c[a]=b}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(b){var a=this.dom.value;return b?parseInt(a,10):a},remove:function(){var a=this,b=a.dom;if(b){Ext.removeNode(b);delete a.dom}},contains:function(a){if(!a)return false;var b=this,c=a.dom||a;return c===b.dom||Ext.dom.AbstractElement.isAncestor(b.dom,c)},getAttribute:function(a,c){var b=this.dom;return b.getAttributeNS(c,a)||b.getAttribute(c+":"+a)||b.getAttribute(a)||b[a]},update:function(a){if(this.dom)this.dom.innerHTML=a;return this},setHTML:function(a){if(this.dom)this.dom.innerHTML=a;return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(d){var a=this,c=a.self,e=a.getVisibilityMode(),b=Ext.baseCSSPrefix;switch(e){case c.VISIBILITY:a.removeCls([b+"hidden-display",b+"hidden-offsets"]);a[d?"removeCls":"addCls"](b+"hidden-visibility");break;case c.DISPLAY:a.removeCls([b+"hidden-visibility",b+"hidden-offsets"]);a[d?"removeCls":"addCls"](b+"hidden-display");break;case c.OFFSETS:a.removeCls([b+"hidden-visibility",b+"hidden-display"]);a[d?"removeCls":"addCls"](b+"hidden-offsets")}return a},getVisibilityMode:function(){var b=(this.$cache||this.getCache()).data,a=b.visibilityMode;if(a===undefined)b.visibilityMode=a=this.self.DISPLAY;return a},setVisibilityMode:function(a){(this.$cache||this.getCache()).data.visibilityMode=a;return this},getCache:function(){var a=this,b=a.dom.id||Ext.id(a.dom);a.$cache=Ext.cache[b]||Ext.addCacheEntry(b,null,a.dom);return a.$cache}},function(){var b=this;Ext.getDetachedBody=function(){var c=b.detachedBodyEl;if(!c){c=a.createElement("div");b.detachedBodyEl=c=new b.Fly(c);c.isDetachedBody=true}return c};Ext.getElementById=function(e){var c=a.getElementById(e),d;if(!c&&(d=b.detachedBodyEl))c=d.dom.querySelector("#"+Ext.escapeId(e));return c};Ext.get=function(a){return Ext.dom.Element.get(a)};this.addStatics({Fly:new Ext.Class({extend:b,isFly:true,constructor:function(a){this.dom=a},attach:function(a){this.dom=a;this.$cache=a.id?Ext.cache[a.id]:null;return this}}),_flyweights:{},fly:function(a,c){var d=null,e=b._flyweights;c=c||"_global";a=Ext.getDom(a);if(a){d=e[c]||(e[c]=new b.Fly);d.dom=a;d.$cache=a.id?Ext.cache[a.id]:null}return d}});Ext.fly=function(){return b.fly.apply(b,arguments)};(function(b){b.destroy=b.remove;if(a.querySelector)b.getById=function(c,d){var b=a.getElementById(c)||this.dom.querySelector("#"+Ext.escapeId(c));return d?b:b?Ext.get(b):null};else b.getById=function(d,c){var b=a.getElementById(d);return c?b:b?Ext.get(b):null}})(this.prototype)})})();Ext.dom.AbstractElement.addInheritableStatics({unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,b){return typeof a=="number"?a+(b||this.defaultUnit||"px"):a===""||a=="auto"||a===undefined||a===null?a||"":!this.unitRe.test(a)?a||"":a},isAncestor:function(a,b){var c=false;a=Ext.getDom(a);b=Ext.getDom(b);if(a&&b)if(a.contains)return a.contains(b);else if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);else while(b=b.parentNode)c=b==a||c;return c},parseBox:function(b){if(typeof b!="string")b=b.toString();var a=b.split(" "),c=a.length;if(c==1)a[1]=a[2]=a[3]=a[0];else if(c==2){a[2]=a[0];a[3]=a[1]}else if(c==3)a[3]=a[1];return{top:parseFloat(a[0])||0,right:parseFloat(a[1])||0,bottom:parseFloat(a[2])||0,left:parseFloat(a[3])||0}},unitizeBox:function(d,c){var b=this.addUnits,a=this.parseBox(d);return b(a.top,c)+" "+b(a.right,c)+" "+b(a.bottom,c)+" "+b(a.left,c)},camelReplaceFn:function(b,a){return a.charAt(1).toUpperCase()},normalize:function(a){if(a=="float")a=Ext.supports.Float?"cssFloat":"styleFloat";return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?window.orientation==0?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(d){var b={},c=this.cssRe,a;if(d){c.lastIndex=0;while(a=c.exec(d))b[a[1]]=a[2]}return b}});(function(){var a=document,d=Ext.dom.AbstractElement,c=null,e=a.compatMode=="CSS1Compat",b,f=function(a){if(!b)b=new d.Fly;b.attach(a);return b};!("activeElement"in a)&&a.addEventListener&&a.addEventListener("focus",function(b){if(b&&b.target)c=b.target==a?null:b.target},true);function g(a,c,b){return function(){a.selectionStart=c;a.selectionEnd=b}}d.addInheritableStatics({getActiveElement:function(){return a.activeElement||c},getRightMarginFixCleaner:function(k){var h=Ext.supports,i=h.DisplayChangeInputSelectionBug,j=h.DisplayChangeTextAreaSelectionBug,b,d,f,e;if(i||j){b=a.activeElement||c;d=b&&b.tagName;if(j&&d=="TEXTAREA"||i&&d=="INPUT"&&b.type=="text")if(Ext.dom.Element.isAncestor(k,b)){f=b.selectionStart;e=b.selectionEnd;if(Ext.isNumber(f)&&Ext.isNumber(e))return g(b,f,e)}}return Ext.emptyFn},getViewWidth:function(a){return a?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(a){return a?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!e?a.body.scrollHeight:a.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!e?a.body.scrollWidth:a.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?Ext.isStrict?a.documentElement.clientHeight:a.body.clientHeight:self.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?a.body.clientWidth:Ext.isIE?a.documentElement.clientWidth:self.innerWidth},getY:function(a){return Ext.dom.Element.getXY(a)[1]},getX:function(a){return Ext.dom.Element.getXY(a)[0]},getXY:function(b){var d=a.body,h=a.documentElement,g=0,i=0,j=[0,0],k=Math.round,c,e;b=Ext.getDom(b);if(b!=a&&b!=d){if(Ext.isIE)try{c=b.getBoundingClientRect();i=h.clientTop||d.clientTop;g=h.clientLeft||d.clientLeft}catch(l){c={left:0,top:0}}else c=b.getBoundingClientRect();e=f(document).getScroll();j=[k(c.left+e.left-g),k(c.top+e.top-i)]}return j},setXY:function(a,e){(a=Ext.fly(a,"_setXY")).position();var c=a.translatePoints(e),d=a.dom.style,b;for(b in c)if(!isNaN(c[b]))d[b]=c[b]+"px"},setX:function(b,a){Ext.dom.Element.setXY(b,[a,false])},setY:function(a,b){Ext.dom.Element.setXY(a,[false,b])},serializeForm:function(h){for(var k=h.elements||(document.forms[h]||Ext.getDom(h)).elements,m=false,g=encodeURIComponent,f="",o=k.length,b,d,c,j,n,e,l,a,i=0;i<o;i++){b=k[i];d=b.name;c=b.type;j=b.options;if(!b.disabled&&d)if(/select-(one|multiple)/i.test(c)){l=j.length;for(e=0;e<l;e++){a=j[e];if(a.selected){n=a.hasAttribute?a.hasAttribute("value"):a.getAttributeNode("value").specified;f+=Ext.String.format("{0}={1}&",g(d),g(n?a.value:a.text))}}}else if(!/file|undefined|reset|button/i.test(c))if(!(/radio|checkbox/i.test(c)&&!b.checked)&&!(c=="submit"&&m)){f+=g(d)+"="+g(b.value)+"&";m=/submit/i.test(c)}}return f.substr(0,f.length-1)}})})();Ext.dom.AbstractElement.override({getAnchorXY:function(g,j,f){g=(g||"tl").toLowerCase();f=f||{};var d=this,e=d.dom==document.body||d.dom==document,a=f.width||e?window.innerWidth:d.getWidth(),c=f.height||e?window.innerHeight:d.getHeight(),h,b=Math.round,i=d.getXY(),m=e?0:!j?i[0]:0,l=e?0:!j?i[1]:0,k={c:[b(a*.5),b(c*.5)],t:[b(a*.5),0],l:[0,b(c*.5)],r:[a,b(c*.5)],b:[b(a*.5),c],tl:[0,0],bl:[0,c],br:[a,c],tr:[a,0]};h=k[g];return[h[0]+m,h[1]+l]},alignToRe:/^([a-z]+)-([a-z]+)(\?)?$/,getAlignToXY:function(h,a,i,s){s=!!s;h=Ext.get(h);i=i||[0,0];if(!a||a=="?")a="tl-bl?";else if(!/-/.test(a)&&a!=="")a="tl-"+a;a=a.toLowerCase();var t=this,g=a.match(this.alignToRe),v=window.innerWidth,x=window.innerHeight,e="",d="",m,u,c,b,r,q,n,l,p,o,k,j,f,w;if(!g)throw"Element.alignTo with an invalid alignment "+a;e=g[1];d=g[2];w=!!g[3];m=t.getAnchorXY(e,true);u=h.getAnchorXY(d,s);c=u[0]-m[0]+i[0];b=u[1]-m[1]+i[1];if(w){k=t.getWidth();j=t.getHeight();f=h.getPageBox();l=e.charAt(0);n=e.charAt(e.length-1);o=d.charAt(0);p=d.charAt(d.length-1);q=l=="t"&&o=="b"||l=="b"&&o=="t";r=n=="r"&&p=="l"||n=="l"&&p=="r";if(c+k>v)c=r?f.left-k:v-k;if(c<0)c=r?f.right:0;if(b+j>x)b=q?f.top-j:x-j;if(b<0)b=q?f.bottom:0}return[c,b]},getAnchor:function(){var b=(this.$cache||this.getCache()).data,a;if(!this.dom)return;a=b._anchor;if(!a)a=b._anchor={};return a},adjustForConstraints:function(a,c){var b=this.getConstrainVector(c,a);if(b){a[0]+=b[0];a[1]+=b[1]}return a}});Ext.dom.AbstractElement.addMethods({appendChild:function(a){return Ext.get(a).appendTo(this)},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=="string"){a=Ext.getDom(a);this.dom.insertBefore(a,this.dom.firstChild);return!b?Ext.get(a):a}else return this.createChild(a,this.dom.firstChild,b)},insertSibling:function(a,i,e){var c=this,f=(i||"before").toLowerCase()=="after",b,g,h,d;if(Ext.isArray(a)){g=c;h=a.length;for(d=0;d<h;d++){b=Ext.fly(g,"_internal").insertSibling(a[d],i,e);if(f)g=b}return b}a=a||{};if(a.nodeType||a.dom){b=c.dom.parentNode.insertBefore(Ext.getDom(a),f?c.dom.nextSibling:c.dom);if(!e)b=Ext.get(b)}else if(f&&!c.dom.nextSibling)b=Ext.core.DomHelper.append(c.dom.parentNode,a,!e);else b=Ext.core.DomHelper[f?"insertAfter":"insertBefore"](c.dom,a,!e);return b},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(b){var a=this;if(b.nodeType||b.dom||typeof b=="string"){b=Ext.get(b);a.dom.parentNode.insertBefore(b,a.dom)}else b=Ext.core.DomHelper.insertBefore(a.dom,b);delete Ext.cache[a.id];Ext.removeNode(a.dom);a.id=Ext.id(a.dom=b);Ext.dom.AbstractElement.addToCache(a.isFlyweight?new Ext.dom.AbstractElement(a.dom):a);return a},createChild:function(a,b,c){a=a||{tag:"div"};return b?Ext.core.DomHelper.insertBefore(b,a,c!==true):Ext.core.DomHelper[!this.dom.firstChild?"insertFirst":"append"](this.dom,a,c!==true)},wrap:function(b,c){var a=Ext.core.DomHelper.insertBefore(this.dom,b||{tag:"div"},!c),d=a.dom||a;d.appendChild(this.dom);return a},insertHtml:function(c,d,b){var a=Ext.core.DomHelper.insertHtml(c,this.dom,d);return b?Ext.get(a):a}});(function(){var a=Ext.dom.AbstractElement;a.override({getX:function(a){return this.getXY(a)[0]},getY:function(a){return this.getXY(a)[1]},getXY:function(){var a=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[a.x,a.y]},getOffsetsTo:function(c){var b=this.getXY(),a=Ext.fly(c,"_internal").getXY();return[b[0]-a[0],b[1]-a[1]]},setX:function(a){return this.setXY([a,this.getY()])},setY:function(a){return this.setXY([this.getX(),a])},setLeft:function(b){this.setStyle("left",a.addUnits(b));return this},setTop:function(b){this.setStyle("top",a.addUnits(b));return this},setRight:function(b){this.setStyle("right",a.addUnits(b));return this},setBottom:function(b){this.setStyle("bottom",a.addUnits(b));return this},setXY:function(d){var c=this,b,e,a;if(arguments.length>1)d=[d,arguments[1]];b=c.translatePoints(d);e=c.dom.style;for(a in b){if(!b.hasOwnProperty(a))continue;if(!isNaN(b[a]))e[a]=b[a]+"px"}return c},getLeft:function(){return parseInt(this.getStyle("left"),10)||0},getRight:function(){return parseInt(this.getStyle("right"),10)||0},getTop:function(){return parseInt(this.getStyle("top"),10)||0},getBottom:function(){return parseInt(this.getStyle("bottom"),10)||0},translatePoints:function(a,e){e=isNaN(a[1])?e:a[1];a=isNaN(a[0])?a:a[0];var b=this,f=b.isStyle("position","relative"),g=b.getXY(),c=parseInt(b.getStyle("left"),10),d=parseInt(b.getStyle("top"),10);c=!isNaN(c)?c:f?0:b.dom.offsetLeft;d=!isNaN(d)?d:f?0:b.dom.offsetTop;return{left:a-g[0]+c,top:e-g[1]+d}},setBox:function(b){var a=this,d=b.width,c=b.height,f=b.top,e=b.left;e!==undefined&&a.setLeft(e);f!==undefined&&a.setTop(f);d!==undefined&&a.setWidth(d);c!==undefined&&a.setHeight(c);return this},getBox:function(i,l){var a=this,h=a.dom,g=h.offsetWidth,k=h.offsetHeight,c,b,d,f,e,j;if(!l)c=a.getXY();else if(i)c=[0,0];else c=[parseInt(a.getStyle("left"),10)||0,parseInt(a.getStyle("top"),10)||0];if(!i)b={x:c[0],y:c[1],0:c[0],1:c[1],width:g,height:k};else{d=a.getBorderWidth.call(a,"l")+a.getPadding.call(a,"l");f=a.getBorderWidth.call(a,"r")+a.getPadding.call(a,"r");e=a.getBorderWidth.call(a,"t")+a.getPadding.call(a,"t");j=a.getBorderWidth.call(a,"b")+a.getPadding.call(a,"b");b={x:c[0]+d,y:c[1]+e,0:c[0]+d,1:c[1]+e,width:g-(d+f),height:k-(e+j)}}b.left=b.x;b.top=b.y;b.right=b.x+b.width;b.bottom=b.y+b.height;return b},getPageBox:function(j){var f=this,b=f.dom,h=b.offsetWidth,e=b.offsetHeight,a=f.getXY(),i=a[1],c=a[0]+h,g=a[1]+e,d=a[0];return!b?new Ext.util.Region:j?new Ext.util.Region(i,c,g,d):{left:d,top:i,width:h,height:e,right:c,bottom:g}}})})();(function(){var a=Ext.dom.AbstractElement,s=document.defaultView,r=Ext.Array,f=/^\s+|\s+$/g,o=/\w/g,l=/\s+/,m=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,d=Ext.supports.ClassList,c="padding",b="margin",g="border",i="-left",k="-right",j="-top",h="-bottom",e="-width",q={l:g+i+e,r:g+k+e,t:g+j+e,b:g+h+e},p={l:c+i,r:c+k,t:c+j,b:c+h},n={l:b+i,r:b+k,t:b+j,b:b+h};a.override({styleHooks:{},addStyles:function(h,f){var g=0,e=(h||"").match(o),a,b=e.length,d,c=[];if(b==1)g=Math.abs(parseFloat(this.getStyle(f[e[0]]))||0);else if(b){for(a=0;a<b;a++){d=e[a];c.push(f[d])}c=this.getStyle(c);for(a=0;a<b;a++){d=e[a];g+=Math.abs(parseFloat(c[f[d]])||0)}}return g},addCls:d?function(b){var i=this,c=i.dom,g,a,e,h,d;if(typeof b=="string")b=b.replace(f,"").split(l);if(c&&b&&!!(h=b.length))if(!c.className)c.className=b.join(" ");else{g=c.classList;for(e=0;e<h;++e){d=b[e];if(d)if(!g.contains(d))if(a)a.push(d);else{a=c.className.replace(f,"");a=a?[a,d]:[d]}}if(a)c.className=a.join(" ")}return i}:function(b){var d=this,c=d.dom,e,a;if(c&&b&&b.length){a=Ext.Element.mergeClsList(c.className,b);if(a.changed)c.className=a.join(" ")}return d},removeCls:function(a){var g=this,b=g.dom,e,c;if(typeof a=="string")a=a.replace(f,"").split(l);if(b&&b.className&&a&&!!(e=a.length))if(e==1&&d)a[0]&&b.classList.remove(a[0]);else{c=Ext.Element.removeCls(b.className,a);if(c.changed)b.className=c.join(" ")}return g},radioCls:function(a){var e=this.dom.parentNode.childNodes,b,c,d;a=Ext.isArray(a)?a:[a];for(c=0,d=e.length;c<d;c++){b=e[c];b&&b.nodeType==1&&Ext.fly(b,"_internal").removeCls(a)}return this.addCls(a)},toggleCls:d?function(a){var b=this,c=b.dom;if(c){a=a.replace(f,"");a&&c.classList.toggle(a)}return b}:function(a){var b=this;return b.hasCls(a)?b.removeCls(a):b.addCls(a)},hasCls:d?function(a){var b=this.dom;return b&&a?b.classList.contains(a):false}:function(a){var b=this.dom;return b?a&&(" "+b.className+" ").indexOf(" "+a+" ")!=-1:false},replaceCls:function(b,a){return this.removeCls(b).addCls(a)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(n,h){var i=this,e=i.dom,q=typeof n!="string",o=i.styleHooks,b=n,j=b,m=1,l,p,f,c,g,d,k;if(q){f={};b=j[0];k=0;if(!(m=j.length))return f}if(!e||e.documentElement)return f||"";l=e.style;if(h)d=l;else{d=e.ownerDocument.defaultView.getComputedStyle(e,null);if(!d){h=true;d=l}}do{c=o[b];if(!c)o[b]=c={name:a.normalize(b)};if(c.get)g=c.get(e,i,h,d);else{p=c.name;g=d[p]}if(!q)return g;f[b]=g;b=j[++k]}while(k<m);return f},getStyles:function(){var a=Ext.Array.slice(arguments),b=a.length,c;if(b&&typeof a[b-1]=="boolean")c=a.pop();return this.getStyle(a,c)},isTransparent:function(b){var a=this.getStyle(b);return a?m.test(a):false},setStyle:function(g,c){var e=this,f=e.dom,h=e.styleHooks,i=f.style,d=g,b;if(typeof d=="string"){b=h[d];if(!b)h[d]=b={name:a.normalize(d)};c=c==null?"":c;if(b.set)b.set(f,c,e);else i[b.name]=c;b.afterSet&&b.afterSet(f,c,e)}else for(d in g)if(g.hasOwnProperty(d)){b=h[d];if(!b)h[d]=b={name:a.normalize(d)};c=g[d];c=c==null?"":c;if(b.set)b.set(f,c,e);else i[b.name]=c;b.afterSet&&b.afterSet(f,c,e)}return e},getHeight:function(c){var b=this.dom,a=c?b.clientHeight-this.getPadding("tb"):b.offsetHeight;return a>0?a:0},getWidth:function(c){var b=this.dom,a=c?b.clientWidth-this.getPadding("lr"):b.offsetWidth;return a>0?a:0},setWidth:function(c){var b=this;b.dom.style.width=a.addUnits(c);return b},setHeight:function(c){var b=this;b.dom.style.height=a.addUnits(c);return b},getBorderWidth:function(a){return this.addStyles(a,q)},getPadding:function(a){return this.addStyles(a,p)},margins:n,applyStyles:function(b){if(b){var c,d,e=this.dom;if(typeof b=="function")b=b.call();if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);for(c=0,d=b.length;c<d;)e.style[a.normalize(b[c++])]=b[c++]}else typeof b=="object"&&this.setStyle(b)}},setSize:function(b,c){var e=this,d=e.dom.style;if(Ext.isObject(b)){c=b.height;b=b.width}d.width=a.addUnits(b);d.height=a.addUnits(c);return e},getViewSize:function(){var c=document,b=this.dom;return b==c||b==c.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:b.clientWidth,height:b.clientHeight}},getSize:function(b){var a=this.dom;return{width:Math.max(0,b?a.clientWidth-this.getPadding("lr"):a.offsetWidth),height:Math.max(0,b?a.clientHeight-this.getPadding("tb"):a.offsetHeight)}},repaint:function(){var a=this.dom;this.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){Ext.fly(a).removeCls(Ext.baseCSSPrefix+"repaint")},1);return this},getMargin:function(e){var a=this,f={t:"top",l:"left",r:"right",b:"bottom"},b,c,d;if(!e){d=[];for(b in a.margins)a.margins.hasOwnProperty(b)&&d.push(a.margins[b]);c=a.getStyle(d);if(c&&typeof c=="object")for(b in a.margins)if(a.margins.hasOwnProperty(b))c[f[b]]=parseFloat(c[a.margins[b]])||0;return c}else return a.addStyles.call(a,e,a.margins)},mask:function(h,e,j){var a=this,k=a.dom,i=(a.$cache||a.getCache()).data,g=i.mask,d,b,f="",c=Ext.baseCSSPrefix;a.addCls(c+"masked");a.getStyle("position")=="static"&&a.addCls(c+"masked-relative");g&&g.remove();if(e&&typeof e=="string")f=" "+e;else f=" "+c+"mask-gray";d=a.createChild({cls:c+"mask"+(j!==false?"":" "+c+"mask-gray"),html:h?'<div class="'+(e||c+"mask-message")+'">'+h+"</div>":""});b=a.getSize();i.mask=d;if(k===document.body){b.height=window.innerHeight;a.orientationHandler&&Ext.EventManager.unOrientationChange(a.orientationHandler,a);a.orientationHandler=function(){b=a.getSize();b.height=window.innerHeight;d.setSize(b)};Ext.EventManager.onOrientationChange(a.orientationHandler,a)}d.setSize(b);Ext.is.iPad&&Ext.repaint()},unmask:function(){var a=this,d=(a.$cache||a.getCache()).data,b=d.mask,c=Ext.baseCSSPrefix;if(b){b.remove();delete d.mask}a.removeCls([c+"masked",c+"masked-relative"]);if(a.dom===document.body){Ext.EventManager.unOrientationChange(a.orientationHandler,a);delete a.orientationHandler}}});a.populateStyleMap=function(f,g){for(var c=["margin-","padding-","border-width-"],h=["before","after"],e,i,b,d=c.length;d--;)for(b=2;b--;){e=c[d]+h[b];f[a.normalize(e)]=f[e]={name:a.normalize(c[d]+g[b])}}};Ext.onReady(function(){var b=Ext.supports,c,d,g,f,e;function j(e,c,d,b){var a=b[this.name]||"";return m.test(a)?"transparent":a}function i(c,g,f,d){var b=d.marginRight,a,e;if(b!="0px"){a=c.style;e=a.display;a.display="inline-block";b=(f?d:c.ownerDocument.defaultView.getComputedStyle(c,null)).marginRight;a.display=e}return b}function h(c,i,h,f){var d=f.marginRight,b,e,g;if(d!="0px"){b=c.style;e=a.getRightMarginFixCleaner(c);g=b.display;b.display="inline-block";d=(h?f:c.ownerDocument.defaultView.getComputedStyle(c,"")).marginRight;b.display=g;e()}return d}c=a.prototype.styleHooks;a.populateStyleMap(c,["left","right"]);b.init&&b.init();if(!b.RightMargin)c.marginRight=c["margin-right"]={name:"marginRight","get":b.DisplayChangeInputSelectionBug||b.DisplayChangeTextAreaSelectionBug?h:i};if(!b.TransparentColor){d=["background-color","border-color","color","outline-color"];for(g=d.length;g--;){f=d[g];e=a.normalize(f);c[f]=c[e]={name:e,"get":j}}}})})();Ext.dom.AbstractElement.override({findParent:function(g,b,e){var a=this.dom,f=document.documentElement,d=0,c;b=b||50;if(isNaN(b)){c=Ext.getDom(b);b=Number.MAX_VALUE}while(a&&a.nodeType==1&&d<b&&a!=f&&a!=c){if(Ext.DomQuery.is(a,g))return e?Ext.get(a):a;d++;a=a.parentNode}return null},findParentNode:function(d,c,b){var a=Ext.fly(this.dom.parentNode,"_internal");return a?a.findParent(d,c,b):null},up:function(b,a){return this.findParentNode(b,a,true)},select:function(a,b){return Ext.dom.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(b,c){var a=Ext.DomQuery.selectNode(b,this.dom);return c?a:Ext.get(a)},child:function(d,e){var b,c=this,a;a=Ext.id(c.dom);a=a.replace(/[\.:]/g,"\\$0");b=Ext.DomQuery.selectNode("#"+a+" > "+d,c.dom);return e?b:Ext.get(b)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(c,e,b,d){if(!this.dom)return null;var a=this.dom[e];while(a){if(a.nodeType==1&&(!b||Ext.DomQuery.is(a,b)))return!d?Ext.get(a):a;a=a[c]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}});(function(){var c="afterbegin",m="afterend",b="beforebegin",o="beforeend",g="<table>",e="</table>",d=g+"<tbody>",i="</tbody>"+e,n=d+"<tr>",k="</tr>"+i,a=document.createElement("div"),h=["BeforeBegin","previousSibling"],f=["AfterEnd","nextSibling"],j={beforebegin:h,afterend:f},l={beforebegin:h,afterend:f,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};Ext.define("Ext.dom.Helper",{extend:"Ext.dom.AbstractHelper",tableRe:/^table|tbody|tr|td$/i,tableElRe:/td|tr|tbody/i,useDom:false,createDom:function(a,i){var b,f=document,h,c,d,j,e,g;if(Ext.isArray(a)){b=f.createDocumentFragment();for(e=0,g=a.length;e<g;e++)this.createDom(a[e],b)}else if(typeof a=="string")b=f.createTextNode(a);else{b=f.createElement(a.tag||"div");h=!!b.setAttribute;for(c in a)if(!this.confRe.test(c)){d=a[c];if(c=="cls")b.className=d;else if(h)b.setAttribute(c,d);else b[c]=d}Ext.DomHelper.applyStyles(b,a.style);if(j=a.children||a.cn)this.createDom(j,b);else if(a.html)b.innerHTML=a.html}i&&i.appendChild(b);return b},ieTable:function(g,d,h,f){a.innerHTML=[d,h,f].join("");var e=-1,c=a,b;while(++e<g)c=c.firstChild;b=c.nextSibling;if(b){c=document.createDocumentFragment();while(b){c.appendChild(b);b=b.nextSibling}}return c},insertIntoTable:function(f,j,a,r){var h,t,l=j==b,q=j==c,s=j==o,p=j==m;if(f=="td"&&(q||s)||!this.tableElRe.test(f)&&(l||p))return null;t=l?a:p?a.nextSibling:q?a.firstChild:null;if(l||p)a=a.parentNode;if(f=="td"||f=="tr"&&(s||q))h=this.ieTable(4,n,r,k);else if(f=="tbody"&&(s||q)||f=="tr"&&(l||p))h=this.ieTable(3,d,r,i);else h=this.ieTable(2,g,r,e);a.insertBefore(h,t);return h},createContextualFragment:function(e){var c=document.createDocumentFragment(),d,b;a.innerHTML=e;b=a.childNodes;d=b.length;while(d--)c.appendChild(b[0]);return c},applyStyles:function(b,a){if(a){b=Ext.fly(b);if(typeof a=="function")a=a.call();if(typeof a=="string")a=Ext.dom.Element.parseStyles(a);typeof a=="object"&&b.setStyle(a)}},createHtml:function(a){return this.markup(a)},doInsert:function(a,d,f,g,c,e){a=a.dom||Ext.getDom(a);var b;if(this.useDom){b=this.createDom(d,null);if(e)a.appendChild(b);else(c=="firstChild"?a:a.parentNode).insertBefore(b,a[c]||a)}else b=this.insertHtml(g,a,this.markup(d));return f?Ext.get(b,true):b},overwrite:function(a,b,d){var c;a=Ext.getDom(a);b=this.markup(b);if(Ext.isIE&&this.tableRe.test(a.tagName)){while(a.firstChild)a.removeChild(a.firstChild);if(b){c=this.insertHtml("afterbegin",a,b);return d?Ext.get(c):c}return null}a.innerHTML=b;return d?Ext.get(a.firstChild):a.firstChild},insertHtml:function(d,a,g){var k,f,i,h,e;d=d.toLowerCase();if(a.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(a.tagName)&&(e=this.insertIntoTable(a.tagName.toLowerCase(),d,a,g)))return e;if(k=l[d]){a.insertAdjacentHTML(k[0],g);return a[k[1]]}}else{if(a.nodeType===3){d=d==="afterbegin"?"beforebegin":d;d=d==="beforeend"?"afterend":d}f=Ext.supports.CreateContextualFragment?a.ownerDocument.createRange():undefined;h="setStart"+(this.endRe.test(d)?"After":"Before");if(j[d]){if(f){f[h](a);e=f.createContextualFragment(g)}else e=this.createContextualFragment(g);a.parentNode.insertBefore(e,d==b?a:a.nextSibling);return a[(d==b?"previous":"next")+"Sibling"]}else{i=(d==c?"first":"last")+"Child";if(a.firstChild){if(f){f[h](a[i]);e=f.createContextualFragment(g)}else e=this.createContextualFragment(g);if(d==c)a.insertBefore(e,a.firstChild);else a.appendChild(e)}else a.innerHTML=g;return a[i]}}},createTemplate:function(b){var a=this.markup(b);return new Ext.Template(a)}},function(){Ext.ns("Ext.core");Ext.DomHelper=Ext.core.DomHelper=new this})})();Ext.ns("Ext.core");Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*\#/,isIE=window.ActiveXObject?true:false,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,longHexToChar=function(b,a){return String.fromCharCode(parseInt(a,16))},shortToLongHex=function(b,a){while(a.length<6)a="0"+a;return"\\"+a},charToLongHex=function(b,a){num=a.charCodeAt(0).toString(16);if(num.length===1)num="0"+num;return"\\0000"+num},unescapeCssSelector=function(a){return hasEscapes?a.replace(longHex,longHexToChar):a};eval("var batch = 30803;");function child(b,c){var d=0,a=b.firstChild;while(a){if(a.nodeType==1)if(++d==c)return a;a=a.nextSibling}return null}function next(a){while((a=a.nextSibling)&&a.nodeType!=1);return a}function prev(a){while((a=a.previousSibling)&&a.nodeType!=1);return a}function children(c){var a=c.firstChild,d=-1,b;while(a){b=a.nextSibling;if(a.nodeType==3&&!nonSpace.test(a.nodeValue))c.removeChild(a);else a.nodeIndex=++d;a=b}return this}function byClassName(d,a){a=unescapeCssSelector(a);if(!a)return d;var e=[],f=-1,c,b;for(c=0,b;b=d[c];c++)if((" "+b.className+" ").indexOf(a)!=-1)e[++f]=b;return e}function attrValue(a,b){if(!a.tagName&&typeof a.length!="undefined")a=a[0];return!a?null:b=="for"?a.htmlFor:b=="class"||b=="className"?a.className:a.getAttribute(b)||a[b]}function getNodes(d,i,b){var e=[],k=-1,n,c,g,h,l,m,f,a,j;if(!d)return e;b=b||"*";if(typeof d.getElementsByTagName!="undefined")d=[d];if(!i)for(c=0,g;g=d[c];c++){n=g.getElementsByTagName(b);for(h=0,l;l=n[h];h++)e[++k]=l}else if(i=="/"||i==">"){f=b.toUpperCase();for(c=0,g,m;g=d[c];c++){m=g.childNodes;for(h=0,j;j=m[h];h++)if(j.nodeName==f||j.nodeName==b||b=="*")e[++k]=j}}else if(i=="+"){f=b.toUpperCase();for(c=0,a;a=d[c];c++){while((a=a.nextSibling)&&a.nodeType!=1);if(a&&(a.nodeName==f||a.nodeName==b||b=="*"))e[++k]=a}}else if(i=="~"){f=b.toUpperCase();for(c=0,a;a=d[c];c++)while(a=a.nextSibling)if(a.nodeName==f||a.nodeName==b||b=="*")e[++k]=a}return e}function concat(a,b){if(b.slice)return a.concat(b);for(var c=0,d=b.length;c<d;c++)a[a.length]=b[c];return a}function byTag(a,c){if(a.tagName||a==document)a=[a];if(!c)return a;var e=[],f=-1,d,b;c=c.toLowerCase();for(d=0,b;b=a[d];d++)if(b.nodeType==1&&b.tagName.toLowerCase()==c)e[++f]=b;return e}function byId(a,c){c=unescapeCssSelector(c);if(a.tagName||a==document)a=[a];if(!c)return a;var d=[],f=-1,e,b;for(e=0,b;b=a[e];e++)if(b&&b.id==c){d[++f]=b;return d}return d}function byAttribute(l,c,d,m,k){var h=[],n=-1,j=k=="{",e=Ext.DomQuery.operators[m],b,i,g,f,a;d=unescapeCssSelector(d);for(f=0,a;a=l[f];f++){if(a.nodeType!=1)continue;if(!g){i=Ext.DomQuery.isXml(a);g=true}if(!i)if(j)b=Ext.DomQuery.getStyle(a,c);else if(c=="class"||c=="className")b=a.className;else if(c=="for")b=a.htmlFor;else if(c=="href")b=a.getAttribute("href",2);else b=a.getAttribute(c);else b=a.getAttribute(c);if(e&&e(b,d)||!e&&b)h[++n]=a}return h}function byPseudo(c,b,a){a=unescapeCssSelector(a);return Ext.DomQuery.pseudos[b](c,a)}function nodupIEXml(b){var f=++key,e,a,c,d;b[0].setAttribute("_nodup",f);e=[b[0]];for(a=1,c=b.length;a<c;a++){d=b[a];if(!d.getAttribute("_nodup")!=f){d.setAttribute("_nodup",f);e[e.length]=d}}for(a=0,c=b.length;a<c;a++)b[a].removeAttribute("_nodup");return e}function nodup(a){if(!a)return[];var h=a.length,g,d,e=a,f,i=-1,c,b;if(!h||typeof a.nodeType!="undefined"||h==1)return a;if(isIE&&typeof a[0].selectSingleNode!="undefined")return nodupIEXml(a);c=++key;a[0]._nodup=c;for(d=1;g=a[d];d++)if(g._nodup!=c)g._nodup=c;else{e=[];for(b=0;b<d;b++)e[++i]=a[b];for(b=d+1;f=a[b];b++)if(f._nodup!=c){f._nodup=c;e[++i]=f}return e}return e}function quickDiffIEXml(c,d){var f=++key,e=[],a,b;for(a=0,b=c.length;a<b;a++)c[a].setAttribute("_qdiff",f);for(a=0,b=d.length;a<b;a++)if(d[a].getAttribute("_qdiff")!=f)e[e.length]=d[a];for(a=0,b=c.length;a<b;a++)c[a].removeAttribute("_qdiff");return e}function quickDiff(c,b){var e=c.length,g=++key,d=[],a,f;if(!e)return b;if(isIE&&typeof c[0].selectSingleNode!="undefined")return quickDiffIEXml(c,b);for(a=0;a<e;a++)c[a]._qdiff=g;for(a=0,f=b.length;a<f;a++)if(b[a]._qdiff!=g)d[d.length]=b[a];return d}function quickId(b,d,c,a){if(b==c){a=unescapeCssSelector(a);var e=c.ownerDocument||c;return e.getElementById(a)}b=getNodes(b,d,"*");return byId(b,a)}return{getStyle:function(b,a){return Ext.fly(b).getStyle(a)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;hasEscapes=path.indexOf("\\")>-1;if(hasEscapes)path=path.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\");if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/")path=path.substr(1);while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#")fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");';else fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");';path=path.replace(tokenMatch[0],"")}else if(path.substr(0,1)!="@")fn[fn.length]='n = getNodes(n, mode, "*");'}else if(tokenMatch){if(tokenMatch[1]=="#")fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");';else fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");';path=path.replace(tokenMatch[0],"")}while(!(modeMatch=path.match(modeRe))){matched=false;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(b,a){return m[a]});path=path.replace(m[0],"");matched=true;break}}!matched&&Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(h,b,i){b=b||document;if(typeof b=="string")b=document.getElementById(b);var f=h.split(","),c=[],e,g,a,d;for(e=0,g=f.length;e<g;e++){a=f[e].replace(trimRe,"");if(!cache[a]){cache[a]=Ext.DomQuery.compile(a,i);!cache[a]&&Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:a+" is not a valid selector"})}d=cache[a](b);if(d&&d!=document)c=c.concat(d)}return f.length>1?nodup(c):c},isXml:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":false},select:document.querySelectorAll?function(b,a,c){a=a||document;if(!Ext.DomQuery.isXml(a))try{if(a.parentNode&&a.nodeType!==9&&b.indexOf(",")===-1&&!startIdRe.test(b)){b="#"+Ext.escapeId(Ext.id(a))+" "+b;a=a.parentNode}return Ext.Array.toArray(a.querySelectorAll(b))}catch(d){}return Ext.DomQuery.jsSelect.call(this,b,a,c)}:function(a,b,c){return Ext.DomQuery.jsSelect.call(this,a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b)[0]},selectValue:function(b,e,d){b=b.replace(trimRe,"");if(!valueCache[b])valueCache[b]=Ext.DomQuery.compile(b,"select");var a=valueCache[b](e),c;a=a[0]?a[0]:a;typeof a.normalize=="function"&&a.normalize();c=a&&a.firstChild?a.firstChild.nodeValue:null;return c===null||c===undefined||c===""?d:c},selectNumber:function(b,c,a){var d=Ext.DomQuery.selectValue(b,c,a||0);return parseFloat(d)},is:function(a,d){if(typeof a=="string")a=document.getElementById(a);var b=Ext.isArray(a),c=Ext.DomQuery.filter(b?a:[a],d);return b?c.length==a.length:c.length>0},filter:function(c,a,d){a=a.replace(trimRe,"");if(!simpleCache[a])simpleCache[a]=Ext.DomQuery.compile(a,"simple");var b=simpleCache[a](c);return d?quickDiff(b,c):b},matchers:[{re:/^\.([\w\-\\]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&a.indexOf(b)!==-1},"%=":function(a,b){return a%b==0},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&(" "+a+" ").indexOf(" "+b+" ")!=-1}},pseudos:{"first-child":function(f){for(var d=[],e=-1,a,b,c=0;b=a=f[c];c++){while((a=a.previousSibling)&&a.nodeType!=1);if(!a)d[++e]=b}return d},"last-child":function(f){for(var d=[],e=-1,a,b,c=0;b=a=f[c];c++){while((a=a.nextSibling)&&a.nodeType!=1);if(!a)d[++e]=b}return d},"nth-child":function(l,c){for(var f=[],g=-1,k=nthRe.exec(c=="even"&&"2n"||c=="odd"&&"2n+1"||!nthRe2.test(c)&&"n+"+c||c),h=(k[1]||1)-0,e=k[2]-0,b,j,a,d,i=0;b=l[i];i++){d=b.parentNode;if(batch!=d._batch){j=0;for(a=d.firstChild;a;a=a.nextSibling)if(a.nodeType==1)a.nodeIndex=++j;d._batch=batch}if(h==1){if(e==0||b.nodeIndex==e)f[++g]=b}else if((b.nodeIndex+e)%h==0)f[++g]=b}return f},"only-child":function(e){for(var c=[],d=-1,a,b=0;a=e[b];b++)if(!prev(a)&&!next(a))c[++d]=a;return c},empty:function(i){var g=[],h=-1,d,a,f,e,c,b;for(d=0,a;a=i[d];d++){f=a.childNodes;e=0;b=true;while(c=f[e]){++e;if(c.nodeType==1||c.nodeType==3){b=false;break}}if(b)g[++h]=a}return g},contains:function(e,f){for(var c=[],d=-1,a,b=0;a=e[b];b++)if((a.textContent||a.innerText||a.text||"").indexOf(f)!=-1)c[++d]=a;return c},nodeValue:function(e,f){for(var c=[],d=-1,a,b=0;a=e[b];b++)if(a.firstChild&&a.firstChild.nodeValue==f)c[++d]=a;return c},checked:function(e){for(var c=[],d=-1,a,b=0;a=e[b];b++)if(a.checked==true)c[++d]=a;return c},not:function(b,a){return Ext.DomQuery.filter(b,a,true)},any:function(i,f){for(var h=f.split("|"),d=[],g=-1,e,a,b,c=0;a=i[c];c++)for(b=0;e=h[b];b++)if(Ext.DomQuery.is(a,e)){d[++g]=a;break}return d},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(b,a){return b[a-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(f,e){for(var g=Ext.DomQuery.select,c=[],d=-1,a,b=0;a=f[b];b++)if(g(e,a).length>0)c[++d]=a;return c},next:function(h,g){for(var e=Ext.DomQuery.is,d=[],f=-1,a,b,c=0;a=h[c];c++){b=next(a);if(b&&e(b,g))d[++f]=a}return d},prev:function(h,g){for(var e=Ext.DomQuery.is,d=[],f=-1,a,b,c=0;a=h[c];c++){b=prev(a);if(b&&e(b,g))d[++f]=a}return d}}}}();Ext.query=Ext.DomQuery.select;(function(){var HIDDEN="hidden",DOC=document,VISIBILITY="visibility",DISPLAY="display",NONE="none",XMASKED=Ext.baseCSSPrefix+"masked",XMASKEDRELATIVE=Ext.baseCSSPrefix+"masked-relative",EXTELMASKMSG=Ext.baseCSSPrefix+"mask-msg",bodyRe=/^body/i,visFly,noBoxAdjust=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},isScrolled=function(e){for(var c=[],d=-1,a,b=0;a=e[b];b++)if(a.scrollTop>0||a.scrollLeft>0)c[++d]=a;return c},Element=Ext.define("Ext.dom.Element",{extend:"Ext.dom.AbstractElement",alternateClassName:["Ext.Element","Ext.core.Element"],addUnits:function(){return this.self.addUnits.apply(this.self,arguments)},focus:function(e,a){var b=this,c,d;a=a||b.dom;d=(a.ownerDocument||DOC).body||DOC.body;try{if(Number(e))Ext.defer(b.focus,e,b,[null,a]);else{if(a.offsetHeight>Element.getViewHeight())c=d.scrollTop;a.focus();if(c!==undefined)d.scrollTop=c}}catch(f){}return b},blur:function(){try{this.dom.blur()}catch(a){}return this},isBorderBox:function(){var a=Ext.isBorderBox;if(a)a=!((this.dom.tagName||"").toLowerCase()in noBoxAdjust);return a},hover:function(d,e,c,b){var a=this;a.on("mouseenter",d,c||a.dom,b);a.on("mouseleave",e,c||a.dom,b);return a},getAttributeNS:function(b,a){return this.getAttribute(a,b)},getAttribute:Ext.isIE&&!(Ext.isIE9&&DOC.documentMode===9)?function(a,c){var d=this.dom,b;if(c){b=typeof d[c+":"+a];return b!="undefined"&&b!="unknown"?d[c+":"+a]||null:null}if(a==="for")a="htmlFor";return d[a]||null}:function(a,c){var b=this.dom;return c?b.getAttributeNS(c,a)||b.getAttribute(c+":"+a):b.getAttribute(a)||b[a]||null},cacheScrollValues:function(){var f=this,c,b,a,d=[],e=function(){for(a=0;a<c.length;a++){b=c[a];b.scrollLeft=d[a][0];b.scrollTop=d[a][1]}};if(!Ext.DomQuery.pseudos.isScrolled)Ext.DomQuery.pseudos.isScrolled=isScrolled;c=f.query(":isScrolled");for(a=0;a<c.length;a++){b=c[a];d[a]=[b.scrollLeft,b.scrollTop]}return e},autoBoxAdjust:true,isVisible:function(c){var d=this,a=d.dom,b=a.ownerDocument.documentElement;if(!visFly)visFly=new Element.Fly;while(a!==b){if(!a||a.nodeType===11||visFly.attach(a).isStyle(VISIBILITY,HIDDEN)||visFly.isStyle(DISPLAY,NONE))return false;if(!c)break;a=a.parentNode}return true},isDisplayed:function(){return!this.isStyle(DISPLAY,NONE)},enableDisplayMode:function(b){var a=this;a.setVisibilityMode(Element.DISPLAY);if(!Ext.isEmpty(b))(a.$cache||a.getCache()).data.originalDisplay=b;return a},mask:function(h,g,i){var b=this,d=b.dom,f=d.style.setExpression,e=(b.$cache||b.getCache()).data,a=e.maskEl,c=e.maskMsg;!(bodyRe.test(d.tagName)&&b.getStyle("position")=="static")&&b.addCls(XMASKEDRELATIVE);a&&a.remove();c&&c.remove();Ext.DomHelper.append(d,[{cls:Ext.baseCSSPrefix+"mask"},{cls:g?EXTELMASKMSG+" "+g:EXTELMASKMSG,cn:{tag:"div",html:h||""}}]);c=Ext.get(d.lastChild);a=Ext.get(c.dom.previousSibling);e.maskMsg=c;e.maskEl=a;b.addCls(XMASKED);a.setDisplayed(true);if(typeof h=="string"){c.setDisplayed(true);c.center(b)}else c.setDisplayed(false);!Ext.supports.IncludePaddingInWidthCalculation&&f&&a.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"');if(!Ext.supports.IncludePaddingInHeightCalculation&&f)a.dom.style.setExpression("height","this.parentNode."+(d==DOC.body?"scrollHeight":"offsetHeight")+' + "px"');else Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&b.getStyle("height")=="auto"&&a.setSize(undefined,i||b.getHeight());return a},unmask:function(){var d=this,c=(d.$cache||d.getCache()).data,a=c.maskEl,e=c.maskMsg,b;if(a){b=a.dom.style;if(b.clearExpression){b.clearExpression("width");b.clearExpression("height")}if(a){a.remove();delete c.maskEl}if(e){e.remove();delete c.maskMsg}d.removeCls([XMASKED,XMASKEDRELATIVE])}},isMasked:function(){var a=this,e=(a.$cache||a.getCache()).data,d=e.maskEl,c=e.maskMsg,b=false;if(d&&d.isVisible()){c&&c.center(a);b=true}return b},createShim:function(){var a=DOC.createElement("iframe"),b;a.frameBorder="0";a.className=Ext.baseCSSPrefix+"shim";a.src=Ext.SSL_SECURE_URL;b=Ext.get(this.dom.parentNode.insertBefore(a,this.dom));b.autoBoxAdjust=false;return b},addKeyListener:function(a,d,c){var b;if(typeof a!="object"||Ext.isArray(a))b={target:this,key:a,fn:d,scope:c};else b={target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:d,scope:c};return new Ext.util.KeyMap(b)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},on:function(a,d,c,b){Ext.EventManager.on(this,a,d,c||this,b);return this},un:function(a,c,b){Ext.EventManager.un(this,a,c,b||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this}},function(){var EC=Ext.cache,El=this,AbstractElement=Ext.dom.AbstractElement,focusRe=/a|button|embed|iframe|img|input|object|select|textarea/i,nonSpaceRe=/\S/,scriptTagRe=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,replaceScriptTagRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,useDocForId=!(Ext.isIE6||Ext.isIE7||Ext.isIE8);El.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';function garbageCollect(){if(!Ext.enableGarbageCollector)clearInterval(El.collectorThreadId);else{var a,b,c,d;for(a in EC){if(!EC.hasOwnProperty(a))continue;c=EC[a];if(c.skipGarbageCollection)continue;b=c.dom;if(!b.parentNode||!b.offsetParent&&!Ext.getElementById(a)){b&&Ext.enableListenerCollection&&Ext.EventManager.removeAll(b);delete EC[a]}}if(Ext.isIE){d={};for(a in EC){if(!EC.hasOwnProperty(a))continue;d[a]=EC[a]}EC=Ext.cache=d}}}El.collectorThreadId=setInterval(garbageCollect,3e4);El.addMethods({monitorMouseLeave:function(e,d,f){var c=this,b,a={mouseleave:function(a){b=setTimeout(Ext.Function.bind(d,f||c,[a]),e)},mouseenter:function(){clearTimeout(b)},freezeEvent:true};c.on(a);return a},swallowEvent:function(a,f){var b=this,c,d;function e(a){a.stopPropagation();f&&a.preventDefault()}if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++)b.on(a[c],e);return b}b.on(a,e);return b},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(g){var c=this,d=c.dom,e=(c.$cache||c.getCache()).data,a=d.firstChild,f=-1,b;if(e.isCleaned&&g!==true)return c;while(a){b=a.nextSibling;if(a.nodeType==3){if(!nonSpaceRe.test(a.nodeValue))d.removeChild(a);else if(b&&b.nodeType==3){a.appendData(Ext.String.trim(b.data));d.removeChild(b);b=a.nextSibling;a.nodeIndex=++f}}else{Ext.fly(a).clean();a.nodeIndex=++f}a=b}e.isCleaned=true;return c},load:function(a){this.getLoader().load(a);return this},getLoader:function(){var b=this,c=(b.$cache||b.getCache()).data,a=c.loader;if(!a)c.loader=a=new Ext.ElementLoader({target:b});return a},update:function(html,loadScripts,callback){var me=this,id,dom,interval;if(!me.dom)return me;html=html||"";dom=me.dom;if(loadScripts!==true){dom.innerHTML=html;Ext.callback(callback,me);return me}id=Ext.id();html+='<span id="'+id+'"></span>';interval=setInterval(function(){var hd,match,attrs,srcMatch,typeMatch,el,s;if(!(el=DOC.getElementById(id)))return false;clearInterval(interval);Ext.removeNode(el);hd=Ext.getHead().dom;while(match=scriptTagRe.exec(html)){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2])s.type=typeMatch[2];hd.appendChild(s)}else if(match[2]&&match[2].length>0)if(window.execScript)window.execScript(match[2]);else window.eval(match[2])}Ext.callback(callback,me)},20);dom.innerHTML=html.replace(replaceScriptTagRe,"");return me},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(a,d,e){a=typeof a=="object"?a:{tag:"div",cls:a};var c=this,b=d?Ext.DomHelper.append(d,a,true):Ext.DomHelper.insertBefore(c.dom,a,true);b.setVisibilityMode(Element.DISPLAY);b.hide();e&&c.setBox&&c.getBox&&b.setBox(c.getBox());return b},getScopeParent:function(){var a=this.dom.parentNode;return Ext.scopeResetCSS?a.parentNode:a},needsTabIndex:function(){if(this.dom)return this.dom.nodeName==="a"&&!this.dom.href?true:!focusRe.test(this.dom.nodeName)},focusable:function(){var a=this.dom,c=a.nodeName,b=false;if(!a.disabled)if(focusRe.test(c)){if(c!=="a"||a.href)b=true}else b=!isNaN(a.tabIndex);return b&&this.isVisible(true)}});if(Ext.isIE)El.prototype.getById=function(c,e){var f=this.dom,d,b,a;if(f){b=useDocForId&&DOC.getElementById(c)||f.all[c];if(b){if(e)a=b;else{d=EC[c];if(d&&d.el){a=d.el;a.dom=b}else a=new Element(b)}return a}}return e?Ext.getDom(c):El.get(c)};El.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners"});El.Fly=AbstractElement.Fly=new Ext.Class({extend:El,constructor:function(a){this.dom=a},attach:AbstractElement.Fly.prototype.attach});if(Ext.isIE)Ext.getElementById=function(c){var a=DOC.getElementById(c),b;if(!a&&(b=AbstractElement.detachedBodyEl))a=b.dom.all[c];return a};else if(!DOC.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(a){return DOC.getElementById(a)}}})})();Ext.dom.Element.override(function(){var b=document,c=window,d=/^([a-z]+)-([a-z]+)(\?)?$/,a=Math.round;return{getAnchorXY:function(i,k,g){i=(i||"tl").toLowerCase();g=g||{};var f=this,h=f.dom==b.body||f.dom==b,d=g.width||h?Ext.dom.Element.getViewWidth():f.getWidth(),e=g.height||h?Ext.dom.Element.getViewHeight():f.getHeight(),c,j=f.getXY(),l=f.getScroll(),n=h?l.left:!k?j[0]:0,m=h?l.top:!k?j[1]:0;switch(i){case"tl":c=[0,0];break;case"bl":c=[0,e];break;case"tr":c=[d,0];break;case"c":c=[a(d*.5),a(e*.5)];break;case"t":c=[a(d*.5),0];break;case"l":c=[0,a(e*.5)];break;case"r":c=[d,a(e*.5)];break;case"b":c=[a(d*.5),e];break;case"br":c=[d,e]}return[c[0]+n,c[1]+m]},getAlignToXY:function(c,a,l){c=Ext.get(c);!c||!c.dom;l=l||[0,0];a=(!a||a=="?"?"tl-bl?":!/-/.test(a)&&a!==""?"tl-"+a:a||"tl-bl").toLowerCase();var q=this,s,x,f,e,m,n,g,z=Ext.dom.Element.getViewWidth()-10,B=Ext.dom.Element.getViewHeight()-10,p,r,t,u,v,w,A=b.documentElement,C=b.body,k=A.scrollLeft||C.scrollLeft||0,j=A.scrollTop||C.scrollTop||0,y,i,h,o=a.match(d);i=o[1];h=o[2];y=!!o[3];s=q.getAnchorXY(i,true);x=c.getAnchorXY(h,false);f=x[0]-s[0]+l[0];e=x[1]-s[1]+l[1];if(y){m=q.getWidth();n=q.getHeight();g=c.getRegion();p=i.charAt(0);r=i.charAt(i.length-1);t=h.charAt(0);u=h.charAt(h.length-1);v=p=="t"&&t=="b"||p=="b"&&t=="t";w=r=="r"&&u=="l"||r=="l"&&u=="r";if(f+m>z+k)f=w?g.left-m:z+k-m;if(f<k)f=w?g.right:k;if(e+n>B+j)e=v?g.top-n:B+j-n;if(e<j)e=v?g.bottom:j}return[f,e]},anchorTo:function(h,k,i,g,d,l){var b=this,e=b.dom,f=!Ext.isEmpty(d),a=function(){Ext.fly(e).alignTo(h,k,i,g);Ext.callback(l,Ext.fly(e))},j=this.getAnchor();this.removeAnchor();Ext.apply(j,{fn:a,scroll:f});Ext.EventManager.onWindowResize(a,null);if(f)Ext.EventManager.on(c,"scroll",a,null,{buffer:!isNaN(d)?d:50});a.call(b);return b},removeAnchor:function(){var b=this,a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);a.scroll&&Ext.EventManager.un(c,"scroll",a.fn);delete a.fn}return b},getAlignVector:function(a,e,f){var d=this,c=d.getXY(),b=d.getAlignToXY(a,e,f);a=Ext.get(a);b[0]-=c[0];b[1]-=c[1];return b},alignTo:function(d,c,e,b){var a=this;return a.setXY(a.getAlignToXY(d,c,e),a.anim&&!!b?a.anim(b):false)},getConstrainVector:function(a,f){if(!(a instanceof Ext.util.Region))a=Ext.get(a).getViewRegion();var b=this.getRegion(),c=[0,0],e=this.shadow&&this.shadow.offset,d=false;f&&b.translateBy(f[0]-b.x,f[1]-b.y);e&&a.adjust(0,-e,-e,e);if(b.right>a.right){d=true;c[0]=a.right-b.right}if(b.left+c[0]<a.left){d=true;c[0]=a.left-b.left}if(b.bottom>a.bottom){d=true;c[1]=a.bottom-b.bottom}if(b.top+c[1]<a.top){d=true;c[1]=a.top-b.top}return d?c:false},getCenterXY:function(){return this.getAlignToXY(b,"c-c")},center:function(a){return this.alignTo(a||b,"c-c")}}}());Ext.dom.Element.override({animate:function(a){var b=this,c,d,e=b.dom.id||Ext.id(b.dom);if(!Ext.fx.Manager.hasFxBlock(e)){if(a.listeners){c=a.listeners;delete a.listeners}if(a.internalListeners){a.listeners=a.internalListeners;delete a.internalListeners}d=new Ext.fx.Anim(b.anim(a));if(c)d.on(c);Ext.fx.Manager.queueFx(d)}return b},anim:function(b){if(!Ext.isObject(b))return b?{}:false;var c=this,d=b.duration||Ext.fx.Anim.prototype.duration,e=b.easing||"ease",a;b.stopAnimation&&c.stopAnimation();Ext.applyIf(b,Ext.fx.Manager.getFxDefaults(c.id));Ext.fx.Manager.setFxDefaults(c.id,{delay:0});a={target:c.dom,remove:b.remove,alternate:b.alternate||false,duration:d,easing:e,callback:b.callback,listeners:b.listeners,iterations:b.iterations||1,scope:b.scope,block:b.block,concurrent:b.concurrent,delay:b.delay||0,paused:true,keyframes:b.keyframes,from:b.from||{},to:Ext.apply({},b)};Ext.apply(a.to,b.to);delete a.to.to;delete a.to.from;delete a.to.remove;delete a.to.alternate;delete a.to.keyframes;delete a.to.iterations;delete a.to.listeners;delete a.to.target;delete a.to.paused;delete a.to.callback;delete a.to.scope;delete a.to.duration;delete a.to.easing;delete a.to.concurrent;delete a.to.block;delete a.to.stopAnimation;delete a.to.delay;return a},slideIn:function(c,b,e){var a=this,f=a.dom.style,i,d,g,h;c=c||"t";b=b||{};i=function(){var n=this,m=b.listeners,i,l,k,j;!e&&a.fixDisplay();i=a.getBox();if((c=="t"||c=="b")&&i.height===0)i.height=a.dom.scrollHeight;else if((c=="l"||c=="r")&&i.width===0)i.width=a.dom.scrollWidth;l=a.getStyles("width","height","left","right","top","bottom","position","z-index",true);a.setSize(i.width,i.height);if(b.preserveScroll)g=a.cacheScrollValues();j=a.wrap({id:Ext.id()+"-anim-wrap-for-"+a.id,style:{visibility:e?"visible":"hidden"}});h=j.dom.parentNode;j.setPositioning(a.getPositioning());j.isStyle("position","static")&&j.position("relative");a.clearPositioning("auto");j.clip();g&&g();a.setStyle({visibility:"",position:"absolute"});e&&j.setSize(i.width,i.height);switch(c){case"t":k={from:{width:i.width+"px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}};f.bottom="0px";break;case"l":k={from:{width:"0px",height:i.height+"px"},to:{width:i.width+"px",height:i.height+"px"}};f.right="0px";break;case"r":k={from:{x:i.x+i.width,width:"0px",height:i.height+"px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}};break;case"b":k={from:{y:i.y+i.height,width:i.width+"px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}};break;case"tl":k={from:{x:i.x,y:i.y,width:"0px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}};f.bottom="0px";f.right="0px";break;case"bl":k={from:{x:i.x+i.width,width:"0px",height:"0px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}};f.right="0px";break;case"br":k={from:{x:i.x+i.width,y:i.y+i.height,width:"0px",height:"0px"},to:{x:i.x,y:i.y,width:i.width+"px",height:i.height+"px"}};break;case"tr":k={from:{y:i.y+i.height,width:"0px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}};f.bottom="0px"}j.show();d=Ext.apply({},b);delete d.listeners;d=new Ext.fx.Anim(Ext.applyIf(d,{target:j,duration:500,easing:"ease-out",from:e?k.to:k.from,to:e?k.from:k.to}));d.on("afteranimate",function(){a.setStyle(l);if(e)if(b.useDisplay)a.setDisplayed(false);else a.hide();if(j.dom){if(j.dom.parentNode)j.dom.parentNode.insertBefore(a.dom,j.dom);else h.appendChild(a.dom);j.remove()}g&&g();n.end()});if(m)d.on(m)};a.animate({duration:b.duration?Math.max(b.duration,500)*2:1e3,listeners:{beforeanimate:i}});return a},slideOut:function(a,b){return this.slideIn(a,b,true)},puff:function(b){var a=this,d,c=a.getBox(),e=a.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",true);b=Ext.applyIf(b||{},{easing:"ease-out",duration:500,useDisplay:false});d=function(){a.clearOpacity();a.show();this.to={width:c.width*2,height:c.height*2,x:c.x-c.width/2,y:c.y-c.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){if(a.dom){if(b.useDisplay)a.setDisplayed(false);else a.hide();a.setStyle(e);b.callback.call(b.scope)}})};a.animate({duration:b.duration,easing:b.easing,listeners:{beforeanimate:{fn:d}}});return a},switchOff:function(b){var a=this,c;b=Ext.applyIf(b||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});c=function(){var g=this,c=a.getSize(),f=a.getXY(),e,d;a.clearOpacity();a.clip();d=a.getPositioning();e=new Ext.fx.Animator({target:a,duration:b.duration,easing:b.easing,keyframes:{33:{opacity:.3},66:{height:1,y:f[1]+c.height/2},100:{width:1,x:f[0]+c.width/2}}});e.on("afteranimate",function(){if(b.useDisplay)a.setDisplayed(false);else a.hide();a.clearOpacity();a.setPositioning(d);a.setSize(c);g.end()})};a.animate({duration:Math.max(b.duration,500)*2,listeners:{beforeanimate:{fn:c}}});return a},frame:function(c,d,b){var a=this,e;c=c||"#C3DAF9";d=d||1;b=b||{};e=function(){a.show();var h=this,e=a.getBox(),g=Ext.getBody().createChild({id:a.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+c}}),f;f=new Ext.fx.Anim({target:g,duration:b.duration||1e3,iterations:d,from:{top:e.y,left:e.x,borderWidth:0,opacity:1,height:e.height,width:e.width},to:{top:e.y-20,left:e.x-20,borderWidth:10,opacity:0,height:e.height+40,width:e.width+40}});f.on("afteranimate",function(){g.remove();h.end()})};a.animate({duration:Math.max(b.duration,500)*2||2e3,listeners:{beforeanimate:{fn:e}}});return a},ghost:function(b,d){var a=this,c;b=b||"b";c=function(){var f=a.getWidth(),e=a.getHeight(),d=a.getXY(),g=a.getPositioning(),c={opacity:0};switch(b){case"t":c.y=d[1]-e;break;case"l":c.x=d[0]-f;break;case"r":c.x=d[0]+f;break;case"b":c.y=d[1]+e;break;case"tl":c.x=d[0]-f;c.y=d[1]-e;break;case"bl":c.x=d[0]-f;c.y=d[1]+e;break;case"br":c.x=d[0]+f;c.y=d[1]+e;break;case"tr":c.x=d[0]+f;c.y=d[1]-e}this.to=c;this.on("afteranimate",function(){if(a.dom){a.hide();a.clearOpacity();a.setPositioning(g)}})};a.animate(Ext.applyIf(d||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:{fn:c}}}));return a},highlight:function(k,b){var e=this,h=e.dom,j={},i,g,d,c,a,f;b=b||{};c=b.listeners||{};d=b.attr||"backgroundColor";j[d]=k||"ffff9c";if(!b.to){g={};g[d]=b.endColor||e.getColor(d,"ffffff","")}else g=b.to;b.listeners=Ext.apply(Ext.apply({},c),{beforeanimate:function(){i=h.style[d];e.clearOpacity();e.show();a=c.beforeanimate;if(a){f=a.fn||a;return f.apply(a.scope||c.scope||window,arguments)}},afteranimate:function(){if(h)h.style[d]=i;a=c.afteranimate;if(a){f=a.fn||a;f.apply(a.scope||c.scope||window,arguments)}}});e.animate(Ext.apply({},b,{duration:1e3,easing:"ease-in",from:j,to:g}));return e},pause:function(b){var a=this;Ext.fx.Manager.setFxDefaults(a.id,{delay:b});return a},fadeIn:function(b){var a=this;a.animate(Ext.apply({},b,{opacity:1,internalListeners:{beforeanimate:function(){if(a.isStyle("display","none"))a.setDisplayed("");else a.show()}}}));return this},fadeOut:function(b){var a=this;b=Ext.apply({opacity:0,internalListeners:{afteranimate:function(c){var d=a.dom;if(d&&c.to.opacity===0)if(b.useDisplay)a.setDisplayed(false);else a.hide()}}},b);a.animate(b);return a},scale:function(a,b,c){this.animate(Ext.apply({},c,{width:a,height:b}));return this},shift:function(a){this.animate(a);return this}});Ext.dom.Element.override({initDD:function(c,b,d){var a=new Ext.dd.DD(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDProxy:function(c,b,d){var a=new Ext.dd.DDProxy(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDTarget:function(c,b,d){var a=new Ext.dd.DDTarget(Ext.id(this.dom),c,b);return Ext.apply(a,d)}});(function(){var a=Ext.dom.Element,g="visibility",b="display",c="none",f="hidden",o="visible",n="offsets",l="asclass",j="nosize",d="originalDisplay",e="visibilityMode",k="isVisible",m=Ext.baseCSSPrefix+"hide-offsets",h=function(b){var c=(b.$cache||b.getCache()).data,a=c[d];if(a===undefined)c[d]=a="";return a},i=function(c){var d=(c.$cache||c.getCache()).data,b=d[e];if(b===undefined)d[e]=b=a.VISIBILITY;return b};a.override({originalDisplay:"",visibilityMode:1,setVisible:function(e,h){var c=this,o=c.dom,d=i(c);if(typeof h=="string"){switch(h){case b:d=a.DISPLAY;break;case g:d=a.VISIBILITY;break;case n:d=a.OFFSETS;break;case j:case l:d=a.ASCLASS}c.setVisibilityMode(d);h=false}if(!h||!c.anim)if(d==a.DISPLAY)return c.setDisplayed(e);else if(d==a.OFFSETS)c[e?"removeCls":"addCls"](m);else if(d==a.VISIBILITY){c.fixDisplay();o.style.visibility=e?"":f}else d==a.ASCLASS&&c[e?"removeCls":"addCls"](c.visibilityCls||a.visibilityCls);else{if(e){c.setOpacity(.01);c.setVisible(true)}if(!Ext.isObject(h))h={duration:350,easing:"ease-in"};c.animate(Ext.applyIf({callback:function(){!e&&c.setVisible(false).setOpacity(1)},to:{opacity:e?1:0}},h))}(c.$cache||c.getCache()).data[k]=e;return c},hasMetrics:function(){var b=i(this);return this.isVisible()||b==a.OFFSETS||b==a.VISIBILITY},toggle:function(b){var a=this;a.setVisible(!a.isVisible(),a.anim(b));return a},setDisplayed:function(a){if(typeof a=="boolean")a=a?h(this):c;this.setStyle(b,a);return this},fixDisplay:function(){var a=this;if(a.isStyle(b,c)){a.setStyle(g,f);a.setStyle(b,h(a));a.isStyle(b,c)&&a.setStyle(b,"block")}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this}this.setVisible(false,this.anim(a));return this},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this}this.setVisible(true,this.anim(a));return this}})})();(function(){var c=Ext.dom.Element,d="left",i="right",e="top",h="bottom",j="position",m="static",w="relative",p="auto",s="z-index",r="BODY",f="padding",k="border",q="-left",o="-right",l="-top",n="-bottom",g="-width",b={l:k+q+g,r:k+o+g,t:k+l+g,b:k+n+g},a={l:f+q,r:f+o,t:f+l,b:f+n},v=[a.l,a.r,a.t,a.b],t=[b.l,b.r,b.t,b.b],u=["position","top","left"];c.override({getX:function(){return c.getX(this.dom)},getY:function(){return c.getY(this.dom)},getXY:function(){return c.getXY(this.dom)},getOffsetsTo:function(c){var a=this.getXY(),b=Ext.fly(c,"_internal").getXY();return[a[0]-b[0],a[1]-b[1]]},setX:function(a,b){return this.setXY([a,this.getY()],b)},setY:function(a,b){return this.setXY([this.getX(),a],b)},setLeft:function(a){this.setStyle(d,this.addUnits(a));return this},setTop:function(a){this.setStyle(e,this.addUnits(a));return this},setRight:function(a){this.setStyle(i,this.addUnits(a));return this},setBottom:function(a){this.setStyle(h,this.addUnits(a));return this},setXY:function(d,a){var b=this;if(!a||!b.anim)c.setXY(b.dom,d);else{if(!Ext.isObject(a))a={};b.animate(Ext.applyIf({to:{x:d[0],y:d[1]}},a))}return b},getLeft:function(a){return!a?this.getX():parseFloat(this.getStyle(d))||0},getRight:function(b){var a=this;return!b?a.getX()+a.getWidth():a.getLeft(true)+a.getWidth()||0},getTop:function(a){return!a?this.getY():parseFloat(this.getStyle(e))||0},getBottom:function(b){var a=this;return!b?a.getY()+a.getHeight():a.getTop(true)+a.getHeight()||0},translatePoints:function(a,f){var d=this,e=d.getStyle(u),g=e.position=="relative",c=parseFloat(e.left),b=parseFloat(e.top),h=d.getXY();if(Ext.isArray(a)){f=a[1];a=a[0]}if(isNaN(c))c=g?0:d.dom.offsetLeft;if(isNaN(b))b=g?0:d.dom.offsetTop;c=typeof a=="number"?a-h[0]+c:undefined;b=typeof f=="number"?f-h[1]+b:undefined;return{left:c,top:b}},setBox:function(b,e,f){var a=this,d=b.width,c=b.height;if(e&&!a.autoBoxAdjust&&!a.isBorderBox()){d-=a.getBorderWidth("lr")+a.getPadding("lr");c-=a.getBorderWidth("tb")+a.getPadding("tb")}a.setBounds(b.x,b.y,d,c,f);return a},getBox:function(p,q){var g=this,c,s,r,h,i,j,o,k,n,m,l,f;if(!q)c=g.getXY();else{c=g.getStyle([d,e]);c=[parseFloat(c.left)||0,parseFloat(c.top)||0]}m=g.getWidth();l=g.getHeight();if(!p)f={x:c[0],y:c[1],0:c[0],1:c[1],width:m,height:l};else{h=g.getStyle(v);i=g.getStyle(t);j=(parseFloat(i[b.l])||0)+(parseFloat(h[a.l])||0);o=(parseFloat(i[b.r])||0)+(parseFloat(h[a.r])||0);k=(parseFloat(i[b.t])||0)+(parseFloat(h[a.t])||0);n=(parseFloat(i[b.b])||0)+(parseFloat(h[a.b])||0);f={x:c[0]+j,y:c[1]+k,0:c[0]+j,1:c[1]+k,width:m-(j+o),height:l-(k+n)}}f.right=f.x+f.width;f.bottom=f.y+f.height;return f},getPageBox:function(k){var e=this,b=e.dom,g=b.nodeName==r,h=g?Ext.dom.AbstractElement.getViewWidth():b.offsetWidth,d=g?Ext.dom.AbstractElement.getViewHeight():b.offsetHeight,a=e.getXY(),i=a[1],j=a[0]+h,f=a[1]+d,c=a[0];return k?new Ext.util.Region(i,j,f,c):{left:c,top:i,width:h,height:d,right:j,bottom:f}},setLocation:function(c,b,a){return this.setXY([c,b],a)},moveTo:function(c,b,a){return this.setXY([c,b],a)},position:function(b,d,e,c){var a=this;if(!b&&a.isStyle(j,m))a.setStyle(j,w);else b&&a.setStyle(j,b);d&&a.setStyle(s,d);(e||c)&&a.setXY([e||false,c||false])},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:m});return this},getPositioning:function(){var a=this.getStyle([d,e,j,i,h,s]);a[i]=a[d]?"":a[i];a[h]=a[e]?"":a[h];return a},setPositioning:function(b){var a=this,c=a.dom.style;a.setStyle(b);if(b.right==p)c.right="";if(b.bottom==p)c.bottom="";return a},move:function(c,a,l){var i=this,k=i.getXY(),d=k[0],b=k[1],g=[d-a,b],j=[d+a,b],e=[d,b-a],f=[d,b+a],h={l:g,left:g,r:j,right:j,t:e,top:e,up:e,b:f,bottom:f,down:f};c=c.toLowerCase();i.moveTo(h[c][0],h[c][1],l)},setLeftTop:function(b,d){var a=this.dom.style;a.left=c.addUnits(b);a.top=c.addUnits(d);return this},getRegion:function(){return this.getPageBox(true)},getViewRegion:function(){var a=this,h=a.dom.nodeName==r,g,e,c,b,d,f;if(h){g=a.getScroll();b=g.left;c=g.top;d=Ext.dom.AbstractElement.getViewportWidth();f=Ext.dom.AbstractElement.getViewportHeight()}else{e=a.getXY();b=e[0]+a.getBorderWidth("l")+a.getPadding("l");c=e[1]+a.getBorderWidth("t")+a.getPadding("t");d=a.getWidth(true);f=a.getHeight(true)}return new Ext.util.Region(c,b+d,c+f,b)},setBounds:function(c,e,d,f,b){var a=this;if(!b||!a.anim){a.setSize(d,f);a.setLocation(c,e)}else{if(!Ext.isObject(b))b={};a.animate(Ext.applyIf({to:{x:c,y:e,width:a.adjustWidth(d),height:a.adjustHeight(f)}},b))}return a},setRegion:function(a,b){return this.setBounds(a.left,a.top,a.right-a.left,a.bottom-a.top,b)}})})();Ext.dom.Element.override({isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var b=this.dom,f=document,a=f.body,g=f.documentElement,c,e,d;if(b==f||b==a){if(Ext.isIE&&Ext.isStrict){c=g.scrollLeft;e=g.scrollTop}else{c=window.pageXOffset;e=window.pageYOffset}d={left:c||(a?a.scrollLeft:0),top:e||(a?a.scrollTop:0)}}else d={left:b.scrollLeft,top:b.scrollTop};return d},scrollBy:function(a,b,d){var e=this,c=e.dom;if(a.length){d=b;b=a[1];a=a[0]}else if(typeof a!="number"){d=b;b=a.y;a=a.x}a&&e.scrollTo("left",Math.max(Math.min(c.scrollLeft+a,c.scrollWidth-c.clientWidth),0),d);b&&e.scrollTo("top",Math.max(Math.min(c.scrollTop+b,c.scrollHeight-c.clientHeight),0),d);return e},scrollTo:function(g,c,a){var e=/top/i.test(g),b=this,h=b.dom,d={},f;if(!a||!b.anim){f="scroll"+(e?"Top":"Left");h[f]=c}else{if(!Ext.isObject(a))a={};d["scroll"+(e?"Top":"Left")]=c;b.animate(Ext.applyIf({to:d},a))}return b},scrollIntoView:function(a,k){a=Ext.getDom(a)||Ext.getBody().dom;var b=this.dom,h=this.getOffsetsTo(a),c=h[0]+a.scrollLeft,d=h[1]+a.scrollTop,f=d+b.offsetHeight,i=c+b.offsetWidth,e=a.clientHeight,j=parseInt(a.scrollTop,10),g=parseInt(a.scrollLeft,10),l=j+e,m=g+a.clientWidth;if(b.offsetHeight>e||d<j)a.scrollTop=d;else if(f>l)a.scrollTop=f-e;a.scrollTop=a.scrollTop;if(k!==false){if(b.offsetWidth>a.clientWidth||c<g)a.scrollLeft=c;else if(i>m)a.scrollLeft=i-a.clientWidth;a.scrollLeft=a.scrollLeft}return this},scrollChildIntoView:function(b,a){Ext.fly(b,"_scrollChildIntoView").scrollIntoView(this,a)},scroll:function(c,d,j){if(!this.isScrollable())return false;var a=this.dom,g=a.scrollLeft,h=a.scrollTop,m=a.scrollWidth,l=a.scrollHeight,k=a.clientWidth,i=a.clientHeight,f=false,e,b={l:Math.min(g+d,m-k),r:e=Math.max(g-d,0),t:Math.max(h-d,0),b:Math.min(h+d,l-i)};b.d=b.b;b.u=b.t;c=c.substr(0,1);if((e=b[c])>-1){f=true;this.scrollTo(c=="l"||c=="r"?"left":"top",e,this.anim(j))}return f}});(function(){var a=Ext.dom.Element,p=document.defaultView,s=/table-row|table-.*-group/,b="_internal",m="hidden",k="height",e="width",d="isClipped",g="overflow",i="overflow-x",h="overflow-y",q="originalClip",o=/#document|body/i,c,j,l,f,n;if(!p||!p.getComputedStyle)a.prototype.getStyle=function(r,q){var k=this,f=k.dom,o=typeof r!="string",p=k.styleHooks,d=r,l=d,n=1,m=q,j,h,g,c,e,b,i;if(o){g={};d=l[0];i=0;if(!(n=l.length))return g}if(!f||f.documentElement)return g||"";h=f.style;if(q)b=h;else{b=f.currentStyle;if(!b){m=true;b=h}}do{c=p[d];if(!c)p[d]=c={name:a.normalize(d)};if(c.get)e=c.get(f,k,m,b);else{j=c.name;if(c.canThrow)try{e=b[j]}catch(s){e=""}else e=b?b[j]:""}if(!o)return e;g[d]=e;d=l[++i]}while(i<n);return g};a.override({getHeight:function(f,e){var b=this,d=b.dom,g=b.isStyle("display","none"),a,c;if(g)return 0;a=Math.max(d.offsetHeight,d.clientHeight)||0;if(Ext.supports.Direct2DBug){c=b.adjustDirect2DDimension(k);if(e)a+=c;else if(c>0&&c<.5)a++}if(f)a-=b.getBorderWidth("tb")+b.getPadding("tb");return a<0?0:a},getWidth:function(h,g){var b=this,d=b.dom,i=b.isStyle("display","none"),f,a,c;if(i)return 0;if(Ext.supports.BoundingClientRect){f=d.getBoundingClientRect();a=f.right-f.left;a=g?a:Math.ceil(a)}else a=d.offsetWidth;a=Math.max(a,d.clientWidth)||0;if(Ext.supports.Direct2DBug){c=b.adjustDirect2DDimension(e);if(g)a+=c;else if(c>0&&c<.5)a++}if(h)a-=b.getBorderWidth("lr")+b.getPadding("lr");return a<0?0:a},setWidth:function(c,b){var a=this;c=a.adjustWidth(c);if(!b||!a.anim)a.dom.style.width=a.addUnits(c);else{if(!Ext.isObject(b))b={};a.animate(Ext.applyIf({to:{width:c}},b))}return a},setHeight:function(b,c){var a=this;b=a.adjustHeight(b);if(!c||!a.anim)a.dom.style.height=a.addUnits(b);else{if(!Ext.isObject(c))c={};a.animate(Ext.applyIf({to:{height:b}},c))}return a},applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},setSize:function(b,c,d){var a=this;if(Ext.isObject(b)){d=c;c=b.height;b=b.width}b=a.adjustWidth(b);c=a.adjustHeight(c);if(!d||!a.anim){a.dom.style.width=a.addUnits(b);a.dom.style.height=a.addUnits(c)}else{if(d===true)d={};a.animate(Ext.applyIf({to:{width:b,height:c}},d))}return a},getViewSize:function(){var e=this,c=e.dom,d=o.test(c.nodeName),b;if(d)b={width:a.getViewWidth(),height:a.getViewHeight()};else b={width:c.clientWidth,height:c.clientHeight};return b},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},adjustWidth:function(a){var b=this,c=typeof a=="number";if(c&&b.autoBoxAdjust&&!b.isBorderBox())a-=b.getBorderWidth("lr")+b.getPadding("lr");return c&&a<0?0:a},adjustHeight:function(a){var b=this,c=typeof a=="number";if(c&&b.autoBoxAdjust&&!b.isBorderBox())a-=b.getBorderWidth("tb")+b.getPadding("tb");return c&&a<0?0:a},getColor:function(h,g,e){var a=this.getStyle(h),b=e||e===""?e:"#",d,f,c=0;if(!a||/transparent|inherit/.test(a))return g;if(/^r/.test(a)){a=a.slice(4,a.length-1).split(",");f=a.length;for(;c<f;c++){d=parseInt(a[c],10);b+=(d<16?"0":"")+d.toString(16)}}else{a=a.replace("#","");b+=a.length==3?a.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):a}return b.length>5?b.toLowerCase():g},setOpacity:function(c,b){var a=this;if(!a.dom)return a;if(!b||!a.anim)a.setStyle("opacity",c);else{if(typeof b!="object")b={duration:350,easing:"ease-in"};a.animate(Ext.applyIf({to:{opacity:c}},b))}return a},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(f){var c=this,a=c.dom,b=c.getStyle("display"),j=a.style.display,i=a.style.position,h=f===e?0:1,d=a.currentStyle,g;if(b==="inline")a.style.display="inline-block";a.style.position=b.match(s)?"absolute":"static";g=(parseFloat(d[f])||parseFloat(d.msTransformOrigin.split(" ")[h])*2)%1;a.style.position=i;if(b==="inline")a.style.display=j;return g},clip:function(){var a=this,c=(a.$cache||a.getCache()).data,b;if(!c[d]){c[d]=true;b=a.getStyle([g,i,h]);c[q]={o:b[g],x:b[i],y:b[h]};a.setStyle(g,m);a.setStyle(i,m);a.setStyle(h,m)}return a},unclip:function(){var b=this,c=(b.$cache||b.getCache()).data,a;if(c[d]){c[d]=false;a=c[q];a.o&&b.setStyle(g,a.o);a.x&&b.setStyle(i,a.x);a.y&&b.setStyle(h,a.y)}return b},boxWrap:function(b){b=b||Ext.baseCSSPrefix+"box";var c=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+Ext.String.format(a.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",c.dom).appendChild(this.dom);return c},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle(k))||0;if(!a.isBorderBox())b+=a.getFrameWidth("tb")}return b},getComputedWidth:function(){var a=this,b=Math.max(a.dom.offsetWidth,a.dom.clientWidth);if(!b){b=parseFloat(a.getStyle(e))||0;if(!a.isBorderBox())b+=a.getFrameWidth("lr")}return b},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClsOnOver:function(c,e,g){var a=this,d=a.dom,f=Ext.isFunction(e);a.hover(function(){if(f&&e.call(g||a,a)===false)return;Ext.fly(d,b).addCls(c)},function(){Ext.fly(d,b).removeCls(c)});return a},addClsOnFocus:function(c,e,g){var a=this,d=a.dom,f=Ext.isFunction(e);a.on("focus",function(){if(f&&e.call(g||a,a)===false)return false;Ext.fly(d,b).addCls(c)});a.on("blur",function(){Ext.fly(d,b).removeCls(c)});return a},addClsOnClick:function(c,e,g){var a=this,d=a.dom,f=Ext.isFunction(e);a.on("mousedown",function(){if(f&&e.call(g||a,a)===false)return false;Ext.fly(d,b).addCls(c);var i=Ext.getDoc(),h=function(){Ext.fly(d,b).removeCls(c);i.removeListener("mouseup",h)};i.on("mouseup",h)});return a},getStyleSize:function(){var c=this,g=this.dom,h=o.test(g.nodeName),b,d,f;if(h)return{width:a.getViewWidth(),height:a.getViewHeight()};b=c.getStyle([k,e],true);if(b.width&&b.width!="auto"){d=parseFloat(b.width);if(c.isBorderBox())d-=c.getFrameWidth("lr")}if(b.height&&b.height!="auto"){f=parseFloat(b.height);if(c.isBorderBox())f-=c.getFrameWidth("tb")}return{width:d||c.getWidth(true),height:f||c.getHeight(true)}},selectable:function(){var a=this;a.dom.unselectable="off";a.on("selectstart",function(a){a.stopPropagation();return true});a.applyStyles("-moz-user-select: text; -khtml-user-select: text;");a.removeCls(Ext.baseCSSPrefix+"unselectable");return a},unselectable:function(){var a=this;a.dom.unselectable="on";a.swallowEvent("selectstart",true);a.applyStyles("-moz-user-select:-moz-none;-khtml-user-select:none;");a.addCls(Ext.baseCSSPrefix+"unselectable");return a}});a.prototype.styleHooks=c=Ext.dom.AbstractElement.prototype.styleHooks;if(Ext.isIE6)c.fontSize=c["font-size"]={name:"fontSize",canThrow:true};if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){function r(d,b,c,a){return a[this.styleName]=="none"?"0px":a[this.name]}j=["Top","Right","Bottom","Left"];l=j.length;while(l--){f=j[l];n="border"+f+"Width";c["border-"+f.toLowerCase()+"-width"]=c[n]={name:n,styleName:"border"+f+"Style","get":r}}}})();Ext.onReady(function(){var b=/alpha\(opacity=(.*)\)/i,c=/^\s+|\s+$/g,a=Ext.dom.Element.prototype.styleHooks;a.opacity={name:"opacity",afterSet:function(c,b,a){if(a.isLayer)a.onOpacitySet(b)}};!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(a.opacity,{"get":function(e){var d=e.style.filter,c,a;if(d.match){c=d.match(b);if(c){a=parseFloat(c[1]);if(!isNaN(a))return a?a/100:0}}return 1},"set":function(f,a){var d=f.style,e=d.filter.replace(b,"").replace(c,"");d.zoom=1;if(typeof a=="number"&&a>=0&&a<1){a*=100;d.filter=e+(e.length?" ":"")+"alpha(opacity="+a+")"}else d.filter=e}})});Ext.dom.Element.override({select:function(a){return Ext.dom.Element.select(a,false,this.dom)}});Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",requires:["Ext.dom.Element"],statics:{importElementMethods:function(){var b,c=Ext.dom.Element.prototype,a=this.prototype;for(b in c)typeof c[b]=="function"&&(function(b){a[b]=a[b]||function(){return this.invoke(b,arguments)}}).call(a,b)}},constructor:function(b,a){this.elements=[];this.add(b,a);this.el=new Ext.dom.AbstractElement.Fly},isComposite:true,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,d){var e=this.elements,b,c;if(!a)return this;if(typeof a=="string")a=Ext.dom.Element.selectorFunction(a,d);else if(a.isComposite)a=a.elements;else if(!Ext.isIterable(a))a=[a];for(b=0,c=a.length;b<c;++b)e.push(this.transformElement(a[b]));return this},invoke:function(c,e){var d=this.elements,f=d.length,b,a;c=Ext.dom.Element.prototype[c];for(a=0;a<f;a++){b=d[a];b&&c.apply(this.getElement(b),e)}return this},item:function(c){var b=this.elements[c],a=null;if(b)a=this.getElement(b);return a},addListener:function(e,h,g,f){for(var c=this.elements,d=c.length,a,b=0;b<d;b++){a=c[b];if(a)Ext.EventManager.on(a,e,h,g||a,f)}return this},each:function(g,f){for(var c=this,d=c.elements,e=d.length,a,b=0;b<e;b++){a=d[b];if(a){a=this.getElement(a);if(g.call(f||a,a,c,b)===false)break}}return c},fill:function(b){var a=this;a.elements=[];a.add(b);return a},filter:function(e){for(var b=this,f=b.elements,h=f.length,g=[],c=0,i=typeof e=="function",d,a;c<h;c++){a=f[c];d=false;if(a){a=b.getElement(a);if(i)d=e.call(a,a,b,c)!==false;else d=a.is(e);d&&g.push(b.transformElement(a))}}b.elements=g;return b},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(d,a,e){var c=!isNaN(d)?d:this.indexOf(d),b;if(c>-1){a=Ext.getDom(a);if(e){b=this.elements[c];b.parentNode.insertBefore(a,b);Ext.removeNode(b)}Ext.Array.splice(this.elements,c,1,a)}return this},clear:function(){this.elements=[]},addElements:function(a,d){if(!a)return this;if(typeof a=="string")a=Ext.dom.Element.selectorFunction(a,d);for(var e=this.elements,c=a.length,b=0;b<c;b++)e.push(Ext.get(a[b]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(c,h){c=[].concat(c);for(var e=this,f=e.elements,g=c.length,a,b,d=0;d<g;d++){a=c[d];if(b=f[a]||f[a=e.indexOf(a)]){if(h)if(b.dom)b.remove();else Ext.removeNode(b);Ext.Array.erase(f,a,1)}}return e}},function(){this.importElementMethods();this.prototype.on=this.prototype.addListener;if(Ext.DomQuery)Ext.dom.Element.selectorFunction=Ext.DomQuery.select;Ext.dom.Element.select=function(a,c){var b;if(typeof a=="string")b=Ext.dom.Element.selectorFunction(a,c);else if(a.length!==undefined)b=a;return new Ext.CompositeElementLite(b)};Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},function(){Ext.dom.Element.select=function(a,d,c){var b;if(typeof a=="string")b=Ext.dom.Element.selectorFunction(a,c);else if(a.length!==undefined)b=a;return d===true?new Ext.CompositeElement(b):new Ext.CompositeElementLite(b)}});Ext.select=Ext.Element.select;Ext.define("Ext.AbstractPlugin",{disabled:false,constructor:function(a){Ext.apply(this,a)},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.ComponentQuery",{singleton:true,uses:["Ext.ComponentManager"]},function(){var a=this,k=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),e=function(b,a){return a.method.apply(this,[b].concat(a.args))},b=function(d,g){for(var a=[],b=0,f=d.length,c,e=g!==">";b<f;b++){c=d[b];if(c.getRefItems)a=a.concat(c.getRefItems(e))}return a},h=function(d){for(var c=[],b=0,e=d.length,a;b<e;b++){a=d[b];while(!!(a=a.ownerCt||a.floatParent))c.push(a)}return c},f=function(a,e,g){if(e==="*")return a.slice();else{for(var d=[],b=0,f=a.length,c;b<f;b++){c=a[b];c.isXType(e,g)&&d.push(c)}return d}},j=function(d,e){for(var g=Ext.Array,c=[],a=0,f=d.length,b;a<f;a++){b=d[a];b.hasCls(e)&&c.push(b)}return c},m=function(d,f,h,e){for(var c=[],b=0,g=d.length,a;b<g;b++){a=d[b];(!e?!!a[f]:String(a[f])===e)&&c.push(a)}return c},d=function(d,f){for(var c=[],a=0,e=d.length,b;a<e;a++){b=d[a];b.getItemId()===f&&c.push(b)}return c},l=function(b,c,d){return a.pseudos[c](b,d)},i=/^(\s?([>\^])\s?|\s|$)/,g=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,c=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:f},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:m},{re:/^#([\w\-]+)/,method:d},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:l},{re:/^(?:\{([^\}]+)\})/,method:k}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(c){var g=this.operations,f=0,i=g.length,d,a;if(!c)a=Ext.ComponentManager.all.getArray();else if(Ext.isArray(c))a=c;else if(c.isMixedCollection)a=c.items;for(;f<i;f++){d=g[f];if(d.mode==="^")a=h(a||[c]);else if(d.mode)a=b(a||[c],d.mode);else a=e(a||b([c]),d);if(f===i-1)return a}return[]},is:function(d){var c=this.operations,a=Ext.isArray(d)?d:[d],g=a.length,h=c[c.length-1],f,b;a=e(a,h);if(a.length===g){if(c.length>1)for(b=0,f=a.length;b<f;b++)if(Ext.Array.indexOf(this.execute(),a[b])===-1)return false;return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(d,e){for(var h=Ext.ComponentQuery,b=0,g=d.length,c=[],f=-1,a;b<g;++b){a=d[b];if(!h.is(a,e))c[++f]=a}return c},last:function(a){return a[a.length-1]}},query:function(c,k){for(var i=c.split(","),e=i.length,a=0,b=[],j=[],h={},g,f,d;a<e;a++){c=Ext.String.trim(i[a]);g=this.cache[c]||(this.cache[c]=this.parse(c));b=b.concat(g.execute(k))}if(e>1){f=b.length;for(a=0;a<f;a++){d=b[a];if(!h[d.id]){j.push(d);h[d.id]=true}}b=j}return b},is:function(e,a){if(!a)return true;for(var c=a.split(","),f=c.length,b=0,d;b<f;b++){a=Ext.String.trim(c[b]);d=this.cache[a]||(this.cache[a]=this.parse(a));if(d.is(e))return true}},parse:function(b){var h=[],q=c.length,r,e,o,m,n,k,l,p;while(b&&r!==b){r=b;e=b.match(g);if(e){o=e[1];if(o==="#")h.push({method:d,args:[Ext.String.trim(e[2])]});else if(o===".")h.push({method:j,args:[Ext.String.trim(e[2])]});else h.push({method:f,args:[Ext.String.trim(e[2]),Boolean(e[3])]});b=b.replace(e[0],"")}while(!(m=b.match(i)))for(k=0;b&&k<q;k++){l=c[k];n=b.match(l.re);p=l.method;if(n){h.push({method:Ext.isString(l.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[p].concat(n.slice(1)))):l.method,args:n.slice(1)});b=b.replace(n[0],"");break}k===q-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}if(m[1]){h.push({mode:m[2]||m[1]});b=b.replace(m[0],"")}}return new a.Query({operations:h})}})});Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},constructor:function(g){var a=this,c=arguments,e=[],f=0,d=c.length,b;a.initialConfig={};if(d===1&&Ext.isArray(g)){c=g;d=c.length}if(d>1)for(;f<d;f++){b=c[f];if(typeof b=="object"){Ext.apply(a.initialConfig,b);Ext.apply(a,b)}else e.push(b)}else e.push(g);a.html=e.join("");a.compiled&&a.compile()},isTemplate:true,disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(b){var a=this,f=a.disableFormats!==true,e=Ext.util.Format,d=a,c;if(a.compiled)return a.compiled(b).join("");function g(h,c,g,a){if(g&&f){if(a)a=[b[c]].concat(Ext.functionFactory("return ["+a+"];")());else a=[b[c]];return g.substr(0,5)=="this."?d[g.substr(5)].apply(d,a):e[g].apply(e,a)}else return b[c]!==undefined?b[c]:""}c=a.html.replace(a.re,g);return c},applyOut:function(c,a){var b=this;if(b.compiled)a.push.apply(a,b.compiled(c));else a.push(b.apply(c));return a},applyTemplate:function(){return this.apply.apply(this,arguments)},"set":function(b,c){var a=this;a.html=b;a.compiled=null;return c?a.compile():a},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(d,c,a,b){if(a&&useFormat){b=b?","+b:"";if(a.substr(0,5)!="this.")a="fm."+a+"(";else a="this."+a.substr(5)+"("}else{b="";a="(values['"+c+"'] == undefined ? '' : "}return"',"+a+"values['"+c+"']"+b+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'];};";eval(body);return me},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(c,d,b,e){var a=Ext.DomHelper.insertHtml(c,Ext.getDom(d),this.apply(b));return e?Ext.get(a):a},overwrite:function(c,b,d){var a=Ext.DomHelper.overwrite(Ext.getDom(c),this.apply(b));return d?Ext.get(a):a}});Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(g){var b=this,p=g.length,r={elseif:"elif"},o=b.topRe,q=b.actionsRe,h,e,i,c,f,l,k,m,j,d,a,n;b.level=0;b.stack=e=[];for(h=0;h<p;h=d){o.lastIndex=h;c=o.exec(g);if(!c){b.doText(g.substring(h,p));break}j=c.index;d=o.lastIndex;h<j&&b.doText(g.substring(h,j));if(c[1]){d=g.indexOf("%}",j+2);b.doEval(g.substring(j+2,d));d+=2}else if(c[2]){d=g.indexOf("]}",j+2);b.doExpr(g.substring(j+2,d));d+=2}else if(c[3])b.doTag(c[3]);else if(c[4]){a=null;while((m=q.exec(c[4]))!==null){i=m[2]||m[3];if(i){i=Ext.String.htmlDecode(i);f=m[1];f=r[f]||f;a=a||{};l=a[f];if(typeof l=="string")a[f]=[l,i];else if(l)a[f].push(i);else a[f]=i}}if(!a)if(b.elseRe.test(c[4]))b.doElse();else if(b.defaultRe.test(c[4]))b.doDefault();else{b.doTpl();e.push({type:"tpl"})}else if(a["if"]){b.doIf(a["if"],a);e.push({type:"if"})}else if(a["switch"]){b.doSwitch(a["switch"],a);e.push({type:"switch"})}else if(a["case"])b.doCase(a["case"],a);else if(a.elif)b.doElseIf(a.elif,a);else if(a["for"]){++b.level;if(n=b.propRe.exec(c[4]))a.propName=n[1]||n[2];b.doFor(a["for"],a);e.push({type:"for",actions:a})}else if(a.exec){b.doExec(a.exec,a);e.push({type:"exec",actions:a})}}else if(c[0].length===5)e.push({type:"tpl"});else{k=e.pop();b.doEnd(k.type,k.actions);if(k.type=="for")--b.level}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.chart.Callout",{constructor:function(a){if(a.callouts){a.callouts.styles=Ext.applyIf(a.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"});this.callouts=Ext.apply(this.callouts||{},a.callouts);this.calloutsArray=[]}},renderCallouts:function(){if(!this.callouts)return;var d=this,n=d.items,p=d.chart.animate,j=d.callouts,r=j.styles,l=d.calloutsArray,k=d.chart.store,o=k.getCount(),q=n.length/o,m=[],e,c,h,b,i,a,f,g;for(e=0,c=0;e<o;e++)for(h=0;h<q;h++){i=n[c];a=l[c];f=k.getAt(e);g=j.filter(f);if(!g&&!a){c++;continue}if(!a)l[c]=a=d.onCreateCallout(f,i,e,g,h,c);for(b in a)a[b]&&a[b].setAttributes&&a[b].setAttributes(r,true);if(!g)for(b in a)if(a[b])if(a[b].setAttributes)a[b].setAttributes({hidden:true},true);else a[b].setVisible&&a[b].setVisible(false);j.renderer(a,f);d.onPlaceCallout(a,f,i,e,g,p,h,c,m);m.push(a);c++}this.hideCallouts(c)},onCreateCallout:function(){var a=this,l=a.calloutsGroup,c=a.callouts,d=c.styles,g=d.width,h=d.height,e=a.chart,f=e.surface,b={lines:false};b.lines=f.add(Ext.apply({},{type:"path",path:"M0,0",stroke:a.getLegendColor()||"#555"},d));if(c.items)b.panel=new Ext.Panel({style:"position: absolute;",width:g,height:h,items:c.items,renderTo:e.el});return b},hideCallouts:function(e){var d=this.calloutsArray,c=d.length,a,b;while(c-->e){a=d[c];for(b in a)a[b]&&a[b].hide(true)}}});Ext.define("Ext.chart.Navigation",{constructor:function(){this.originalStore=this.store},setZoom:function(g){var h=this,n=h.axes,i=n.items,f,k,b,m=h.chartBBox,l=1/m.width,j=1/m.height,e={x:g.x*l,y:g.y*j,width:g.width*l,height:g.height*j},a,d,c;for(f=0,k=i.length;f<k;f++){b=i[f];a=b.calcEnds();if(b.position=="bottom"||b.position=="top"){d=(a.to-a.from)*e.x+a.from;c=(a.to-a.from)*e.width+d;b.minimum=d;b.maximum=c}else{c=(a.to-a.from)*(1-e.y)+a.from;d=c-(a.to-a.from)*e.height;b.minimum=d;b.maximum=c}}h.redraw(false)},restoreZoom:function(){if(this.originalStore){this.store=this.substore=this.originalStore;this.redraw(true)}}});Ext.define("Ext.chart.Shape",{singleton:true,circle:function(b,a){return b.add(Ext.apply({type:"circle",x:a.x,y:a.y,stroke:null,radius:a.radius},a))},line:function(b,a){return b.add(Ext.apply({type:"rect",x:a.x-a.radius,y:a.y-a.radius,height:2*a.radius,width:2*a.radius/5},a))},square:function(b,a){return b.add(Ext.applyIf({type:"rect",x:a.x-a.radius,y:a.y-a.radius,height:2*a.radius,width:2*a.radius,radius:null},a))},triangle:function(b,a){a.radius*=1.75;return b.add(Ext.apply({type:"path",stroke:null,path:"M".concat(a.x,",",a.y,"m0-",a.radius*.58,"l",a.radius*.5,",",a.radius*.87,"-",a.radius,",0z")},a))},diamond:function(c,b){var a=b.radius;a*=1.5;return c.add(Ext.apply({type:"path",stroke:null,path:["M",b.x,b.y-a,"l",a,a,-a,a,-a,-a,a,-a,"z"]},b))},cross:function(c,b){var a=b.radius;a=a/1.7;return c.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-a,",",b.y,"l",[-a,-a,a,-a,a,a,a,-a,a,a,-a,a,a,a,-a,a,-a,-a,-a,a,-a,-a,"z"])},b))},plus:function(c,b){var a=b.radius/1.3;return c.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-a/2,",",b.y-a/2,"l",[0,-a,a,0,0,a,a,0,0,a,-a,0,0,a,-a,0,0,-a,-a,0,0,-a,"z"])},b))},arrow:function(c,b){var a=b.radius;return c.add(Ext.apply({type:"path",path:"M".concat(b.x-a*.7,",",b.y-a*.4,"l",[a*.6,0,0,-a*.4,a,a*.8,-a,a*.8,0,-a*.4,-a*.6,0],"z")},b))},drop:function(e,c,d,f,a,b){a=a||30;b=b||0;e.add({type:"path",path:["M",c,d,"l",a,0,"A",a*.4,a*.4,0,1,0,c+a*.7,d-a*.7,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-b,x:c,y:d}});b=(b+90)*Math.PI/180;e.add({type:"text",x:c+a*Math.sin(b)-10,y:d+a*Math.cos(b)+5,text:f,"font-size":a*12/40,stroke:"none",fill:"#fff"})}});Ext.define("Ext.data.IdGenerator",{isGenerator:true,constructor:function(b){var a=this;Ext.apply(a,b);if(a.id)Ext.data.IdGenerator.all[a.id]=a},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},"get":function(a){var b,d,c;if(typeof a=="string"){d=c=a;a=null}else if(a.isGenerator)return a;else{d=a.id||a.type;c=a.type}b=this.all[d];if(!b)b=Ext.create("idgen."+c,a);return b}}});Ext.define("Ext.data.JsonP",{singleton:true,statics:{requestCount:0,requests:{}},timeout:3e4,disableCaching:true,disableCachingParam:"_dc",callbackKey:"callback",request:function(a){a=Ext.apply({},a);var b=this,l=Ext.isDefined(a.disableCaching)?a.disableCaching:b.disableCaching,m=a.disableCachingParam||b.disableCachingParam,e=++b.statics().requestCount,f=a.callbackName||"callback"+e,h=a.callbackKey||b.callbackKey,j=Ext.isDefined(a.timeout)?a.timeout:b.timeout,d=Ext.apply({},a.params),g=a.url,k=Ext.name,c,i;d[h]=k+".data.JsonP."+f;if(l)d[m]=(new Date).getTime();i=b.createScript(g,d,a);b.statics().requests[e]=c={url:g,params:d,script:i,id:e,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:h,callbackName:f};if(j>0)c.timeout=setTimeout(Ext.bind(b.handleTimeout,b,[c]),j);b.setupErrorHandling(c);b[f]=Ext.bind(b.handleResponse,b,[c],true);b.loadScript(c);return c},abort:function(a){var d=this,b=d.statics().requests,c;if(a){if(!a.id)a=b[a];d.handleAbort(a)}else for(c in b)b.hasOwnProperty(c)&&d.abort(b[c])},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort";this.handleResponse(null,a)},handleError:function(a){a.errorType="error";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout";this.handleResponse(null,a)},handleResponse:function(b,a){var c=true;a.timeout&&clearTimeout(a.timeout);delete this[a.callbackName];delete this.statics().requests[a.id];this.cleanupErrorHandling(a);Ext.fly(a.script).remove();if(a.errorType){c=false;Ext.callback(a.failure,a.scope,[a.errorType])}else Ext.callback(a.success,a.scope,[b]);Ext.callback(a.callback,a.scope,[c,b,a.errorType])},createScript:function(b,c){var a=document.createElement("script");a.setAttribute("src",Ext.urlAppend(b,Ext.Object.toQueryString(c)));a.setAttribute("async",true);a.setAttribute("type","text/javascript");return a},loadScript:function(a){Ext.getHead().appendChild(a.script)}});Ext.define("Ext.data.Operation",{synchronous:true,action:undefined,filters:undefined,sorters:undefined,groupers:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(g){var e=this,f,c,a,d,b;if(!e.actionSkipSyncRe.test(e.action)){a=e.records;if(a&&a.length){if(a.length>1){f=new Ext.util.MixedCollection;f.addAll(g);for(c=a.length;c--;){b=a[c];d=f.findBy(e.matchClientRec,b);b.copyFrom(d)}}else{b=a[0];d=g[0];d&&(b.phantom||b.getId()===d.getId())&&b.copyFrom(d)}if(e.actionCommitRecordsRe.test(e.action))for(c=a.length;c--;)a[c].commit()}}},matchClientRec:function(c){var a=this,b=a.getId();return b&&c.getId()===b?true:c.internalId===a.internalId},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}});Ext.define("Ext.data.Request",{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(a){Ext.apply(this,a)}});Ext.define("Ext.data.ResultSet",{loaded:true,count:0,total:0,success:false,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===undefined)this.count=this.records.length}});Ext.define("Ext.data.SequentialIdGenerator",{extend:"Ext.data.IdGenerator",alias:"idgen.sequential",constructor:function(){var a=this;a.callParent(arguments);a.parts=[a.prefix,""]},prefix:"",seed:1,generate:function(){var a=this,b=a.parts;b[1]=a.seed++;return b.join("")}});Ext.define("Ext.data.SortTypes",{singleton:true,none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return!a?0:Ext.isDate(a)?a.getTime():Date.parse(String(a))},asFloat:function(b){var a=parseFloat(String(b).replace(/,/g,""));return isNaN(a)?0:a},asInt:function(b){var a=parseInt(String(b).replace(/,/g,""),10);return isNaN(a)?0:a}});Ext.define("Ext.data.Types",{singleton:true,requires:["Ext.data.SortTypes"]},function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(a){var b=this.useNull?null:"";return a===undefined||a===null?b:String(a)},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){return this.useNull&&(a===undefined||a===null||a==="")?null:a===true||a==="true"||a==1},sortType:a.none,type:"bool"},DATE:{convert:function(a){var b=this.dateFormat,c;if(!a)return null;if(Ext.isDate(a))return a;if(b)return b=="timestamp"?new Date(a*1e3):b=="time"?new Date(parseInt(a,10)):Ext.Date.parse(a,b);c=Date.parse(a);return c?new Date(c):null},sortType:a.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.define("Ext.data.UuidGenerator",function(){var g=Math.pow(2,14),f=Math.pow(2,16),e=Math.pow(2,28),b=Math.pow(2,32);function a(c,b){var a=c.toString(16);if(a.length>b)a=a.substring(a.length-b);else if(a.length<b)a=Ext.String.leftPad(a,b,"0");return a}function c(a,c){var b=Math.random()*(c-a+1);return Math.floor(b)+a}function d(a){if(typeof a=="number"){var c=Math.floor(a/b);return{lo:Math.floor(a-c*b),hi:c}}return a}return{extend:"Ext.data.IdGenerator",alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var a=this;a.callParent(arguments);a.parts=[];a.init()},generate:function(){var c=this,e=c.parts,d=c.timestamp;e[0]=a(d.lo,8);e[1]=a(d.hi&65535,4);e[2]=a(d.hi>>>16&4095|c.version<<12,4);e[3]=a(128|c.clockSeq>>>8&63,2)+a(c.clockSeq&255,2);e[4]=a(c.salt.hi,4)+a(c.salt.lo,8);if(c.version==4)c.init();else{++d.lo;if(d.lo>=b){d.lo=0;++d.hi}}return e.join("-").toLowerCase()},getRecId:function(a){return a.getId()},init:function(){var a=this,h,i;if(a.version==4){a.clockSeq=c(0,g-1);h=a.salt||(a.salt={});i=a.timestamp||(a.timestamp={});h.lo=c(0,b-1);h.hi=c(0,f-1);i.lo=c(0,b-1);i.hi=c(0,e-1)}else{a.salt=d(a.salt);a.timestamp=d(a.timestamp);a.salt.hi|=256}},reconfigure:function(a){Ext.apply(this,a);this.init()}}}());Ext.define("Ext.data.validations",{singleton:true,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(b,a){if(arguments.length===1)a=b;return!!a||a===0},length:function(c,a){if(a===undefined||a===null)return false;var e=a.length,d=c.min,b=c.max;return d&&e<d||b&&e>b?false:true},email:function(b,a){return Ext.data.validations.emailRe.test(a)},format:function(a,b){return!!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",defaultReaderType:"json",statics:{AUTO_ID:1e3,create:function(a){if(!a.isAssociation){if(Ext.isString(a))a={type:a};switch(a.type){case"belongsTo":return new Ext.data.association.BelongsTo(a);case"hasMany":return new Ext.data.association.HasMany(a);case"hasOne":return new Ext.data.association.HasOne(a)}}return a}},constructor:function(a){Ext.apply(this,a);var b=Ext.ModelManager.types,c=a.ownerModel,d=a.associatedModel,e=b[c],f=b[d],g;this.ownerModel=e;this.associatedModel=f;Ext.applyIf(this,{ownerName:c,associatedName:d});this.associationId="association"+ ++this.statics().AUTO_ID},getReader:function(){var b=this,a=b.reader,c=b.associatedModel;if(a){if(Ext.isString(a))a={type:a};if(a.isReader)a.setModel(c);else Ext.applyIf(a,{model:c,type:b.defaultReaderType});b.reader=Ext.createByAlias("reader."+a.type,a)}return b.reader||null}});Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(){this.callParent(arguments);var a=this,c=a.ownerModel.prototype,b=a.associatedName,e=a.getterName||"get"+b,d=a.setterName||"set"+b;Ext.applyIf(a,{name:b,foreignKey:b.toLowerCase()+"_id",instanceName:b+"BelongsToInstance",associationKey:b.toLowerCase()});c[e]=a.createGetter();c[d]=a.createSetter()},createSetter:function(){var b=this,a=b.foreignKey;return function(c,b,d){if(c&&c.isModel)c=c.getId();this.set(a,c);if(Ext.isFunction(b))b={callback:b,scope:d||this};if(Ext.isObject(b))return this.save(b)}},createGetter:function(){var a=this,e=a.associatedName,f=a.associatedModel,d=a.foreignKey,c=a.primaryKey,b=a.instanceName;return function(a,i){a=a||{};var h=this,l=h.get(d),k,g,j;if(a.reload===true||h[b]===undefined){g=Ext.ModelManager.create({},e);g.set(c,l);if(typeof a=="function")a={callback:a,scope:i||h};k=a.success;a.success=function(a){h[b]=a;k&&k.apply(this,arguments)};f.load(l,a);h[b]=g;return g}else{g=h[b];j=[g];i=i||a.scope||h;Ext.callback(a,i,j);Ext.callback(a.success,i,j);Ext.callback(a.failure,i,j);Ext.callback(a.callback,i,j);return g}}},read:function(b,a,c){b[this.instanceName]=a.read([c]).records[0]}});Ext.define("Ext.data.association.HasOne",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(){this.callParent(arguments);var a=this,c=a.ownerModel.prototype,b=a.associatedName,e=a.getterName||"get"+b,d=a.setterName||"set"+b;Ext.applyIf(a,{name:b,foreignKey:b.toLowerCase()+"_id",instanceName:b+"HasOneInstance",associationKey:b.toLowerCase()});c[e]=a.createGetter();c[d]=a.createSetter()},createSetter:function(){var a=this,c=a.ownerModel,b=a.foreignKey;return function(c,a,d){if(c&&c.isModel)c=c.getId();this.set(b,c);if(Ext.isFunction(a))a={callback:a,scope:d||this};if(Ext.isObject(a))return this.save(a)}},createGetter:function(){var a=this,g=a.ownerModel,e=a.associatedName,f=a.associatedModel,d=a.foreignKey,c=a.primaryKey,b=a.instanceName;return function(a,i){a=a||{};var h=this,l=h.get(d),k,g,j;if(a.reload===true||h[b]===undefined){g=Ext.ModelManager.create({},e);g.set(c,l);if(typeof a=="function")a={callback:a,scope:i||h};k=a.success;a.success=function(a){h[b]=a;k&&k.call(this,arguments)};f.load(l,a);h[b]=g;return g}else{g=h[b];j=[g];i=i||h;Ext.callback(a,i,j);Ext.callback(a.success,i,j);Ext.callback(a.failure,i,j);Ext.callback(a.callback,i,j);return g}}},read:function(a,d,e){var b=this.associatedModel.prototype.associations.findBy(function(b){return b.type==="belongsTo"&&b.associatedName===a.$className}),c=d.read([e]).records[0];a[this.instanceName]=c;if(b)c[b.instanceName]=a}});Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:true,nameProperty:"name",isWriter:true,constructor:function(a){Ext.apply(this,a)},write:function(d){for(var c=d.operation,b=c.records||[],f=b.length,a=0,e=[];a<f;a++)e.push(this.getRecordData(b[a],c));return this.writeRecords(d,e)},getRecordData:function(a,i){var l=a.phantom===true,o=this.writeAllFields||l,h=this.nameProperty,j=a.fields,m=j.items,c={},k=a.clientIdProperty,f,d,b,g,e,n;if(o){n=m.length;for(e=0;e<n;e++){b=m[e];if(b.persist){d=b[h]||b.name;c[d]=a.get(b.name)}}}else{f=a.getChanges();for(g in f)if(f.hasOwnProperty(g)){b=j.get(g);d=b[h]||b.name;c[d]=f[g]}}if(l){if(k&&i&&i.records.length>1)c[k]=a.internalId}else c[a.idProperty]=a.getId();return c}});Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(h,f){var d=this,a=[],g=0,j=f.length,b=d.documentRoot,i=d.record,k=f.length!==1,e,c;a.push(d.header||"");if(!b&&k)b=d.defaultDocumentRoot;b&&a.push("<",b,">");for(;g<j;++g){e=f[g];a.push("<",i,">");for(c in e)e.hasOwnProperty(c)&&a.push("<",c,">",e[c],"</",c,">");a.push("</",i,">")}b&&a.push("</",b,">");h.xmlData=a.join("");return h}});Ext.define("Ext.direct.RemotingMethod",{constructor:function(b){var a=this,e=Ext.isDefined(b.params)?b.params:b.len,g,f,c,d;a.name=b.name;a.formHandler=b.formHandler;if(Ext.isNumber(e)){a.len=e;a.ordered=true}else{a.params=[];f=e.length;for(c=0;c<f;c++){d=e[c];g=Ext.isObject(d)?d.name:d;a.params.push(g)}}},getArgs:function(d,c,f){var a=[],b,e;if(this.ordered){if(this.len>0)if(c)for(b=0,e=c.length;b<e;b++)a.push(d[c[b]]);else f&&a.push(d)}else a.push(d);return a},getCallData:function(a){var f=this,b=null,c=f.len,h=f.params,g,e,d;if(f.ordered){g=a[c];e=a[c+1];if(c!==0)b=a.slice(0,c)}else{b=Ext.apply({},a[0]);g=a[1];e=a[2];for(d in b)if(b.hasOwnProperty(d))if(!Ext.Array.contains(h,d))delete b[d]}return{data:b,callback:g,scope:e}}});Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(b){var a=this;Ext.apply(a,b);a.id=a.tid=++a.self.TRANSACTION_ID;a.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}});Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(e,d,c){var a=this,b=Ext.Number.constrain;a.r=b(e,0,255);a.g=b(d,0,255);a.b=b(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var h=this,c=h.r/255,e=h.g/255,g=h.b/255,b=Math.max(c,e,g),d=Math.min(c,e,g),f=b-d,a,j=0,i=.5*(b+d);if(d!=b){j=i<.5?f/(b+d):f/(2-b-d);if(c==b)a=60*(e-g)/f;else if(e==b)a=120+60*(g-c)/f;else a=240+60*(c-e)/f;if(a<0)a+=360;if(a>=360)a-=360}return[a,j,i]},getLighter:function(b){var a=this.getHSL();b=b||this.lightnessFactor;a[2]=Ext.Number.constrain(a[2]+b,0,1);return this.fromHSL(a[0],a[1],a[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var e=this,d=Math.round,c=d(e.r).toString(16),b=d(e.g).toString(16),a=d(e.b).toString(16);c=c.length==1?"0"+c:c;b=b.length==1?"0"+b:b;a=a.length==1?"0"+a:a;return["#",c,b,a].join("")},toHex:function(a){if(Ext.isArray(a))a=a[0];if(!Ext.isString(a))return"";if(a.substr(0,1)==="#")return a;var b=this.colorToHexRe.exec(a),f,e,c,d;if(Ext.isArray(b)){f=parseInt(b[2],10);e=parseInt(b[3],10);c=parseInt(b[4],10);d=c|e<<8|f<<16;return b[1]+"#"+("000000"+d.toString(16)).slice(-6)}else return a},fromString:function(c){var a,b,e,d,f=parseInt;if((c.length==4||c.length==7)&&c.substr(0,1)==="#"){a=c.match(this.hexRe);if(a){b=f(a[1],16)>>0;e=f(a[2],16)>>0;d=f(a[3],16)>>0;if(c.length==4){b+=b*16;e+=e*16;d+=d*16}}}else{a=c.match(this.rgbRe);if(a){b=a[1];e=a[2];d=a[3]}}return typeof b=="undefined"?undefined:new Ext.draw.Color(b,e,d)},getGrayscale:function(){return this.r*.3+this.g*.59+this.b*.11},fromHSL:function(e,i,d){var b,c,f,j,a=[],h=Math.abs,g=Math.floor;if(i==0||e==null)a=[d,d,d];else{e/=60;b=i*(1-h(2*d-1));c=b*(1-h(e-2*g(e/2)-1));f=d-b/2;switch(g(e)){case 0:a=[b,c,0];break;case 1:a=[c,b,0];break;case 2:a=[0,b,c];break;case 3:a=[0,c,b];break;case 4:a=[c,0,b];break;case 5:a=[b,0,c]}a=[a[0]+f,a[1]+f,a[2]+f]}return new Ext.draw.Color(a[0]*255,a[1]*255,a[2]*255)}},function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});Ext.define("Ext.draw.Draw",{singleton:true,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(b,a){a=String(a).toLowerCase();return a=="object"&&b===Object(b)||a=="undefined"&&typeof b==a||a=="null"&&b===null||a=="array"&&Array.isArray&&Array.isArray(b)||Object.prototype.toString.call(b).toLowerCase().slice(8,-1)==a},ellipsePath:function(b){var a=b.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(b){var a=b.attr;return a.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a.x+a.radius,a.y,a.width-a.radius*2,a.radius,-a.radius,a.height-a.radius*2,a.radius*2-a.width,a.radius*2-a.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",a.x,a.y,a.width+a.x,a.height+a.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(c){if(!c)return null;var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},b=[],a=this;if(a.is(c,"array")&&a.is(c[0],"array"))b=a.pathClone(c);!b.length&&String(c).replace(a.pathCommandRE,function(h,c,g){var f=[],e=c.toLowerCase();g.replace(a.pathValuesRE,function(b,a){a&&f.push(+a)});if(e=="m"&&f.length>2){b.push([c].concat(Ext.Array.splice(f,0,2)));e="l";c=c=="m"?"l":"L"}while(f.length>=d[e]){b.push([c].concat(Ext.Array.splice(f,0,d[e])));if(!d[e])break}});b.toString=a.path2string;return b},mapPath:function(c,e){if(!e)return c;var h,g,d,i,a,f,b;c=this.path2curve(c);for(d=0,i=c.length;d<i;d++){b=c[d];for(a=1,f=b.length;a<f-1;a+=2){h=e.x(b[a],b[a+1]);g=e.y(b[a],b[a+1]);b[a]=h;b[a+1]=g}}return c},pathClone:function(a){var d=[],c,f,b,e;if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);for(b=0,e=a.length;b<e;b++){d[b]=[];for(c=0,f=a[b].length;c<f;c++)d[b][c]=a[b][c]}d.toString=this.path2string;return d},pathToAbsolute:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array"))e=this.parsePathString(e);var i=[],g=0,f=0,k=0,j=0,h=0,l=e.length,b,a,c,d;if(l&&e[0][0]=="M"){g=+e[0][1];f=+e[0][2];k=g;j=f;h++;i[0]=["M",g,f]}for(;h<l;h++){b=i[h]=[];a=e[h];if(a[0]!=a[0].toUpperCase()){b[0]=a[0].toUpperCase();switch(b[0]){case"A":b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=+(a[6]+g);b[7]=+(a[7]+f);break;case"V":b[1]=+a[1]+f;break;case"H":b[1]=+a[1]+g;break;case"M":k=+a[1]+g;j=+a[2]+f;default:c=1;d=a.length;for(;c<d;c++)b[c]=+a[c]+(c%2?g:f)}}else{c=0;d=a.length;for(;c<d;c++)i[h][c]=a[c]}switch(b[0]){case"Z":g=k;f=j;break;case"H":g=b[1];break;case"V":f=b[1];break;case"M":a=i[h];d=a.length;k=a[d-2];j=a[d-1];default:a=i[h];d=a.length;g=a[d-2];f=a[d-1]}}i.toString=this.path2string;return i},pathToRelative:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array"))e=this.parsePathString(e);var d=[],g=0,f=0,l=0,k=0,n=0,b,a,c,h,i,j,p,o,m;if(e[0][0]=="M"){g=e[0][1];f=e[0][2];l=g;k=f;n++;d.push(["M",g,f])}for(c=n,p=e.length;c<p;c++){b=d[c]=[];a=e[c];if(a[0]!=a[0].toLowerCase()){b[0]=a[0].toLowerCase();switch(b[0]){case"a":b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=+(a[6]-g).toFixed(3);b[7]=+(a[7]-f).toFixed(3);break;case"v":b[1]=+(a[1]-f).toFixed(3);break;case"m":l=a[1];k=a[2];default:for(h=1,o=a.length;h<o;h++)b[h]=+(a[h]-(h%2?g:f)).toFixed(3)}}else{b=d[c]=[];if(a[0]=="m"){l=a[1]+g;k=a[2]+f}for(i=0,m=a.length;i<m;i++)d[c][i]=a[i]}j=d[c].length;switch(d[c][0]){case"z":g=l;f=k;break;case"h":g+=+d[c][j-1];break;case"v":f+=+d[c][j-1];break;default:g+=+d[c][j-2];f+=+d[c][j-1]}}d.toString=this.path2string;return d},path2curve:function(i){for(var h=this,b=h.pathToAbsolute(i),g=b.length,c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d,e,f,a=0;a<g;a++){b[a]=h.command2curve(b[a],c);if(b[a].length>7){b[a].shift();f=b[a];while(f.length)Ext.Array.splice(b,a++,0,["C"].concat(Ext.Array.splice(f,0,6)));Ext.Array.erase(b,a,1);g=b.length;a--}d=b[a];e=d.length;c.x=d[e-2];c.y=d[e-1];c.bx=parseFloat(d[e-4])||c.x;c.by=parseFloat(d[e-3])||c.y}return b},interpolatePaths:function(o,n){var j=this,b=j.pathToAbsolute(o),c=j.pathToAbsolute(n),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(a,d){if(a[d].length>7){a[d].shift();var e=a[d];while(e.length)Ext.Array.splice(a,d++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(a,d,1);k=Math.max(b.length,c.length||0)}},m=function(e,f,d,g,a){if(e&&f&&e[a][0]=="M"&&f[a][0]!="M"){Ext.Array.splice(f,a,0,["M",g.x,g.y]);d.bx=0;d.by=0;d.x=e[a][1];d.y=e[a][2];k=Math.max(b.length,c.length||0)}},a,k,f,g,h,i;for(a=0,k=Math.max(b.length,c.length||0);a<k;a++){b[a]=j.command2curve(b[a],e);l(b,a);c[a]=j.command2curve(c[a],d);l(c,a);m(b,c,e,d,a);m(c,b,d,e,a);f=b[a];g=c[a];h=f.length;i=g.length;e.x=f[h-2];e.y=f[h-1];e.bx=parseFloat(f[h-4])||e.x;e.by=parseFloat(f[h-3])||e.y;d.bx=parseFloat(g[i-4])||d.x;d.by=parseFloat(g[i-3])||d.y;d.x=g[i-2];d.y=g[i-1]}return[b,c]},command2curve:function(b,a){var c=this;if(!b)return["C",a.x,a.y,a.x,a.y,a.x,a.y];if(b[0]!="T"&&b[0]!="Q")a.qx=a.qy=null;switch(b[0]){case"M":a.X=b[1];a.Y=b[2];break;case"A":b=["C"].concat(c.arc2curve.apply(c,[a.x,a.y].concat(b.slice(1))));break;case"S":b=["C",a.x+(a.x-(a.bx||a.x)),a.y+(a.y-(a.by||a.y))].concat(b.slice(1));break;case"T":a.qx=a.x+(a.x-(a.qx||a.x));a.qy=a.y+(a.y-(a.qy||a.y));b=["C"].concat(c.quadratic2curve(a.x,a.y,a.qx,a.qy,b[1],b[2]));break;case"Q":a.qx=b[1];a.qy=b[2];b=["C"].concat(c.quadratic2curve(a.x,a.y,b[1],b[2],b[3],b[4]));break;case"L":b=["C"].concat(a.x,a.y,b[1],b[2],b[1],b[2]);break;case"H":b=["C"].concat(a.x,a.y,b[1],a.y,b[1],a.y);break;case"V":b=["C"].concat(a.x,a.y,a.x,b[1],a.x,b[1]);break;case"Z":b=["C"].concat(a.x,a.y,a.X,a.Y,a.X,a.Y)}return b},quadratic2curve:function(g,h,f,e,c,d){var a=1/3,b=2/3;return[a*g+b*f,a*h+b*e,a*c+b*f,a*d+b*e,c,d]},rotate:function(b,e,a){var d=Math.cos(a),c=Math.sin(a),g=b*d-e*c,f=b*c+e*d;return{x:g,y:f}},arc2curve:function(n,l,d,c,y,Z,v,f,e,p){var u=this,m=Math.PI,F=u.radian,P=m*120/180,x=F*(+y||0),g=[],t=Math,C=t.cos,w=t.sin,X=t.sqrt,W=t.abs,U=t.asin,s,Y,ab,j,i,o,z,B,K,r,q,b,a,A,S,N,Q,M,H,J,I,E,k,D,L,G,h,T,O,R,V;if(!p){s=u.rotate(n,l,-x);n=s.x;l=s.y;s=u.rotate(f,e,-x);f=s.x;e=s.y;Y=C(F*y);ab=w(F*y);j=(n-f)/2;i=(l-e)/2;o=j*j/(d*d)+i*i/(c*c);if(o>1){o=X(o);d=o*d;c=o*c}z=d*d;B=c*c;K=(Z==v?-1:1)*X(W((z*B-z*i*i-B*j*j)/(z*i*i+B*j*j)));r=K*d*i/c+(n+f)/2;q=K*-c*j/d+(l+e)/2;b=U(((l-q)/c).toFixed(7));a=U(((e-q)/c).toFixed(7));b=n<r?m-b:b;a=f<r?m-a:a;if(b<0)b=m*2+b;if(a<0)a=m*2+a;if(v&&b>a)b=b-m*2;if(!v&&a>b)a=a-m*2}else{b=p[0];a=p[1];r=p[2];q=p[3]}A=a-b;if(W(A)>P){O=a;R=f;V=e;a=b+P*(v&&a>b?1:-1);f=r+d*C(a);e=q+c*w(a);g=u.arc2curve(f,e,d,c,y,0,v,R,V,[a,O,r,q])}A=a-b;S=C(b);N=w(b);Q=C(a);M=w(a);H=t.tan(A/4);J=4/3*d*H;I=4/3*c*H;E=[n,l];k=[n+J*N,l-I*S];D=[f+J*M,e-I*Q];L=[f,e];k[0]=2*E[0]-k[0];k[1]=2*E[1]-k[1];if(p)return[k,D,L].concat(g);else{g=[k,D,L].concat(g).join().split(",");G=[];T=g.length;for(h=0;h<T;h++)G[h]=h%2?u.rotate(g[h-1],g[h],x).y:u.rotate(g[h],g[h+1],x).x;return G}},rotateAndTranslatePath:function(c){var h=c.rotation.degrees,k=c.rotation.x,j=c.rotation.y,f=c.translation.x,e=c.translation.y,i,g,a,d,b,l=[];if(!h&&!f&&!e)return this.pathToAbsolute(c.attr.path);f=f||0;e=e||0;i=this.pathToAbsolute(c.attr.path);for(g=i.length;g--;){a=l[g]=i[g].slice();if(a[0]=="A"){d=this.rotatePoint(a[6],a[7],h,k,j);a[6]=d.x+f;a[7]=d.y+e}else{b=1;while(a[b+1]!=null){d=this.rotatePoint(a[b],a[b+1],h,k,j);a[b]=d.x+f;a[b+1]=d.y+e;b+=2}}}return l},rotatePoint:function(a,c,b,d,e){if(!b)return{x:a,y:c};d=d||0;e=e||0;a=a-d;c=c-e;b=b*this.radian;var g=Math.cos(b),f=Math.sin(b);return{x:a*g-c*f+d,y:a*f+c*g+e}},pathDimensions:function(b){if(!b||!(b+""))return{x:0,y:0,width:0,height:0};b=this.path2curve(b);for(var g=0,f=0,d=[],c=[],i=0,k=b.length,a,h,j,e;i<k;i++){a=b[i];if(a[0]=="M"){g=a[1];f=a[2];d.push(g);c.push(f)}else{e=this.curveDim(g,f,a[1],a[2],a[3],a[4],a[5],a[6]);d=d.concat(e.min.x,e.max.x);c=c.concat(e.min.y,e.max.y);g=a[5];f=a[6]}}h=Math.min.apply(0,d);j=Math.min.apply(0,c);return{x:h,y:j,path:b,width:Math.max.apply(0,d)-h,height:Math.max.apply(0,c)-j}},intersectInside:function(c,a,b){return(b[0]-a[0])*(c[1]-a[1])>(b[1]-a[1])*(c[0]-a[0])},intersectIntersection:function(d,c,b,a){var e=[],g=b[0]-a[0],f=b[1]-a[1],k=d[0]-c[0],i=d[1]-c[1],l=b[0]*a[1]-b[1]*a[0],j=d[0]*c[1]-d[1]*c[0],h=1/(g*i-f*k);e[0]=(l*k-j*g)*h;e[1]=(l*i-j*f)*h;return e},intersect:function(m,i){for(var g=this,j=0,l=i.length,b=i[l-1],d=m,a,e,c,n,k,f,h;j<l;++j){a=i[j];f=d;d=[];e=f[f.length-1];h=0;k=f.length;for(;h<k;h++){c=f[h];if(g.intersectInside(c,b,a)){!g.intersectInside(e,b,a)&&d.push(g.intersectIntersection(e,c,b,a));d.push(c)}else g.intersectInside(e,b,a)&&d.push(g.intersectIntersection(e,c,b,a));e=c}b=a}return d},bezier:function(d,f,h,e,a){if(a===0)return d;else if(a===1)return e;var b=1-a,g=b*b*b,c=a/b;return g*(d+c*(3*f+c*(3*h+e*c)))},bezierDim:function(c,b,f,e){var d=[],a,j,g,o,m,i,n,k,l,h;if(c+3*f==e+3*b){a=c-b;a/=2*(c-b-b+f);a<1&&a>0&&d.push(a)}else{j=c-3*b+3*f-e;g=2*(c-b-b+f);o=c-b;m=g*g-4*j*o;i=j+j;if(m===0){a=g/i;a<1&&a>0&&d.push(a)}else if(m>0){n=Math.sqrt(m);a=(n+g)/i;a<1&&a>0&&d.push(a);a=(g-n)/i;a<1&&a>0&&d.push(a)}}k=Math.min(c,e);l=Math.max(c,e);for(h=0;h<d.length;h++){k=Math.min(k,this.bezier(c,b,f,e,d[h]));l=Math.max(l,this.bezier(c,b,f,e,d[h]))}return[k,l]},curveDim:function(d,c,f,e,j,i,h,g){var b=this.bezierDim(d,f,j,h),a=this.bezierDim(c,e,i,g);return{min:{x:b[0],y:a[0]},max:{x:b[1],y:a[1]}}},getAnchors:function(u,b,e,a,w,c,n){n=n||4;var j=Math,k=j.PI,p=k/2,l=j.abs,s=j.sin,t=j.cos,v=j.atan,r,q,d,f,m,g,o,h,i;r=(e-u)/n;q=(w-e)/n;if(a>=b&&a>=c||a<=b&&a<=c)d=f=p;else{d=v((e-u)/l(a-b));if(b<a)d=k-d;f=v((w-e)/l(a-c));if(c<a)f=k-f}i=p-(d+f)%(k*2)/2;if(i>p)i-=k;d+=i;f+=i;m=e-r*s(d);g=a+r*t(d);o=e+q*s(f);h=a+q*t(f);if(a>b&&g<b||a<b&&g>b){m+=l(b-g)*(m-e)/(g-a);g=b}if(a>c&&h<c||a<c&&h>c){o-=l(c-h)*(o-e)/(h-a);h=c}return{x1:m,y1:g,x2:o,y2:h}},smooth:function(s,r){for(var b=this.path2curve(s),c=[b[0]],o=b[0][1],n=b[0][2],m,e,h=1,v=b.length,g=1,k=o,j=n,u=0,t=0,a,f,i,l,d,q,p;h<v;h++){a=b[h];f=a.length;i=b[h-1];l=i.length;d=b[h+1];q=d&&d.length;if(a[0]=="M"){k=a[1];j=a[2];m=h+1;while(b[m][0]!="C")m++;u=b[m][5];t=b[m][6];c.push(["M",k,j]);g=c.length;o=k;n=j;continue}if(a[f-2]==k&&a[f-1]==j&&(!d||d[0]=="M")){p=c[g].length;e=this.getAnchors(i[l-2],i[l-1],k,j,c[g][p-2],c[g][p-1],r);c[g][1]=e.x2;c[g][2]=e.y2}else if(!d||d[0]=="M")e={x1:a[f-2],y1:a[f-1]};else e=this.getAnchors(i[l-2],i[l-1],a[f-2],a[f-1],d[q-2],d[q-1],r);c.push(["C",o,n,e.x1,e.y1,a[f-2],a[f-1]]);o=e.x2;n=e.y2}return c},findDotAtSegment:function(d,c,f,e,j,i,h,g,a){var b=1-a;return{x:Math.pow(b,3)*d+Math.pow(b,2)*3*a*f+b*3*a*a*j+Math.pow(a,3)*h,y:Math.pow(b,3)*c+Math.pow(b,2)*3*a*e+b*3*a*a*i+Math.pow(a,3)*g}},snapEnds:function(c,e,i,p){if(Ext.isDate(c))return this.snapEndsByDate(c,e,i);var b=(e-c)/i,a=Math.floor(Math.log(b)/Math.LN10)+1,j=Math.pow(10,a),g,o=Math.round(b%j*Math.pow(10,2-a)),h=[[0,15],[20,4],[30,2],[40,4],[50,9],[60,4],[70,2],[80,4],[100,15]],k=0,f,l,d,m,n=1e9,q=h.length;g=c=Math.floor(c/j)*j;if(p){for(d=0;d<q;d++){f=h[d][0];l=f-o<0?1e6:(f-o)/h[d][1];if(l<n){m=f;n=l}}b=Math.floor(b*Math.pow(10,-a))*Math.pow(10,a)+m*Math.pow(10,a-2);while(g<e){g+=b;k++}e=+g.toFixed(10)}else k=i;return{from:c,to:e,power:a,step:b,steps:k}},snapEndsByDate:function(d,e,h,k){for(var c=false,i=[[Ext.Date.MILLI,[1,2,3,5,10,20,30,50,100,200,300,500]],[Ext.Date.SECOND,[1,2,3,5,10,15,30]],[Ext.Date.MINUTE,[1,2,3,5,10,20,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,3,7,14]],[Ext.Date.MONTH,[1,2,3,4,6]]],l=i.length,j=false,a,b,g,f=0;f<l;f++){a=i[f];if(!j)for(b=0;b<a[1].length;b++)if(e<Ext.Date.add(d,a[0],a[1][b]*h)){c=[a[0],a[1][b]];j=true;break}}if(!c){g=this.snapEnds(d.getFullYear(),e.getFullYear()+1,h,k);c=[Date.YEAR,Math.round(g.step)]}return this.snapEndsByDateAndStep(d,e,c,k)},snapEndsByDateAndStep:function(d,h,b,g){var a=[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()],f=0,c,e;if(g)c=d;else switch(b[0]){case Ext.Date.MILLI:c=new Date(a[0],a[1],a[2],a[3],a[4],a[5],Math.floor(a[6]/b[1])*b[1]);break;case Ext.Date.SECOND:c=new Date(a[0],a[1],a[2],a[3],a[4],Math.floor(a[5]/b[1])*b[1],0);break;case Ext.Date.MINUTE:c=new Date(a[0],a[1],a[2],a[3],Math.floor(a[4]/b[1])*b[1],0,0);break;case Ext.Date.HOUR:c=new Date(a[0],a[1],a[2],Math.floor(a[3]/b[1])*b[1],0,0,0);break;case Ext.Date.DAY:c=new Date(a[0],a[1],Math.floor(a[2]-1/b[1])*b[1]+1,0,0,0,0);break;case Ext.Date.MONTH:c=new Date(a[0],Math.floor(a[1]/b[1])*b[1],1,0,0,0,0);break;default:c=new Date(Math.floor(a[0]/b[1])*b[1],0,1,0,0,0,0)}e=c;while(e<h){e=Ext.Date.add(e,b[0],b[1]);f++}if(g)e=h;return{from:+c,to:+e,step:(e-c)/f,steps:f}},sorter:function(b,a){return b.offset-a.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},withinBox:function(b,c,a){a=a||{};return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},parseGradient:function(b){var g=this,e=b.type||"linear",i=b.angle||0,k=g.radian,f=b.stops,d=[],c,a,h,j;if(e=="linear"){a=[0,0,Math.cos(i*k),Math.sin(i*k)];h=1/(Math.max(Math.abs(a[2]),Math.abs(a[3]))||1);a[2]*=h;a[3]*=h;if(a[2]<0){a[0]=-a[2];a[2]=0}if(a[3]<0){a[1]=-a[3];a[3]=0}}for(c in f)if(f.hasOwnProperty(c)&&g.stopsRE.test(c)){j={offset:parseInt(c,10),color:Ext.draw.Color.toHex(f[c].color)||"#ffffff",opacity:f[c].opacity||1};d.push(j)}Ext.Array.sort(d,g.sorter);return e=="linear"?{id:b.id,type:e,vector:a,stops:d}:{id:b.id,type:e,centerX:b.centerX,centerY:b.centerY,focalX:b.focalX,focalY:b.focalY,radius:b.radius,vector:a,stops:d}}});Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(a,b,f,e,d,c){if(a!=null)this.matrix=[[a,f,d],[b,e,c],[0,0,1]];else this.matrix=[[1,0,0],[0,1,0],[0,0,1]]},add:function(m,k,j,i,h,g){for(var f=this,e=[[],[],[]],l=[[m,j,h],[k,i,g],[0,0,1]],b,a,d,c=0;c<3;c++)for(b=0;b<3;b++){d=0;for(a=0;a<3;a++)d+=f.matrix[c][a]*l[a][b];e[c][b]=d}f.matrix=e},prepend:function(m,k,j,i,h,g){for(var f=this,e=[[],[],[]],l=[[m,j,h],[k,i,g],[0,0,1]],b,a,d,c=0;c<3;c++)for(b=0;b<3;b++){d=0;for(a=0;a<3;a++)d+=l[c][a]*f.matrix[a][b];e[c][b]=d}f.matrix=e},invert:function(){var b=this.matrix,d=b[0][0],c=b[1][0],f=b[0][1],e=b[1][1],h=b[0][2],g=b[1][2],a=d*e-c*f;return new Ext.draw.Matrix(e/a,-c/a,-f/a,d/a,(f*g-e*h)/a,(c*h-d*g)/a)},clone:function(){var a=this.matrix,c=a[0][0],b=a[1][0],g=a[0][1],f=a[1][1],e=a[0][2],d=a[1][2];return new Ext.draw.Matrix(c,b,g,f,e,d)},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(d,b,c,e){var a=this;if(b==null)b=d;a.add(1,0,0,1,c,e);a.add(d,0,0,b,0,0);a.add(1,0,0,1,-c,-e)},rotate:function(a,b,f){a=Ext.draw.Draw.rad(a);var d=this,e=+Math.cos(a).toFixed(9),c=+Math.sin(a).toFixed(9);d.add(e,c,-c,e,b,f);d.add(1,0,0,1,-b,-f)},x:function(b,c){var a=this.matrix;return b*a[0][0]+c*a[0][1]+a[0][2]},y:function(b,c){var a=this.matrix;return b*a[1][0]+c*a[1][1]+a[1][2]},"get":function(b,a){return+this.matrix[b][a].toFixed(4)},toString:function(){var a=this;return[a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),0,0].join()},toSvg:function(){var a=this;return"matrix("+[a.get(0,0),a.get(1,0),a.get(0,1),a.get(1,1),a.get(0,2),a.get(1,2)].join()+")"},toFilter:function(c,b){var a=this;c=c||0;b=b||0;return"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+a.get(0,0)+", M12="+a.get(0,1)+", M21="+a.get(1,0)+", M22="+a.get(1,1)+", Dx="+(a.get(0,2)+c)+", Dy="+(a.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function d(a){return a[0]*a[0]+a[1]*a[1]}function e(a){var b=Math.sqrt(d(a));a[0]/=b;a[1]/=b}var c=this.matrix,b={translateX:c[0][2],translateY:c[1][2]},a;a=[[c[0][0],c[0][1]],[c[1][1],c[1][1]]];b.scaleX=Math.sqrt(d(a[0]));e(a[0]);b.shear=a[0][0]*a[1][0]+a[0][1]*a[1][1];a[1]=[a[1][0]-a[0][0]*b.shear,a[1][1]-a[0][1]*b.shear];b.scaleY=Math.sqrt(d(a[1]));e(a[1]);b.shear/=b.scaleY;b.rotate=Math.asin(-a[0][1]);b.isSimple=!+b.shear.toFixed(9)&&(b.scaleX.toFixed(9)==b.scaleY.toFixed(9)||!b.rotate);return b}});Ext.define("Ext.draw.engine.ImageExporter",{singleton:true,statics:function(){var j={"image/png":1,"image/jpeg":1},k=function(i){if(i.hasOwnProperty("width"))g=i.width;if(i.hasOwnProperty("height"))h=i.height;if(i.hasOwnProperty("type")&&j[i.type])f=i.type;else return false;if(a&&e&&b&&c&&d)return true;a=a||Ext.get(document.createElement("form"));a.set({action:"http://svg.sencha.io",method:"POST"});e=e||Ext.get(document.createElement("input"));e.set({name:"svg",type:"hidden"});b=b||Ext.get(document.createElement("input"));b.set({name:"type",type:"hidden"});c=c||Ext.get(document.createElement("input"));c.set({name:"width",type:"hidden"});d=d||Ext.get(document.createElement("input"));d.set({name:"height",type:"hidden"});a.appendChild(e);a.appendChild(b);a.appendChild(c);a.appendChild(d);Ext.getBody().appendChild(a);return true},i=function(i){var j=Ext.draw.engine.SvgExporter.self.generate({},i);c.set({value:g||i.width});d.set({value:h||i.height});f&&b.set({value:f});e.set({value:j});a.dom.submit()},a,b,e,c,d,f,g,h;return{generate:function(b,a){if(k(b))i(a);else return false}}}()});Ext.define("Ext.draw.engine.SvgExporter",{singleton:true,statics:function(){var a,g,c,e,i=function(b){a=b;g=a.length;c=a.width;e=a.height},d={path:function(g){var a=g.attr,c=a.path,d="",h,e,f;if(Ext.isArray(c[0])){f=c.length;for(e=0;e<f;e++)d+=c[e].join(" ")}else if(Ext.isArray(c))d=c.join(" ");else d=c.replace(/,/g," ");h=b({d:d,fill:a.fill||"none",stroke:a.stroke,"fill-opacity":a.opacity,"stroke-width":a["stroke-width"],"stroke-opacity":a["stroke-opacity"],"z-index":a.zIndex,transform:g.matrix.toSvg()});return"<path "+h+"/>"},text:function(e){var a=e.attr,h=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,d=h.exec(a.font),g=d&&d[1]||"12",i=d&&d[3]||"Arial",k=a.text,j=Ext.isFF3_0||Ext.isFF3_5?2:4,c="",f;e.getBBox();c+='<tspan x="'+(a.x||"")+'" dy="';c+=g/j+'">';c+=Ext.htmlEncode(k)+"</tspan>";f=b({x:a.x,y:a.y,"font-size":g,"font-family":i,"font-weight":a["font-weight"],"text-anchor":a["text-anchor"],fill:a.fill||"#000","fill-opacity":a.opacity,transform:e.matrix.toSvg()});return"<text "+f+">"+c+"</text>"},rect:function(c){var a=c.attr,d=b({x:a.x,y:a.y,rx:a.rx,ry:a.ry,width:a.width,height:a.height,fill:a.fill||"none","fill-opacity":a.opacity,stroke:a.stroke,"stroke-opacity":a["stroke-opacity"],"stroke-width":a["stroke-width"],transform:c.matrix&&c.matrix.toSvg()});return"<rect "+d+"/>"},circle:function(c){var a=c.attr,d=b({cx:a.x,cy:a.y,r:a.radius,fill:a.translation.fill||a.fill||"none","fill-opacity":a.opacity,stroke:a.stroke,"stroke-opacity":a["stroke-opacity"],"stroke-width":a["stroke-width"],transform:c.matrix.toSvg()});return"<circle "+d+" />"},image:function(c){var a=c.attr,d=b({x:a.x-(a.width/2>>0),y:a.y-(a.height/2>>0),width:a.width,height:a.height,"xlink:href":a.src,transform:c.matrix.toSvg()});return"<image "+d+" />"}},f=function(){var a='<?xml version="1.0" standalone="yes"?>';a+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';return a},h=function(){var h='<svg width="'+c+'px" height="'+e+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',f="",m,l,g,x,o,p,u,n,t,y,j,w,q,z,b,A,v,k,s,r;g=a.items.items;l=g.length;o=function(j){for(var i=j.childNodes,k=i.length,e=0,h,c,a="",b,g,d,f;e<k;e++){b=i[e];g=b.attributes;d=b.tagName;a+="<"+d;for(c=0,h=g.length;c<h;c++){f=g.item(c);a+=" "+f.name+'="'+f.value+'"'}a+=">";if(b.childNodes.length>0)a+=o(b);a+="</"+d+">"}return a};if(a.getDefs)f=o(a.getDefs());else{n=a.gradientsColl;if(n){t=n.keys;y=n.items;j=0;w=t.length}for(;j<w;j++){q=t[j];z=y[j];x=a.gradientsColl.getByKey(q);f+='<linearGradient id="'+q+'" x1="0" y1="0" x2="1" y2="1">';var i=x.colors.replace(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,"rgb($1|$2|$3)");i=i.replace(/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,"rgba($1|$2|$3|$4)");p=i.split(",");for(b=0,v=p.length;b<v;b++){u=p[b].split(" ");i=Ext.draw.Color.fromString(u[1].replace(/\|/g,","));f+='<stop offset="'+u[0]+'" stop-color="'+i.toString()+'" stop-opacity="1"></stop>'}f+="</linearGradient>"}}h+="<defs>"+f+"</defs>";h+=d.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}});k=new Array(l);for(b=0;b<l;b++)k[b]=b;k.sort(function(a,b){s=g[a].attr.zIndex||0;r=g[b].attr.zIndex||0;return s==r?a-b:s-r});for(b=0;b<l;b++){m=g[k[b]];if(!m.attr.hidden)h+=d[m.type](m)}h+="</svg>";return h},b=function(b){var c="",a;for(a in b)if(b.hasOwnProperty(a)&&b[a]!=null)c+=a+'="'+b[a]+'" ';return c};return{generate:function(b,a){i(a);return f()+h()}}}()});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(n,f,e,m,l,k){var a=3*f,c=3*(m-f)-a,d=1-a-c,b=3*e,h=3*(l-e)-b,o=1-b-h;function g(b){return((d*b+c)*b+a)*b}function i(c,d){var a=j(c,d);return((o*a+h)*a+b)*a}function j(i,l){var e,h,b,f,k,j;for(b=i,j=0;j<8;j++){f=g(b)-i;if(Math.abs(f)<l)return b;k=(3*d*b+2*c)*b+a;if(Math.abs(k)<1e-6)break;b=b-f/k}e=0;h=1;b=i;if(b<e)return e;if(b>h)return h;while(e<h){f=g(b);if(Math.abs(f-i)<l)return b;if(i>f)e=b;else h=b;b=(h-e)/2+e}return b}return i(n,1/(200*k))},cubicBezier:function(b,e,a,c){var d=function(d){return Ext.fx.CubicBezier.cubicBezierAtTime(d,b,e,a,c,1)};d.toCSS3=function(){return"cubic-bezier("+[b,e,a,c].join(",")+")"};d.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-a,1-c,1-b,1-e)};return d}});Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(c,d,e,g,i){e=typeof e=="number"?e:1;var h=this.unitRE,a=h.exec(c),f,b;if(a){c=a[1];b=a[2];if(!this.scrollRE.test(i)&&!b&&this.pixelDefaultsRE.test(i))b="px"}c=+c||0;a=h.exec(d);if(a){d=a[1];b=a[2]||b}d=+d||0;f=g!=null?g:c;return{from:c,delta:(d-f)*e,units:b}},"get":function(b,d,h,k,j){for(var l=b.length,e=[],f,g,c,i,a=0;a<l;a++){if(k)f=k[a][1].from;if(Ext.isArray(b[a][1])&&Ext.isArray(d)){g=[];c=0;i=b[a][1].length;for(;c<i;c++)g.push(this.computeDelta(b[a][1][c],d[c],h,f,j));e.push([b[a][0],g])}else e.push([b[a][0],this.computeDelta(b[a][1],d,h,f,j)])}return e},"set":function(d,h){for(var i=d.length,e=[],a,f,g,b,c=0;c<i;c++){a=d[c][1];if(Ext.isArray(a)){f=[];b=0;g=a.length;for(;b<g;b++)f.push(a[b].from+a[b].delta*h+(a[b].units||0));e.push([d[c][0],f])}else e.push([d[c][0],a.from+a.delta*h+(a.units||0)])}return e}},stringHandler:{computeDelta:function(b,a){return{from:b,delta:a}},"get":function(b,e,d,l,g){for(var h=b.length,c=[],f,k,i,j,a=0;a<h;a++)c.push([b[a][0],this.computeDelta(b[a][1],e,d,f,g)]);return c},"set":function(b){for(var e=b.length,d=[],c,i,g,f,a=0;a<e;a++){c=b[a][1];d.push([b[a][0],c.delta])}return d}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(f,d){d=typeof d=="number"?d:1;for(var g=false,e=[this.hexRE,this.rgbRE,this.hex3RE],i=e.length,a,c,h,b=0;b<i;b++){h=e[b];c=b%2===0?16:10;a=h.exec(f);if(a&&a.length===4){if(b===2){a[1]+=a[1];a[2]+=a[2];a[3]+=a[3]}g={red:parseInt(a[1],c),green:parseInt(a[2],c),blue:parseInt(a[3],c)};break}}return g||f},computeDelta:function(d,a,c,f){d=this.parseColor(d);a=this.parseColor(a,c);var b=f?f:d,e=typeof b,g=typeof a;return e=="string"||e=="undefined"||g=="string"||g=="undefined"?a||b:{from:d,delta:{red:Math.round((a.red-b.red)*c),green:Math.round((a.green-b.green)*c),blue:Math.round((a.blue-b.blue)*c)}}},"get":function(b,f,g,e){for(var h=b.length,d=[],c,a=0;a<h;a++){if(e)c=e[a][1].from;d.push([b[a][0],this.computeDelta(b[a][1],f,g,c)])}return d},"set":function(f,e){for(var i=f.length,h=[],a,g,c,d,b=0;b<i;b++){a=f[b][1];if(a){c=a.from;d=a.delta;a=typeof a=="object"&&"red"in a?"rgb("+a.red+", "+a.green+", "+a.blue+")":a;a=typeof a=="object"&&a.length?a[0]:a;if(typeof a=="undefined")return[];g=typeof a=="string"?a:"rgb("+[(c.red+Math.round(d.red*e))%256,(c.green+Math.round(d.green*e))%256,(c.blue+Math.round(d.blue*e))%256].join(",")+")";h.push([f[b][0],g])}}return h}},object:{interpolate:function(d,a){a=typeof a=="number"?a:1;var c={},b;for(b in d)c[b]=parseFloat(d[b])*a;return c},computeDelta:function(c,a,f,d){c=this.interpolate(c);a=this.interpolate(a,f);var g=d?d:c,e={},b;for(b in a)e[b]=a[b]-g[b];return{from:c,delta:e}},"get":function(b,f,g,e){for(var h=b.length,d=[],c,a=0;a<h;a++){if(e)c=e[a][1].from;d.push([b[a][0],this.computeDelta(b[a][1],f,g,c)])}return d},"set":function(e,i){for(var j=e.length,f=[],g={},d,h,c,a,b=0;b<j;b++){c=e[b][1];d=c.from;h=c.delta;for(a in d)g[a]=d[a]+h[a]*i;f.push([e[b][0],g])}return f}},path:{computeDelta:function(b,c,a,d){a=typeof a=="number"?a:1;var e;b=+b||0;c=+c||0;e=d!=null?d:b;return{from:b,delta:(c-e)*a}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0]))a=Ext.draw.Draw.parsePathString(a);return a},"get":function(f,o,n,m){for(var g=this.forcePath(o),k=[],p=f.length,i,j,d,l,a,c,h,b,e=0;e<p;e++){b=this.forcePath(f[e][1]);d=Ext.draw.Draw.interpolatePaths(b,g);b=d[0];g=d[1];i=b.length;h=[];for(a=0;a<i;a++){d=[b[a][0]];j=b[a].length;for(c=1;c<j;c++){l=m&&m[0][1][a][c].from;d.push(this.computeDelta(b[a][c],g[a][c],n,l))}h.push(d)}k.push([f[e][0],h])}return k},"set":function(g,k){for(var l=g.length,j=[],a,c,e,f,b,h,i,d=0;d<l;d++){b=g[d][1];e=[];h=b.length;for(a=0;a<h;a++){f=[b[a][0]];i=b[a].length;for(c=1;c<i;c++)f.push(b[a][c].from+b[a][c].delta*k);e.push(f.join(","))}j.push([g[d][0],e.join(",")])}return j}}}},function(){for(var b=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],d=b.length,a=0,c;a<d;a++){c=b[a];this[c]=this.color}b=["cursor"];d=b.length;a=0;for(;a<d;a++){c=b[a];this[c]=this.stringHandler}});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}});Ext.define("Ext.layout.ClassList",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:false,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(b){var a=this;if(!a.map[b]){a.map[b]=true;a.classes.push(b);if(!a.dirty){a.dirty=true;a.owner.markDirty()}}},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(b){var a=this;if(a.map[b]){delete a.map[b];a.classes=Ext.Array.filter(a.classes,function(a){return a!=b});if(!a.dirty){a.dirty=true;a.owner.markDirty()}}},removeMany:function(e){var c=this,d=b(a(e));c.classes=Ext.Array.filter(c.classes,function(a){if(!d[a])return true;delete c.map[a];if(!c.dirty){c.dirty=true;c.owner.markDirty()}return false})}}}());Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildLayouts:0,remainingComponentChildLayouts:0,remainingContainerChildLayouts:0,wrapsComponent:false,constructor:function(d){var a=this,e=d.target,c,b;Ext.apply(a,d);c=a.el;a.id=c.id;a.lastBox=c.lastBox;a.blocks={};a.domBlocks={};a.triggers={};a.domTriggers={};a.flushedProps={};a.props={};a.state={};a.styles={};if(e.isComponent){a.wrapsComponent=true;a.sizeModel=b=e.getSizeModel(a.ownerCtContext&&a.ownerCtContext.sizeModel);a.widthModel=b.width;a.heightModel=b.height;a.frameBodyContext=a.getEl("frameBody")}},init:function(b){var a=this,d,c;if(b){a.ownerCtContext=b;a.isBoxParent=a.target.ownerLayout.isItemBoxParent(a);c=a.widthModel;if(c.shrinkWrap){d=b.isBoxParent?b:b.boxParent;d&&d.addBoxChild(a)}else if(c.natural)a.boxParent=b}else a.isTopLevel=true},initAnimatePolicy:function(){var a=this,b=a.target,c=a.ownerCtContext;if(c&&c.isTopLevel)a.animatePolicy=b.ownerLayout.getAnimatePolicy(a);else if(!c&&b.isCollapsingOrExpanding&&b.animCollapse)a.animatePolicy=b.componentLayout.getAnimatePolicy(a);a.animatePolicy&&a.context.queueAnimation(a)},noFraming:{left:0,top:0,right:0,bottom:0,width:0,height:0},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(f,a,d){var c=this,e=c[f],b=e[d]||(e[d]={});if(!b[a.id]){b[a.id]=a;++a.blockCount;++c.context.blockCount}},addBoxChild:function(a){var d=this,b,c=a.widthModel;a.boxParent=this;a.measuresBox=c.shrinkWrap?a.hasRawContent:c.natural;if(a.measuresBox){b=d.boxChildren;if(b)b.push(a);else d.boxChildren=[a]}},addTrigger:function(d,e){var b=this,g=e?b.domTriggers:b.triggers,f=b.context,a=f.currentLayout,c=g[d]||(g[d]={});if(!c[a.id]){c[a.id]=a;++a.triggerCount;c=f.triggers[e?"dom":"data"];(c[a.id]||(c[a.id]=[])).push({item:this,prop:d});if(b.props[d]!==undefined)if(!e||!(b.dirty&&d in b.dirty))++a.firedTriggers}},boxChildMeasured:function(){var a=this,b=a.state,c=b.boxesMeasured=(b.boxesMeasured||0)+1;if(c==a.boxChildren.length){b.clearBoxWidth=1;++a.context.progressCount;a.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(b){var a=b.getStyles(b.borderNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(b){var a=b.getStyles(b.marginNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(b){var c=b.frameBodyContext||b,a=c.getStyles(b.paddingNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var c=this[a],b;if(c)for(b in c)this.clearBlocks(a,b)},clearBlocks:function(g,f){var d=this[g],b=d&&d[f],c,a,e;if(b){delete d[f];c=this.context;for(e in b){a=b[e];--c.blockCount;!--a.blockCount&&!a.pending&&!a.done&&c.queueLayout(a)}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},doInvalidate:function(e){var a=this,c=a.props,b=a.dirty,d=a.target.ownerLayout;a.dirty=a.invalid=false;a.props={};a.state={};a.clearAllBlocks("blocks");a.clearAllBlocks("domBlocks");if(a.wrapsComponent)if(!e){a.recoverProp("x",c,b);a.recoverProp("y",c,b);a.widthModel.calculated&&a.recoverProp("width",c,b);a.heightModel.calculated&&a.recoverProp("height",c,b)}else{a.widthModel=a.sizeModel.width;a.heightModel=a.sizeModel.height}if(d&&d.manageMargins){a.recoverProp("margin-top",c,b);a.recoverProp("margin-right",c,b);a.recoverProp("margin-bottom",c,b);a.recoverProp("margin-left",c,b)}},fireTriggers:function(d,f){var b=this[d][f],e=this.context,a,c;if(b)for(c in b){a=b[c];++a.firedTriggers;!a.done&&!a.blockCount&&!a.pending&&e.queueLayout(a)}},flush:function(){var a=this,c=a.dirty,b=a.state,d=a.el;a.dirtyCount=0;a.classList&&a.classList.dirty&&a.classList.flush();if("attributes"in a){d.set(a.attributes);delete a.attributes}if("innerHTML"in a){d.innerHTML=a.innerHTML;delete a.innerHTML}if(b.clearBoxWidth){b.clearBoxWidth=0;a.el.setStyle("width",null);!--b.blocks&&a.context.queueItemLayouts(a)}if(c){delete a.dirty;a.writeProps(c,true)}},flushAnimations:function(){var a=this,k=a.lastBox,c,d,l,j,e,i,f,m,b,g,h;if(k){c=a.target;d=c.layout&&c.layout.animate;if(d)l=Ext.isNumber(d)?d:d.duration;j=Ext.Object.getKeys(a.animatePolicy);e=Ext.apply({},{from:{},to:{},duration:l||Ext.fx.Anim.prototype.duration},d);for(i=0,f=0,m=j.length;f<m;f++){b=j[f];g=k[b];h=a.peek(b);if(g!=h){b=a.translateProps[b]||b;e.from[b]=g;e.to[b]=h;++i}}if(i){if(a.isCollapsingOrExpanding===1)c.componentLayout.undoLayout(a);else a.writeProps(e.from);a.el.animate(e);Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){if(a.isCollapsingOrExpanding===1){c.componentLayout.redoLayout(a);c.afterCollapse(true)}else a.isCollapsingOrExpanding===2&&c.afterExpand(true)}})}}},getBorderInfo:function(){var a=this,b=a.borderInfo;if(!b)a.borderInfo=b=a.checkCache("borderInfo");return b},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(b,e){var c=this,d,a,f;if(b){if(b.dom)a=b;else{d=c.target;if(e)d=e;a=d[b];if(typeof a=="function"){a=a.call(d);if(a===c.el)return this}}if(a)f=c.context.getEl(c,a)}return f||null},getFraming:function(){var a=this;if(!a.framingInfo)a.framingInfo=a.target.frameSize||a.noFraming;return a.framingInfo},getFrameInfo:function(){var c=this,d=c.frameInfo,b,a;if(!d){b=c.getFraming();a=c.getBorderInfo();c.frameInfo=d={top:b.top+a.top,right:b.right+a.right,bottom:b.bottom+a.bottom,left:b.left+a.left,width:b.width+a.width,height:b.height+a.height}}return d},getMarginInfo:function(){var b=this,a=b.marginInfo,c,g,e,d,f;if(!a){if(!b.wrapsComponent)a=b.checkCache("marginInfo");else{c=b.target;d=c.ownerLayout;f=d?d.id:null;g=d&&d.manageMargins;a=c.margin$;if(a&&a.ownerId!==f)a=null;if(!a){a=b.parseMargins(c.margin)||b.checkCache("marginInfo");if(g){e=b.parseMargins(c.margins,d.defaultMargins);if(e)a={top:a.top+e.top,right:a.right+e.right,bottom:a.bottom+e.bottom,left:a.left+e.left};b.setProp("margin-top",0);b.setProp("margin-right",0);b.setProp("margin-bottom",0);b.setProp("margin-left",0)}a.ownerId=f;c.margin$=a}a.width=a.left+a.right;a.height=a.top+a.bottom}b.marginInfo=a}return a},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;if(!b)a.paddingInfo=b=a.checkCache("paddingInfo");return b},getProp:function(b){var a=this,c=a.props[b];a.addTrigger(b);return c},getDomProp:function(b){var a=this,c=a.dirty&&b in a.dirty?undefined:a.props[b];a.addTrigger(b,true);return c},getStyle:function(b){var d=this,c=d.styles,e,a;if(b in c)a=c[b];else{e=d.styleInfo[b];a=d.el.getStyle(b);if(e&&e.parseInt)a=parseInt(a,10)||0;c[b]=a}return a},getStyles:function(g,d){var k=this,j=k.styles,l={},h=0,m=g.length,a,c,e,b,i,n,o,f;d=d||g;for(a=0;a<m;++a){b=g[a];if(b in j){l[d[a]]=j[b];++h;if(a&&h==1){c=g.slice(0,a);e=d.slice(0,a)}}else if(h){(c||(c=[])).push(b);(e||(e=[])).push(d[a])}}if(h<m){c=c||g;e=e||d;n=k.styleInfo;o=k.el.getStyle(c);for(a=c.length;a--;){b=c[a];i=n[b];f=o[b];if(i&&i.parseInt)f=parseInt(f,10)||0;l[e[a]]=f;j[b]=f}}return l},hasProp:function(b){var a=this.getProp(b);return typeof a!="undefined"},hasDomProp:function(b){var a=this.getDomProp(b);return typeof a!="undefined"},invalidate:function(a){this.invalid=true;this.context.queueInvalidate(this,a)},markDirty:function(){++this.dirtyCount==1&&this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,c){if(a===true)a=5;var d=typeof a,b;if(d=="string"||d=="number")b=Ext.util.Format.parseBox(a);else if(a||c){b={top:0,right:0,bottom:0,left:0};c&&Ext.apply(b,this.parseMargins(c));Ext.apply(b,a)}return b},peek:function(a){return this.props[a]},recoverProp:function(a,d,b){var c=this,f=c.props,e;if(a in d){f[a]=d[a];if(b&&a in b){e=c.dirty||(c.dirty={});e[a]=b[a]}}},redo:function(e){var c=this,b,d,a;c.revertProps(c.props);if(e&&c.wrapsComponent){if(c.childItems)for(a=0,b=c.childItems,d=b.length;a<d;a++)b[a].redo(e);for(a=0,b=c.children,d=b.length;a<d;a++)b[a].redo()}},revertProps:function(c){var a,d=this.flushedProps,b={};for(a in c)if(d.hasOwnProperty(a))b[a]=c[a];this.writeProps(b)},setAttribute:function(b,c){var a=this;if(!a.attributes)a.attributes={};a.attributes[b]=c;a.markDirty()},setBox:function(a){var b=this;"left"in a&&b.setProp("x",a.left);"top"in a&&b.setProp("y",a.top);b.setSize(a.width,a.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(b,a){return!a&&this.hasRawContent?1:this.setProp("contentWidth",b)},setContentSize:function(c,b,a){return this.setContentWidth(c,a)+this.setContentHeight(b,a)==2},setProp:function(b,c,g){var a=this,f=typeof c,d,e;if(f=="undefined"||f==="number"&&isNaN(c))return 0;if(a.props[b]===c)return 1;a.props[b]=c;++a.context.progressCount;if(g===false){a.fireTriggers("domTriggers",b);a.clearBlocks("domBlocks",b)}else{e=a.styleInfo[b];if(e){if(!a.dirty)a.dirty={};if(b=="width"||b=="height"){d=a.isBorderBoxValue;if(d==null)a.isBorderBoxValue=d=!!a.el.isBorderBox();if(!d){a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo()}}a.dirty[b]=c;a.markDirty()}}a.fireTriggers("triggers",b);a.clearBlocks("blocks",b);return 1},setHeight:function(a,c){var b=this,e=b.target,d,f,g;if(a<0)a=0;if(!b.wrapsComponent){if(!b.setProp("height",a,c))return NaN}else{a=Ext.Number.constrain(a,e.minHeight||0,e.maxHeight);if(!b.setProp("height",a,c))return NaN;d=b.frameBodyContext;if(d){f=b.getFrameInfo();d.setHeight(a-f.height,c)}}return a},setWidth:function(a,c){var b=this,e=b.target,d,f,g;if(a<0)a=0;if(!b.wrapsComponent){if(!b.setProp("width",a,c))return NaN}else{a=Ext.Number.constrain(a,e.minWidth||0,e.maxWidth);if(!b.setProp("width",a,c))return NaN;d=b.frameBodyContext;if(d){f=b.getFrameInfo();d.setWidth(a-f.width,c)}}return a},setSize:function(c,b,a){this.setWidth(c,a);this.setHeight(b,a)},translateProps:{x:"left",y:"top"},undo:function(e){var c=this,b,d,a;c.revertProps(c.lastBox);if(e&&c.wrapsComponent){if(c.childItems)for(a=0,b=c.childItems,d=b.length;a<d;a++)b[a].undo(e);for(a=0,b=c.children,d=b.length;a<d;a++)b[a].undo()}},unsetProp:function(b){var a=this.dirty;delete this.props[b];if(a)delete a[b]},writeProps:function(b,t){if(!(b&&typeof b=="object"))return;var a=this,i=a.el,d={},e=0,s=a.styleInfo,h,c,o,m="x"in b,l="y"in b,k=b.x,j=b.y,g=b.width,f=b.height,u=a.isBorderBoxValue,r=a.target,p=Math.max,q=0,n=0;"displayed"in b&&i.setDisplayed(b.displayed);for(c in b){if(t){a.fireTriggers("domTriggers",c);a.clearBlocks("domBlocks",c);a.flushedProps[c]=1}h=s[c];if(h&&h.dom){if(h.suffix&&(o=parseInt(b[c],10)))d[c]=o+h.suffix;else d[c]=b[c];++e}}if(m||l)if(r.isComponent)r.setPosition(k||a.props.x,j||a.props.y);else{if(m){d.left=k+"px";++e}if(l){d.top=j+"px";++e}}if(!u&&(g>0||f>0)){if(!a.frameBodyContext){q=a.paddingInfo.width;n=a.paddingInfo.height}if(g){g=p(parseInt(g,10)-(a.borderInfo.width+q),0);d.width=g+"px";++e}if(f){f=p(parseInt(f,10)-(a.borderInfo.height+n),0);d.height=f+"px";++e}}e&&i.setStyle(d)}},function(){var a={dom:true,parseInt:true,suffix:"px"},c={dom:true},b={dom:false};this.prototype.styleInfo={childrenDone:b,componentChildrenDone:b,containerChildrenDone:b,containerLayoutDone:b,displayed:b,done:b,x:b,y:b,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":c,display:c}});Ext.define("Ext.util.Bindable",{bindStore:function(b,d){var a=this,c=a.store;if(!d&&a.store){if(b!==c&&c.autoDestroy)c.destroyStore();else a.unbindStoreListeners(c);a.onUnbindStore(c,d)}if(b){b=Ext.data.StoreManager.lookup(b);a.bindStoreListeners(b);a.onBindStore(b,d)}a.store=b||null;return a},getStore:function(){return this.store},unbindStoreListeners:function(b){var a=this.storeListeners;a&&b.un(a)},bindStoreListeners:function(c){var b=this,a=Ext.apply({},b.getStoreListeners());if(!a.scope)a.scope=b;b.storeListeners=a;c.on(a)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var a=this,b;if(a.hasOwnProperty("childEls")){b=a.childEls;delete a.childEls;a.addChildEls.apply(a,b)}},destroy:function(){for(var b=this,e=b.getChildEls(),c,a,f,d=e.length;d--;){a=e[d];if(typeof a!="string")a=a.name;c=b[a];if(c){b[a]=null;c.remove()}}},addChildEls:function(){var a=this,b=arguments;if(a.hasOwnProperty("childEls"))a.childEls.push.apply(a.childEls,b);else a.childEls=a.getChildEls().concat(Array.prototype.slice.call(b));a.prune(a.childEls,false)},applyChildEls:function(c,i){var f=this,h=f.getChildEls(),g,a,e,d,b;g=(i||f.id)+"-";for(e=h.length;e--;){a=h[e];if(typeof a=="string")b=c.getById(g+a);else{if(d=a.select)b=Ext.select(d,true,c.dom);else if(d=a.selectNode)b=Ext.get(Ext.DomQuery.selectNode(d,c.dom));else b=c.getById(a.id||g+a.itemId);a=a.name}f[a]=b}},getChildEls:function(){var a=this,b;if(a.hasOwnProperty("childEls"))return a.childEls;b=a.self;return b.$childEls||a.getClassChildEls(b)},getClassChildEls:function(i){var k=this,a=i.$childEls,d,f,n,j,m,h,e,c,g,b,l;if(!a){b=i.superclass;if(b){b=b.self;c=[b.$childEls||k.getClassChildEls(b)];l=b.prototype.mixins||{}}else{c=[];l={}}g=i.prototype;h=g.mixins;for(e in h)if(h.hasOwnProperty(e)&&!l.hasOwnProperty(e)){m=h[e].self;c.push(m.$childEls||k.getClassChildEls(m))}c.push(g.hasOwnProperty("childEls")&&g.childEls);for(f=0,n=c.length;f<n;++f){d=c[f];if(d&&d.length)if(!a)a=d;else{if(!j){j=true;a=a.slice(0)}a.push.apply(a,d)}}i.$childEls=a=a?k.prune(a,!j):[]}return a},prune:function(b,e){var c=b.length,d={},a;while(c--){a=b[c];if(typeof a!="string")a=a.name;if(!d[a])d[a]=1;else{if(e){e=false;b=b.slice(0)}Ext.Array.erase(b,c,1)}}return b},removeChildEls:function(g){var d=this,c=d.getChildEls(),f=d.childEls=[],e,a,b;for(a=0,e=c.length;a<e;++a){b=c[a];!g(b)&&f.push(b)}}});Ext.define("Ext.util.Filter",{anyMatch:false,exactMatch:false,caseSensitive:false,constructor:function(b){var a=this;Ext.apply(a,b);a.filter=a.filter||a.filterFn;if(a.filter===undefined){if(!(a.property===undefined||a.value===undefined))a.filter=a.createFilterFn();a.filterFn=a.filter}},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;return function(e){var d=a.getRoot.call(a,e)[c];return b===null?d===null:b.test(d)}},getRoot:function(b){var a=this.root;return a===undefined?b:b[a]},createValueMatcher:function(){var b=this,a=b.value,f=b.anyMatch,e=b.exactMatch,d=b.caseSensitive,c=Ext.String.escapeRegex;if(a===null)return a;if(!a.exec){a=String(a);if(f===true)a=c(a);else{a="^"+c(a);if(e===true)a+="$"}a=new RegExp(a,d?"":"i")}return a}});Ext.define("Ext.util.Inflector",{singleton:true,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(a){if(this.isTransnumeral(a))return a;for(var e=this.plurals,f=e.length,c,b,d=0;d<f;d++){c=e[d];b=c[0];if(b==a||b.test&&b.test(a))return a.replace(b,c[1])}return a},singularize:function(a){if(this.isTransnumeral(a))return a;for(var e=this.singulars,f=e.length,c,b,d=0;d<f;d++){c=e[d];b=c[0];if(b==a||b.test&&b.test(a))return a.replace(b,c[1])}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var c=parseInt(a,10),d=c%10,b=c%100;if(11<=b&&b<=13)return a+"th";else switch(d){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},function(){var b={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},a;for(a in b){this.plural(a,b[a]);this.singular(b[a],a)}});Ext.define("Ext.util.Memento",function(){function d(d,c,a,b){d[b?b+a:a]=c[a]}function c(a,c,b){delete a[b]}function e(f,g,a,e){var c=e?e+a:a,d=f[c];(d||f.hasOwnProperty(c))&&b(g,a,d)}function b(b,c,a){if(Ext.isDefined(a))b[c]=a;else delete b[c]}function a(d,c,f,a,e){if(c)if(Ext.isArray(a))for(var g=a.length,b=0;b<g;b++)d(c,f,a[b],e);else d(c,f,a,e)}return{data:null,target:null,constructor:function(b,a){if(b){this.target=b;a&&this.capture(a)}},capture:function(c,f,e){var b=this;a(d,b.data||(b.data={}),f||b.target,c,e)},remove:function(b){a(c,this.data,null,b)},restore:function(b,c,f,d){a(e,this.data,f||this.target,b,d);c!==false&&this.remove(b)},restoreAll:function(e,g){var d=this,f=g||this.target,c=d.data,a;for(a in c)c.hasOwnProperty(a)&&b(f,a,c[a]);if(e!==false)delete d.data}}}());Ext.define("Ext.util.Observable",{requires:["Ext.util.Event"],statics:{releaseCapture:function(a){a.fireEvent=this.prototype.fireEvent},capture:function(a,c,b){a.fireEvent=Ext.Function.createInterceptor(a.fireEvent,c,b)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this);this.capture(a.prototype,a.fireEvent,a)}if(Ext.isObject(b))a.on(b)}return a},prepareClass:function(a,b){if(!a.HasListeners){var e=Ext.util.Observable,c=function(){},d=a.superclass.HasListeners||b&&b.HasListeners||e.HasListeners;a.prototype.HasListeners=a.HasListeners=c;c.prototype=a.hasListeners=new d}}},isObservable:true,constructor:function(b){var a=this;Ext.apply(a,b);if(!a.hasListeners)a.hasListeners=new a.HasListeners;a.events=a.events||{};if(a.listeners){a.on(a.listeners);a.listeners=null}a.bubbleEvents&&a.enableBubble(a.bubbleEvents)},onClassExtended:function(a){!a.HasListeners&&Ext.util.Observable.prepareClass(a)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal|freezeEvent)$/,addManagedListener:function(e,a,g,f,b){var d=this,h=d.managedListeners=d.managedListeners||[],c;if(typeof a!=="string"){b=a;for(a in b)if(b.hasOwnProperty(a)){c=b[a];!d.eventOptionsRe.test(a)&&d.addManagedListener(e,a,c.fn||c,c.scope||b.scope,c.fn?c:b)}}else{h.push({item:e,ename:a,fn:g,scope:f,options:b});e.on(a,g,f,b)}},removeManagedListener:function(h,a,i,j){var b=this,c,d,f,g,e;if(typeof a!=="string"){c=a;for(a in c)if(c.hasOwnProperty(a)){d=c[a];!b.eventOptionsRe.test(a)&&b.removeManagedListener(h,a,d.fn||d,d.scope||c.scope)}}f=b.managedListeners?b.managedListeners.slice():[];for(e=0,g=f.length;e<g;e++)b.removeManagedListenerItem(false,f[e],h,a,i,j)},fireEvent:function(a){a=a.toLowerCase();var b=this,d=b.events,e=d&&d[a],c=true;if(e&&b.hasListeners[a])c=b.continueFireEvent(a,Ext.Array.slice(arguments,1),e.bubble);return c},continueFireEvent:function(f,g,e){var b=this,d,a,c=true;do if(b.eventsSuspended){(d=b.eventQueue)&&d.push([f,g,e]);return c}else{a=b.events[f];if(a&&a!=true)if((c=a.fire.apply(a,g))===false)break}while(e&&(b=b.getBubbleParent()));return c},getBubbleParent:function(){var b=this,a=b.getBubbleTarget&&b.getBubbleTarget();return a&&a.isObservable?a:null},addListener:function(a,e,h,c){var b=this,d,g,f;if(typeof a!=="string"){c=a;for(a in c)if(c.hasOwnProperty(a)){d=c[a];!b.eventOptionsRe.test(a)&&b.addListener(a,d.fn||d,d.scope||c.scope,d.fn?d:c)}}else{a=a.toLowerCase();b.events[a]=b.events[a]||true;g=b.events[a]||true;if(Ext.isBoolean(g))b.events[a]=g=new Ext.util.Event(b,a);if(typeof e==="string")e=h[e]||b[e];g.addListener(e,h,Ext.isObject(c)?c:{});f=b.hasListeners;if(f.hasOwnProperty(a))++f[a];else f[a]=1}},removeListener:function(a,g,f){var c=this,d,e,b;if(typeof a!=="string"){b=a;for(a in b)if(b.hasOwnProperty(a)){d=b[a];!c.eventOptionsRe.test(a)&&c.removeListener(a,d.fn||d,d.scope||b.scope)}}else{a=a.toLowerCase();e=c.events[a];if(e&&e.isEvent){e.removeListener(g,f);if(!--c.hasListeners[a])delete c.hasListeners[a]}}},clearListeners:function(){var b=this.events,c,a;for(a in b)if(b.hasOwnProperty(a)){c=b[a];c.isEvent&&c.clearListeners()}this.clearManagedListeners()},clearManagedListeners:function(){for(var b=this.managedListeners||[],a=0,c=b.length;a<c;a++)this.removeManagedListenerItem(true,b[a]);this.managedListeners=[]},removeManagedListenerItem:function(b,a,f,e,d,c){if(b||a.item===f&&a.ename===e&&(!d||a.fn===d)&&(!c||a.scope===c)){a.item.un(a.ename,a.fn,a.scope);!b&&Ext.Array.remove(this.managedListeners,a)}},addEvents:function(f){var d=this,e=d.events||(d.events={}),a,b,c;if(typeof f=="string")for(b=arguments,c=b.length;c--;){a=b[c];if(!e[a])e[a]=true}else Ext.applyIf(d.events,f)},hasListener:function(a){return!!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended=true;if(a&&!this.eventQueue)this.eventQueue=[]},resumeEvents:function(){var a=this,c=a.eventQueue,d,b;a.eventsSuspended=false;delete a.eventQueue;if(c){d=c.length;for(b=0;b<d;b++)a.continueFireEvent.apply(a,c[b])}},relayEvents:function(h,f,e){e=e||"";for(var d=this,g=f.length,b=0,c,a;b<g;b++){c=f[b];a=e+c;d.events[a]=d.events[a]||true;h.on(c,d.createRelayer(a))}},createRelayer:function(b,c){var a=this;return function(){return a.fireEvent.apply(a,[b].concat(Array.prototype.slice.apply(arguments,c||[0,-1])))}},enableBubble:function(e){if(e)for(var c=this,g=typeof e=="string"?arguments:e,h=g.length,f=c.events,a,b,d=0;d<h;++d){a=g[d].toLowerCase();b=f[a];if(!b||typeof b=="boolean")f[a]=b=new Ext.util.Event(c,a);c.hasListeners[a]=(c.hasListeners[a]||0)+1;b.bubble=true}}},function(){var a=this,e=a.prototype,c=function(){},b=function(c){if(!c.HasListeners){var d=c.prototype;a.prepareClass(c,this);c.onExtended(function(b){a.prepareClass(b)});if(d.onClassMixedIn)Ext.override(c,{onClassMixedIn:function(a){b.call(this,a);this.callParent(arguments)}});else d.onClassMixedIn=function(a){b.call(this,a)}}};c.prototype={};e.HasListeners=a.HasListeners=c;a.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});a.observeClass=a.observe;function d(e){var a=(this.methodEvents=this.methodEvents||{})[e],c,b,d,g=this,f;if(!a){this.methodEvents[e]=a={};a.originalFn=this[e];a.methodName=e;a.before=[];a.after=[];f=function(f,e,a){if((b=f.apply(e||g,a))!==undefined)if(typeof b=="object"){if(b.returnValue!==undefined)c=b.returnValue;else c=b;d=!!b.cancel}else if(b===false)d=true;else c=b};this[e]=function(){var j=Array.prototype.slice.call(arguments,0),h,e,i;c=b=undefined;d=false;for(e=0,i=a.before.length;e<i;e++){h=a.before[e];f(h.fn,h.scope,j);if(d)return c}if((b=a.originalFn.apply(g,j))!==undefined)c=b;for(e=0,i=a.after.length;e<i;e++){h=a.after[e];f(h.fn,h.scope,j);if(d)return c}return c}}return a}Ext.apply(e,{onClassMixedIn:b,beforeMethod:function(c,b,a){d.call(this,c).before.push({fn:b,scope:a})},afterMethod:function(c,b,a){d.call(this,c).after.push({fn:b,scope:a})},removeMethodListener:function(f,e,d){var b=this.getMethodEvent(f),a,c;for(a=0,c=b.before.length;a<c;a++)if(b.before[a].fn==e&&b.before[a].scope==d){Ext.Array.erase(b.before,a,1);return}for(a=0,c=b.after.length;a<c;a++)if(b.after[a].fn==e&&b.after[a].scope==d){Ext.Array.erase(b.after,a,1);return}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(a,arguments)})}})});Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.ProtoElement",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(d){var c=this;Ext.apply(c,d);c.classList=a(c.cls);c.classMap=b(c.classList);delete c.cls;if(Ext.isFunction(c.style)){c.styleFn=c.style;delete c.style}else if(typeof c.style=="string")c.style=Ext.Element.parseStyles(c.style);else if(c.style)c.style=Ext.apply({},c.style)},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style},addCls:function(j){for(var c=this,g=a(j),h=g.length,i=c.classList,e=c.classMap,f=c.flushClassList,d=0,b;d<h;++d){b=g[d];if(!e[b]){e[b]=true;i.push(b);if(f){f.push(b);delete c.removedClasses[b]}}}return c},hasCls:function(a){return a in this.classMap},removeCls:function(l){for(var d=this,h=d.classList,j=d.classList=[],k=b(a(l)),i=h.length,f=d.classMap,g=d.removedClasses,c,e=0;e<i;++e){c=h[e];if(k[c]){if(g)if(f[c]){g[c]=true;Ext.Array.remove(d.flushClassList,c)}delete f[c]}else j.push(c)}return d},setStyle:function(b,d){var a=this,c=a.style||(a.style={});if(typeof b=="string")if(arguments.length===1)a.setStyle(Ext.Element.parseStyles(b));else c[b]=d;else Ext.apply(c,b);return a},writeTo:function(d){var a=this,e=a.flushClassList||a.classList,c=a.removedClasses,b;if(a.styleFn){b=Ext.apply({},a.styleFn());Ext.apply(b,a.style)}else b=a.style;d[a.clsProp]=e.join(" ");if(b)d[a.styleProp]=a.styleIsText?Ext.DomHelper.generateStyles(b):b;if(c){c=Ext.Object.getKeys(c);if(c.length)d[a.removedProp]=c.join(" ")}return d}}}());Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(b){var a=this,c=a.getKey(b);if(!a.map[c]){++a.length;a.items.push(b);a.map[c]=b}return b},clear:function(){var a=this,b=a.items;a.items=[];a.map={};a.length=0;return b},contains:function(b){var a=this.getKey(b);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(b){var a=this,e=a.getKey(b),c=a.items,d;if(a.map[e]){d=Ext.Array.indexOf(c,b);Ext.Array.erase(c,d,1);delete a.map[e];--a.length}return b}});Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(a){return Ext.fly(a).getPageBox(true)},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(d,e,b,c){var a=this;a.y=a.top=a[1]=d;a.right=e;a.bottom=b;a.x=a.left=a[0]=c},contains:function(b){var a=this;return b.x>=a.x&&b.right<=a.right&&b.y>=a.y&&b.bottom<=a.bottom},intersect:function(b){var a=this,e=Math.max(a.y,b.y),f=Math.min(a.right,b.right),c=Math.min(a.bottom,b.bottom),d=Math.max(a.x,b.x);return c>e&&f>d?new this.self(e,f,c,d):false},union:function(b){var a=this,e=Math.min(a.y,b.y),f=Math.max(a.right,b.right),c=Math.max(a.bottom,b.bottom),d=Math.min(a.x,b.x);return new this.self(e,f,c,d)},constrainTo:function(b){var a=this,c=Ext.Number.constrain;a.top=a.y=c(a.top,b.y,b.bottom);a.bottom=c(a.bottom,b.y,b.bottom);a.left=a.x=c(a.left,b.x,b.right);a.right=c(a.right,b.x,b.right);return a},adjust:function(d,e,b,c){var a=this;a.top=a.y+=d;a.left=a.x+=c;a.right+=e;a.bottom+=b;return a},getOutOfBoundOffset:function(b,a){if(!Ext.isObject(b))return b=="x"?this.getOutOfBoundOffsetX(a):this.getOutOfBoundOffsetY(a);else{a=b;var c=new Ext.util.Offset;c.x=this.getOutOfBoundOffsetX(a.x);c.y=this.getOutOfBoundOffsetY(a.y);return c}},getOutOfBoundOffsetX:function(a){return a<=this.x?this.x-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.y?this.y-a:a>=this.bottom?this.bottom-a:0},isOutOfBound:function(b,a){if(!Ext.isObject(b))return b=="x"?this.isOutOfBoundX(a):this.isOutOfBoundY(a);else{a=b;return this.isOutOfBoundX(a.x)||this.isOutOfBoundY(a.y)}},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(d,a,b){if(Ext.isObject(d)){var c;b=a;a=d;if(a.copy)c=a.copy();else c={x:a.x,y:a.y};c.x=this.restrictX(a.x,b);c.y=this.restrictY(a.y,b);return c}else return d=="x"?this.restrictX(a,b):this.restrictY(a,b)},restrictX:function(a,b){if(!b)b=1;if(a<=this.x)a-=(a-this.x)*b;else if(a>=this.right)a-=(a-this.right)*b;return a},restrictY:function(a,b){if(!b)b=1;if(a<=this.y)a-=(a-this.y)*b;else if(a>=this.bottom)a-=(a-this.bottom)*b;return a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(b,c){if(arguments.length==1){c=b.y;b=b.x}var a=this;a.top=a.y+=c;a.right+=b;a.bottom+=c;a.left=a.x+=b;return a},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}});Ext.define("Ext.util.Renderable",{requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElementCls:{tl:[],tc:[],tr:[],ml:[],mc:[],mr:[],bl:[],bc:[],br:[]},frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}","<table><tbody>",'<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left:{frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" style="background-position: 0 0;" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var b=this,c={},e=b.protoEl,d=b.getTargetEl(),a;b.finishRenderChildren();b.styleHtmlContent&&d.addCls(b.styleHtmlCls);e.writeTo(c);a=c.removed;a&&d.removeCls(a);a=c.cls;a.length&&d.addCls(a);a=c.style;c.style&&d.setStyle(a);b.protoEl=null;!b.ownerCt&&b.updateLayout()},afterFirstLayout:function(g,f){var a=this,d=Ext.isDefined(a.x),c=Ext.isDefined(a.y),e,b;if(a.floating&&(!d||!c)){if(a.floatParent){b=a.el.getAlignToXY(a.floatParent.getTargetEl(),"c-c");e=a.floatParent.getTargetEl().translatePoints(b[0],b[1])}else{b=a.el.getAlignToXY(a.container,"c-c");e=a.container.translatePoints(b[0],b[1])}a.x=d?a.x:e.left;a.y=c?a.y:e.top;d=c=true}(d||c)&&a.setPosition(a.x,a.y);a.onBoxReady(g,f);a.hasListeners.boxready&&a.fireEvent("boxready",a,g,f)},onBoxReady:Ext.emptyFn,applyRenderSelectors:function(){var c=this,b=c.renderSelectors,d=c.el,e=d.dom,a;c.applyChildEls(d);if(b)for(a in b)if(b.hasOwnProperty(a)&&b[a])c[a]=Ext.get(Ext.DomQuery.selectNode(b[a],e))},beforeRender:function(){var a=this,c=a.getTargetEl(),b=a.getComponentLayout();a.frame=a.frame||a.alwaysFramed;!b.initialized&&b.initLayout();if(c){c.setStyle(a.getOverflowStyle());a.overflowStyleSet=true}a.setUI(a.ui);a.disabled&&a.disable(true)},doApplyRenderTpl:function(d,a){var c=a.$comp,b;if(!c.rendered){b=c.initRenderTpl();b.applyOut(a.renderData,d)}},doAutoRender:function(){var a=this;if(!a.rendered)if(a.floating)a.render(document.body);else a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)},doRenderContent:function(b,c){var a=c.$comp;if(a.html){Ext.DomHelper.generateMarkup(a.html,b);delete a.html}if(a.tpl){if(!a.tpl.isTemplate)a.tpl=new Ext.XTemplate(a.tpl);if(a.data){a.tpl.applyOut(a.data,b);delete a.data}}},doRenderFramingDockedItems:function(c,b,d){var a=b.$comp;if(!a.rendered&&a.doRenderDockedItems){b.renderData.$skipDockedItems=true;a.doRenderDockedItems.call(this,c,b,d)}},finishRender:function(h){var a=this,d,g,e,b,f,c;if(!a.el||a.$pid){if(a.container)b=a.container.getById(a.id,true);else b=Ext.getDom(a.id);if(!a.el)a.wrapPrimaryEl(b);else{delete a.$pid;!a.el.dom&&a.wrapPrimaryEl(a.el);b.parentNode.insertBefore(a.el.dom,b);Ext.removeNode(b)}}else if(!a.rendering){d=a.initRenderTpl();if(d){g=a.initRenderData();d.insertFirst(a.getTargetEl(),g)}}if(!a.container)a.container=Ext.get(a.el.dom.parentNode);a.ctCls&&a.container.addCls(a.ctCls);a.onRender(a.container,h);!a.overflowStyleSet&&a.getTargetEl().setStyle(a.getOverflowStyle());a.el.setVisibilityMode(Ext.Element[a.hideMode.toUpperCase()]);a.overCls&&a.el.hover(a.addOverCls,a.removeOverCls,a);a.hasListeners.render&&a.fireEvent("render",a);if(a.contentEl){f=Ext.baseCSSPrefix;c=f+"hide-";e=Ext.get(a.contentEl);e.removeCls([f+"hidden",c+"display",c+"offsets",c+"nosize"]);a.getTargetEl().appendChild(e.dom)}a.afterRender();a.hasListeners.afterrender&&a.fireEvent("afterrender",a);a.initEvents();a.hidden&&a.el.hide()},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var a=this,g=a.autoEl,b=a.getFrameInfo(),c={tag:"div",id:a.id,tpl:b?a.initFramingTpl(b.table):a.initRenderTpl()},d,f,i,h,e;a.initStyles(a.protoEl);a.protoEl.writeTo(c);a.protoEl.flush();if(Ext.isString(g))c.tag=g;else Ext.apply(c,g);if(c.tpl)if(b){f=a.frameElNames;i=f.length;e=a.id+"-frame1";a.frameGenId=1;c.tplData=Ext.apply({},{$comp:a,fgid:e,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,frameWidth:b.maxWidth,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,renderData:a.initRenderData()},a.getFramePositions(b));for(d=0;d<i;d++){h=f[d];a.addChildEls({name:"frame"+h,id:e+h})}a.addChildEls({name:"frameBody",id:e+"MC"})}else c.tplData=a.initRenderData();return c},initFramingTpl:function(b){var a=b?this.getTpl("frameTableTpl"):this.getTpl("frameTpl");a&&!a.applyRenderTpl&&this.setupFramingTpl(a);return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){if(a!==undefined)if(Ext.isNumber(a))a=this.container.dom.childNodes[a];else a=Ext.getDom(a);return a},getRenderTree:function(){var a=this;if(!a.hasListeners.beforerender||a.fireEvent("beforerender",a)!==false){a.beforeRender();a.rendering=true;return a.el?{tag:"div",id:a.$pid=Ext.id()}:a.getElConfig()}return null},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=false}b.container=a.dom?a:Ext.get(a);return b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame},a.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");a&&!a.renderContent&&this.setupRenderTpl(a);return a},onRender:function(){var b=this,g=b.x,f=b.y,a,c,e,d=b.el;if(Ext.scopeResetCSS&&!b.ownerCt)if(d.dom==Ext.getBody().dom)d.parent().addCls(Ext.resetCls);else b.resetEl=d.wrap({cls:Ext.resetCls});b.applyRenderSelectors();delete b.rendering;b.rendered=true;a=null;if(g!==undefined){a=a||{};a.x=g}if(f!==undefined){a=a||{};a.y=f}if(!b.getFrameInfo()&&Ext.isBorderBox){c=b.width;e=b.height;if(typeof c=="number"){a=a||{};a.width=c}if(typeof e=="number"){a=a||{};a.height=e}}b.lastBox=b.el.lastBox=a},render:function(c,f){var a=this,b=a.el&&(a.el=Ext.get(a.el)),e,d;Ext.suspendLayouts();c=a.initContainer(c);d=a.getInsertPosition(f);if(!b){e=a.getRenderTree();if(e){if(d)b=Ext.DomHelper.insertBefore(d,e);else b=Ext.DomHelper.append(c,e);a.wrapPrimaryEl(b)}}else{a.initStyles(b);if(a.allowDomMove!==false)if(d)c.dom.insertBefore(b.dom,d);else c.dom.appendChild(b.dom)}b&&a.finishRender(f);Ext.resumeLayouts(!c.isDetachedBody)},ensureAttachedToBody:function(c){var a=this,b;while(a.ownerCt)a=a.ownerCt;if(a.container.isDetachedBody){a.container=b=Ext.getBody();b.appendChild(a.el.dom);c&&a.updateLayout();(typeof a.x=="number"||typeof a.y=="number")&&a.setPosition(a.x,a.y)}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,true)},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return;var a=this,b=a.getFrameInfo(),h,f,c,d,g=a.frameElNames,i=g.length,e;if(b){h=b.maxWidth;f=a.getFrameTpl(b.table);a.frameGenId=c=(a.frameGenId||0)+1;c=a.id+"-frame"+c;f.insertFirst(a.el,Ext.apply({$comp:a,fgid:c,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,frameWidth:h,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom},a.getFramePositions(b)));a.frameBody=a.el.down("."+a.frameCls+"-mc");a.removeChildEls(function(b){return b.id&&a.frameIdRegex.test(b.id)});for(d=0;d<i;d++){e=g[d];a["frame"+e]=a.el.getById(c+e)}}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return;var b=this,g=this.frameSize&&this.frameSize.table,f=this.frameTL,e=this.frameBL,d=this.frameML,a=this.frameMC,c;this.initFrame();if(a){if(b.frame){c=this.frameMC.dom.className;a.insertAfter(this.frameMC);this.frameMC.remove();this.frameBody=this.frameMC=a;a.dom.className=c;if(g)b.el.query("> table")[1].remove();else{f&&f.remove();e&&e.remove();d&&d.remove()}}}else b.frame&&this.applyRenderSelectors()},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return false;var b=this,i=b.frameInfoCache,c=b.el||b.protoEl,h=c.dom?c.dom.className:c.classList.join(" "),a=i[h],e,d,f,g;if(a==null){e=Ext.fly(b.getStyleProxy(h),"frame-style-el");d=e.getStyle("background-position-x");f=e.getStyle("background-position-y");if(!d&&!f){g=e.getStyle("background-position").split(" ");d=g[0];f=g[1]}a=b.calculateFrame(d,f);a&&c.setStyle("background-image","none");i[h]=a}b.frame=!!a;b.frameSize=a;return a},calculateFrame:function(d,c){if(!(parseInt(d,10)>=1e6&&parseInt(c,10)>=1e6))return false;var b=Math.max,e=parseInt(d.substr(3,2),10),g=parseInt(d.substr(5,2),10),f=parseInt(c.substr(3,2),10),h=parseInt(c.substr(5,2),10),a={table:d.substr(0,3)=="110",vertical:c.substr(0,3)=="110",top:b(e,g),right:b(g,f),bottom:b(h,f),left:b(e,h)};a.maxWidth=b(a.top,a.right,a.bottom,a.left);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},getStyleProxy:function(b){var a=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,true));a.className=b;return a},getFramePositions:function(h){var i=this,a=h.maxWidth,b=i.dock,f,d,g,e,c;if(h.vertical){d="0 -"+a*0+"px";g="0 -"+a*1+"px";if(b&&b=="right"){d="right -"+a*0+"px";g="right -"+a*1+"px"}f={tl:"0 -"+a*0+"px",tr:"0 -"+a*1+"px",bl:"0 -"+a*2+"px",br:"0 -"+a*3+"px",ml:"-"+a*1+"px 0",mr:"right 0",tc:d,bc:g}}else{e="-"+a*0+"px 0";c="right 0";if(b&&b=="bottom"){e="left bottom";c="right bottom"}f={tl:"0 -"+a*2+"px",tr:"right -"+a*3+"px",bl:"0 -"+a*4+"px",br:"right -"+a*5+"px",ml:e,mr:c,tc:"0 -"+a*0+"px",bc:"0 -"+a*1+"px"}}return f},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}});Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(b){var a=this;Ext.apply(a,b);a.updateSortFunction()},createSortFunction:function(c){var a=this,e=a.property,d=a.direction||"ASC",b=d.toUpperCase()=="DESC"?-1:1;return function(e,d){return b*c.call(a,e,d)}},defaultSorterFn:function(f,e){var a=this,d=a.transform,c=a.getRoot(f)[a.property],b=a.getRoot(e)[a.property];if(d){c=d(c);b=d(b)}return c>b?1:c<b?-1:0},getRoot:function(a){return this.root===undefined?a:a[this.root]},setDirection:function(b){var a=this;a.direction=b;a.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,"ASC","DESC");a.updateSortFunction()},updateSortFunction:function(b){var a=this;b=b||a.sorterFn||a.defaultSorterFn;a.sort=a.createSortFunction(b)}});Ext.define("Ext.Action",{constructor:function(a){this.initialConfig=a;this.itemId=a.itemId=a.itemId||a.id||Ext.id();this.items=[]},isAction:true,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconCls:function(a){this.initialConfig.iconCls=a;this.callEach("setIconCls",[a])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(b,a){this.initialConfig.handler=b;this.initialConfig.scope=a;this.callEach("setHandler",[b,a])},each:function(b,a){Ext.each(this.items,b,a)},callEach:function(e,d){for(var b=this.items,a=0,c=b.length;a<c;a++)b[a][e].apply(b[a],d)},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this)},removeComponent:function(a){Ext.Array.remove(this.items,a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}});Ext.define("Ext.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],statics:{shims:[]},isLayer:true,constructor:function(b,c){b=b||{};var a=this,g=Ext.DomHelper,e=b.parentEl,d=e?Ext.getDom(e):document.body,f=b.hideMode;if(c)a.dom=Ext.getDom(c);if(!a.dom)a.dom=g.append(d,b.dh||{tag:"div",cls:Ext.baseCSSPrefix+"layer"});else{a.addCls(Ext.baseCSSPrefix+"layer");!a.dom.parentNode&&d.appendChild(a.dom)}if(b.id)a.id=a.dom.id=b.id;else a.id=Ext.id(a.dom);Ext.Element.addToCache(a);b.cls&&a.addCls(b.cls);a.constrain=b.constrain!==false;if(f){a.setVisibilityMode(Ext.Element[f.toUpperCase()]);if(a.visibilityMode==Ext.Element.ASCLASS)a.visibilityCls=b.visibilityCls}else if(b.useDisplay)a.setVisibilityMode(Ext.Element.DISPLAY);else a.setVisibilityMode(Ext.Element.VISIBILITY);if(b.shadow){a.shadowOffset=b.shadowOffset||4;a.shadow=new Ext.Shadow({offset:a.shadowOffset,mode:b.shadow});a.disableShadow()}else a.shadowOffset=0;a.useShim=b.shim!==false&&Ext.useShims;if(b.hidden===true)a.hide();else a.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a=this,b,c;if(!a.useShim)return null;if(!a.shim){b=a.self.shims.shift();if(!b){b=a.createShim();b.enableDisplayMode("block");b.hide()}c=a.dom.parentNode;b.dom.parentNode!=c&&c.insertBefore(b.dom,a.dom);a.shim=b}return a.shim},hideShim:function(){var a=this;if(a.shim){a.shim.setDisplayed(false);a.self.shims.push(a.shim);delete a.shim}},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=true;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(b){var a=this;if(a.shadow&&a.shadowDisabled){a.shadowDisabled=false;a.shadowOffset=a.lastShadowOffset;delete a.lastShadowOffset;b&&a.sync(true)}},sync:function(l){var a=this,c=a.shadow,f,e,d,b,g,k,j,h,i;if(!a.updating&&a.isVisible()&&(c||a.useShim)){b=a.getShim();g=a.getLeft(true);k=a.getTop(true);j=a.dom.offsetWidth;h=a.dom.offsetHeight;if(c&&!a.shadowDisabled){if(l&&!c.isVisible())c.show(a);else c.realign(g,k,j,h);if(b){i=b.getStyle("z-index");i>a.zindex&&a.shim.setStyle("z-index",a.zindex-2);b.show();if(c.isVisible()){f=c.el.getXY();e=b.dom.style;d=c.el.getSize();if(Ext.supports.CSS3BoxShadow){d.height+=6;d.width+=4;f[0]-=2;f[1]-=4}e.left=f[0]+"px";e.top=f[1]+"px";e.width=d.width+"px";e.height=d.height+"px"}else{b.setSize(j,h);b.setLeftTop(g,k)}}}else if(b){i=b.getStyle("z-index");i>a.zindex&&a.shim.setStyle("z-index",a.zindex-2);b.show();b.setSize(j,h);b.setLeftTop(g,k)}}return a},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){this.shadow&&this.shadow.hide();this.hideShim()},constrainXY:function(){if(this.constrain){var h=Ext.Element.getViewWidth(),f=Ext.Element.getViewHeight(),a=Ext.getDoc().getScroll(),j=this.getXY(),d=j[0],c=j[1],e=this.shadowOffset,i=this.dom.offsetWidth+e,g=this.dom.offsetHeight+e,b=false;if(d+i>h+a.left){d=h-i-e;b=true}if(c+g>f+a.top){c=f-g-e;b=true}if(d<a.left){d=a.left;b=true}if(c<a.top){c=a.top;b=true}if(b){Ext.Layer.superclass.setXY.call(this,[d,c]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(b,e,f,c,g){var a=this,d;d=function(){b&&a.sync(true);c&&c()};!b&&a.hideUnders(true);a.callParent([b,e,f,c,g]);!e&&d();return a},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(){this.callParent(arguments);return this.sync()},setTop:function(){this.callParent(arguments);return this.sync()},setLeftTop:function(){this.callParent(arguments);return this.sync()},setXY:function(e,c,d,b,f){var a=this;b=a.createCB(b);a.fixDisplay();a.beforeAction();a.callParent([e,c,d,b,f]);!c&&b();return a},createCB:function(b){var a=this,c=a.shadow&&a.shadow.isVisible();return function(){a.constrainXY();a.sync(c);b&&b()}},setX:function(a,b,c,e,d){this.setXY([a,this.getY()],b,c,e,d);return this},setY:function(e,a,b,d,c){this.setXY([this.getX(),e],a,b,d,c);return this},setSize:function(d,e,c,f,b,g){var a=this;b=a.createCB(b);a.beforeAction();a.callParent([d,e,c,f,b,g]);!c&&b();return a},setWidth:function(d,c,e,b,f){var a=this;b=a.createCB(b);a.beforeAction();a.callParent([d,c,e,b,f]);!c&&b();return a},setHeight:function(d,c,e,b,f){var a=this;b=a.createCB(b);a.beforeAction();a.callParent([d,c,e,b,f]);!c&&b();return a},setBounds:function(f,e,c,g,d,h,b,i){var a=this;b=a.createCB(b);a.beforeAction();if(!d){Ext.Layer.superclass.setXY.call(a,[f,e]);Ext.Layer.superclass.setSize.call(a,c,g);b()}else a.callParent([f,e,c,g,d,h,b,i]);return a},setZIndex:function(b){var a=this;a.zindex=b;a.getShim()&&a.shim.setStyle("z-index",b++);a.shadow&&a.shadow.setZIndex(b++);return a.setStyle("z-index",b)},onOpacitySet:function(b){var a=this.shadow;a&&a.setOpacity(b)}});Ext.define("Ext.ShadowPool",{singleton:true,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));a.autoBoxAdjust=false}return a},push:function(a){this.shadows.push(a)},reset:function(){for(var b=[].concat(this.shadows),c=b.length,a=0;a<c;a++)b[a].remove();this.shadows=[]}});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(b){var a=this;a.list={};a.zIndexStack=[];a.front=null;if(b)if(b.isContainer){b.on("resize",a._onContainerResize,a);a.zseed=Ext.Number.from(a.rendered?b.getEl().getStyle("zIndex"):undefined,a.getNextZSeed());a.targetEl=b.getTargetEl();a.container=b}else{Ext.EventManager.onWindowResize(a._onContainerResize,a);a.zseed=a.getNextZSeed();a.targetEl=Ext.get(b)}else{Ext.EventManager.onWindowResize(a._onContainerResize,a);a.zseed=a.getNextZSeed();Ext.onDocumentReady(function(){a.targetEl=Ext.getBody()})}},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(b){this.zseed=b;var a=this.assignZIndices();this._activateLast();return a},assignZIndices:function(){for(var d=this.zIndexStack,e=d.length,b=0,c=this.zseed,a;b<e;b++){a=d[b];if(a&&!a.hidden)c=a.setZIndex(c)}this._activateLast();return c},_setActiveChild:function(a,c){var b=this.front;if(a!==b){b&&!b.destroying&&b.setActive(false,a);this.front=a;if(a&&a!=c){a.setActive(true);a.modal&&this._showModalMask(a)}}},onComponentHide:function(a){a.setActive(false);this._activateLast()},_activateLast:function(){var c=this,d=c.zIndexStack,b=d.length-1,e=c.front,a;c.front=undefined;for(;b>=0&&d[b].hidden;--b);if(a=d[b]){c._setActiveChild(a,e);if(a.modal)return}for(;b>=0;--b){a=d[b];if(a.isVisible()&&a.modal){c._showModalMask(a);return}}c._hideModalMask()},_showModalMask:function(b){var a=this,e=b.el.getStyle("zIndex")-4,c=b.floatParent?b.floatParent.getTargetEl():b.container,d=c.getBox();if(c.dom===document.body){d.height=Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight());d.width=Math.max(document.body.scrollWidth,d.width)}if(!a.mask){a.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask"});a.mask.setVisibilityMode(Ext.Element.DISPLAY);a.mask.on("click",a._onMaskClick,a)}a.mask.maskTarget=c;c.addCls(Ext.baseCSSPrefix+"body-masked");a.mask.setBox(d);a.mask.setStyle("zIndex",e);a.mask.show()},_hideModalMask:function(){var a=this.mask;if(a&&a.isVisible()){a.maskTarget.removeCls(Ext.baseCSSPrefix+"body-masked");a.maskTarget=undefined;a.hide()}},_onMaskClick:function(){this.front&&this.front.focus()},_onContainerResize:function(){var a=this.mask,b,c;if(a&&a.isVisible()){a.hide();b=a.maskTarget;if(b.dom===document.body)c={height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth)};else c=b.getViewSize(true);a.setSize(c);a.show()}},register:function(a){var b=this;a.zIndexManager&&a.zIndexManager.unregister(a);a.zIndexManager=b;b.list[a.id]=a;b.zIndexStack.push(a);a.on("hide",b.onComponentHide,b)},unregister:function(a){var b=this,c=b.list;delete a.zIndexManager;if(c&&c[a.id]){delete c[a.id];a.un("hide",b.onComponentHide);Ext.Array.remove(b.zIndexStack,a);b._activateLast()}},"get":function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a){var b=this,c=false,d=b.zIndexStack;a=b.get(a);if(a!==b.front){Ext.Array.remove(d,a);if(a.preventBringToFront)d.unshift(a);else d.push(a);b.assignZIndices();c=true;this.front=a}c&&a.modal&&b._showModalMask(a);return c},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var b=this.list,a,c;for(c in b)if(b.hasOwnProperty(c)){a=b[c];a.isComponent&&a.isVisible()&&a.hide()}},hide:function(){var b=0,c=this.zIndexStack,d=c.length,a;this.tempHidden=[];for(;b<d;b++){a=c[b];if(a.isVisible()){this.tempHidden.push(a);a.el.hide()}}},show:function(){for(var b=0,c=this.tempHidden,d=c?c.length:0,a;b<d;b++){a=c[b];a.el.show();a.setPosition(a.x,a.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(g,f){for(var d=[],b=0,c=this.zIndexStack,e=c.length,a;b<e;b++){a=c[b];g.call(f||a,a)!==false&&d.push(a)}return d},each:function(e,d){var b=this.list,c,a;for(c in b)if(b.hasOwnProperty(c)){a=b[c];if(a.isComponent&&e.call(d||a,a)===false)return}},eachBottomUp:function(f,e){for(var c=this.zIndexStack,b=0,d=c.length,a;b<d;b++){a=c[b];if(a.isComponent&&f.call(e||a,a)===false)return}},eachTopDown:function(e,d){for(var b=this.zIndexStack,c=b.length,a;c-->0;){a=b[c];if(a.isComponent&&e.call(d||a,a)===false)return}},destroy:function(){var a=this,c=a.list,b,d;for(d in c)if(c.hasOwnProperty(d)){b=c[d];b.isComponent&&b.destroy()}delete a.zIndexStack;delete a.list;delete a.container;delete a.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this});Ext.define("Ext.dd.DragDropManager",{singleton:true,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,_execOnAll:function(e,d){var b,c,a;for(b in this.ids)for(c in this.ids[b]){a=this.ids[b][c];if(!this.isTypeOfDD(a))continue;a[e].apply(a,d)}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(b,a){!this.initialized&&this.init();if(!this.ids[a])this.ids[a]={};this.ids[a][b.id]=b},removeDDFromGroup:function(c,a){if(!this.ids[a])this.ids[a]={};var b=this.ids[a];if(b&&b[c.id])delete b[c.id]},_remove:function(b){for(var a in b.groups)if(a&&this.ids[a]&&this.ids[a][b.id])delete this.ids[a][b.id];delete this.handleIds[b.id]},regHandle:function(a,b){if(!this.handleIds[a])this.handleIds[a]={};this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?true:false},getRelated:function(f,e){var c=[],b,d,a;for(b in f.groups)for(d in this.ids[b]){a=this.ids[b][d];if(!this.isTypeOfDD(a))continue;if(!e||a.isTarget)c[c.length]=a}return c},isLegalTarget:function(e,d){var c=this.getRelated(e,true),a,b;for(a=0,b=c.length;a<b;++a)if(c[a].id==d.id)return true;return false},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(c){var d=this,b,a;for(b in this.ids){a=this.ids[b][c];if(a instanceof Ext.dd.DDTarget)return a}return null},handleMouseDown:function(a,c){Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddDisable();this.dragCurrent&&this.handleMouseUp(a);this.currentTarget=a.getTarget();this.dragCurrent=c;var b=c.getEl();this.startX=a.getPageX();this.startY=a.getPageY();this.deltaX=this.startX-b.offsetLeft;this.deltaY=this.startY-b.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var a=Ext.dd.DragDropManager;a.startDrag(a.startX,a.startY)},this.clickTimeThresh)},startDrag:function(a,b){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,b);this.dragCurrent.startDrag(a,b)}this.dragThreshMet=true},handleMouseUp:function(a){Ext.tip&&Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddEnable();if(!this.dragCurrent)return;clearTimeout(this.clickTimeout);this.dragThreshMet&&this.fireEvents(a,true);this.stopDrag(a);this.stopEvent(a)},stopEvent:function(a){this.stopPropagation&&a.stopPropagation();this.preventDefault&&a.preventDefault()},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(a){if(!this.dragCurrent)return true;if(Ext.isIE&&(a.button!==0&&a.button!==1&&a.button!==2)){this.stopEvent(a);return this.handleMouseUp(a)}var c,b;if(!this.dragThreshMet){c=Math.abs(this.startX-a.getPageX());b=Math.abs(this.startY-a.getPageY());(c>this.clickPixelThresh||b>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}if(this.dragThreshMet){this.dragCurrent.b4Drag(a);this.dragCurrent.onDrag(a);!this.dragCurrent.moveOnly&&this.fireEvents(a,false)}this.stopEvent(a);return true},fireEvents:function(d,p){var e=this,c=e.dragCurrent,q=d.getPoint(),b,m,k=[],n=[],h=[],i=[],g=[],j=[],o,a,f,l;if(!c||c.isLocked())return;for(a in e.dragOvers){b=e.dragOvers[a];if(!e.isTypeOfDD(b))continue;!this.isOverTarget(q,b,e.mode)&&h.push(b);n[a]=true;delete e.dragOvers[a]}for(l in c.groups){if("string"!=typeof l)continue;for(a in e.ids[l]){b=e.ids[l][a];if(e.isTypeOfDD(b)&&(m=b.getEl())&&b.isTarget&&!b.isLocked()&&Ext.fly(m).isVisible(true)&&(b!=c||c.ignoreSelf===false)){if((b.zIndex=e.getZIndex(m))!==-1)o=true;k.push(b)}}}o&&Ext.Array.sort(k,e.byZIndex);for(a=0,f=k.length;a<f;a++){b=k[a];if(e.isOverTarget(q,b,e.mode)){if(p)g.push(b);else{if(!n[b.id])j.push(b);else i.push(b);e.dragOvers[b.id]=b}if(!e.notifyOccluded)break}}if(e.mode){if(h.length){c.b4DragOut(d,h);c.onDragOut(d,h)}if(j.length)c.onDragEnter(d,j);if(i.length){c.b4DragOver(d,i);c.onDragOver(d,i)}if(g.length){c.b4DragDrop(d,g);c.onDragDrop(d,g)}}else{for(a=0,f=h.length;a<f;++a){c.b4DragOut(d,h[a].id);c.onDragOut(d,h[a].id)}for(a=0,f=j.length;a<f;++a)c.onDragEnter(d,j[a].id);for(a=0,f=i.length;a<f;++a){c.b4DragOver(d,i[a].id);c.onDragOver(d,i[a].id)}for(a=0,f=g.length;a<f;++a){c.b4DragDrop(d,g[a].id);c.onDragDrop(d,g[a].id)}}if(p&&!g.length)c.onInvalidDrop(d)},getZIndex:function(a){var d=document.body,b,c=-1;a=Ext.getDom(a);while(a!==d){if(!isNaN(b=Number(Ext.fly(a).getStyle("zIndex"))))c=b;a=a.parentNode}return c},byZIndex:function(b,a){return b.zIndex<a.zIndex},getBestMatch:function(d){var a=null,e=d.length,c,b;if(e==1)a=d[0];else for(c=0;c<e;++c){b=d[c];if(b.cursorIsOver){a=b;break}else if(!a||a.overlap.getArea()<b.overlap.getArea())a=b}return a},refreshCache:function(e){var b,d,a,c;for(b in e){if("string"!=typeof b)continue;for(d in this.ids[b]){a=this.ids[b][d];if(this.isTypeOfDD(a)){c=this.getLocation(a);if(c)this.locationCache[a.id]=c;else delete this.locationCache[a.id]}}}},verifyEl:function(b){if(b){var a;if(Ext.isIE)try{a=b.offsetParent}catch(c){}else a=b.offsetParent;if(a)return true}return false},getLocation:function(a){if(!this.isTypeOfDD(a))return null;if(a.getRegion)return a.getRegion();var d=a.getEl(),b,c,g,e,j,k,f,i,h;try{b=Ext.Element.getXY(d)}catch(l){}if(!b)return null;c=b[0];g=c+d.offsetWidth;e=b[1];j=e+d.offsetHeight;k=e-a.padding[0];f=g+a.padding[1];i=j+a.padding[2];h=c-a.padding[3];return new Ext.util.Region(k,f,i,h)},isOverTarget:function(g,a,h){var c=this.locationCache[a.id],b,d,e,i,f;if(!c||!this.useCache){c=this.getLocation(a);this.locationCache[a.id]=c}if(!c)return false;a.cursorIsOver=c.contains(g);b=this.dragCurrent;if(!b||!b.getTargetCoord||!h&&!b.constrainX&&!b.constrainY)return a.cursorIsOver;a.overlap=null;d=b.getTargetCoord(g.x,g.y);e=b.getDragEl();i=new Ext.util.Region(d.y,d.x+e.offsetWidth,d.y+e.offsetHeight,d.x);f=i.intersect(c);if(f){a.overlap=f;return h?true:a.cursorIsOver}else return false},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache)delete this.elementCache[a];this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];if(!a||!a.el)a=this.elementCache[b]=new this.ElementWrapper(Ext.getDom(b));return a},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return a?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;if(d==a)c.insertBefore(a,b);else if(b==a.nextSibling)c.insertBefore(b,a);else{a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}},getScroll:function(){var e=window.document,a=e.documentElement,d=e.body,c=0,b=0;if(Ext.isGecko4){c=window.scrollYOffset;b=window.scrollXOffset}else if(a&&(a.scrollTop||a.scrollLeft)){c=a.scrollTop;b=a.scrollLeft}else if(d){c=d.scrollTop;b=d.scrollLeft}return{top:c,left:b}},getStyle:function(b,a){return Ext.fly(b).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,c){var b=Ext.Element.getXY(c);Ext.Element.setXY(a,b)},numericSort:function(b,a){return b-a},_timeoutCount:0,_addListeners:function(){if(document)this._onLoad();else if(this._timeoutCount<=2e3){setTimeout(this._addListeners,10);if(document&&document.body)this._timeoutCount+=1}},handleWasClicked:function(b,c){if(this.isHandle(c,b.id))return true;else{var a=b.parentNode;while(a)if(this.isHandle(c,a.id))return true;else a=a.parentNode}return false}},function(){this._addListeners()});Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(a){Ext.apply(this,a);this.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");this.dragRegion=new Ext.util.Region(0,0,0,0);this.el&&this.initEl(this.el);this.mixins.observable.constructor.call(this);this.disabled&&this.disable()},initEl:function(a){this.el=Ext.get(a);this.handle=Ext.get(this.delegate);this.delegate=this.handle?undefined:this.delegate;if(!this.handle)this.handle=this.el;this.mon(this.handle,{mousedown:this.onMouseDown,delegate:this.delegate,scope:this});(this.trackOver||this.overCls)&&this.mon(this.handle,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.delegate,scope:this})},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){this.clearListeners();delete this.el},onMouseOver:function(b,c){var a=this;if(!a.disabled)if(Ext.EventManager.contains(b)||a.delegate){a.mouseIsOut=false;a.overCls&&a.el.addCls(a.overCls);a.fireEvent("mouseover",a,b,a.delegate?b.getTarget(a.delegate,c):a.handle)}},onMouseOut:function(a){if(this.mouseIsDown)this.mouseIsOut=true;else{this.overCls&&this.el.removeCls(this.overCls);this.fireEvent("mouseout",this,a)}},onMouseDown:function(a,b){if(this.disabled||a.dragTracked)return;this.dragTarget=this.delegate?b:this.handle.dom;this.startXY=this.lastXY=a.getXY();this.startRegion=Ext.fly(this.dragTarget).getRegion();if(this.fireEvent("mousedown",this,a)===false||this.fireEvent("beforedragstart",this,a)===false||this.onBeforeStart(a)===false)return;this.mouseIsDown=true;a.dragTracked=true;this.preventDefault!==false&&a.preventDefault();Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart)this.timer=Ext.defer(this.triggerStart,this.autoStart===true?1e3:this.autoStart,this,[a])},onMouseMove:function(a){if(this.active&&Ext.isIE&&!a.browserEvent.button){a.preventDefault();this.onMouseUp(a);return}a.preventDefault();var b=a.getXY(),c=this.startXY;this.lastXY=b;if(!this.active)if(Math.max(Math.abs(c[0]-b[0]),Math.abs(c[1]-b[1]))>this.tolerance)this.triggerStart(a);else return;if(this.fireEvent("mousemove",this,a)===false)this.onMouseUp(a);else{this.onDrag(a);this.fireEvent("drag",this,a)}},onMouseUp:function(a){this.mouseIsDown=false;if(this.mouseIsOut){this.mouseIsOut=false;this.onMouseOut(a)}a.preventDefault();this.fireEvent("mouseup",this,a);this.endDrag(a)},endDrag:function(b){var a=Ext.getDoc(),c=this.active;a.un("mousemove",this.onMouseMove,this);a.un("mouseup",this.onMouseUp,this);a.un("selectstart",this.stopSelect,this);this.clearStart();this.active=false;if(c){this.onEnd(b);this.fireEvent("dragend",this,b)}delete this._constrainRegion;delete Ext.EventObject.dragTracked},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(a);this.fireEvent("dragstart",this,a)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region)return this.constrainTo;if(!this._constrainRegion)this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion()}else if(!this._constrainRegion)this._constrainRegion=this.getDragCt().getViewRegion();return this._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(c){var b=this.getXY(c),a=this.startXY;return[b[0]-a[0],b[1]-a[1]]},constrainModes:{point:function(d,b){var a=d.dragRegion,c=d.getConstrainRegion();if(!c)return b;a.x=a.left=a[0]=a.right=b[0];a.y=a.top=a[1]=a.bottom=b[1];a.constrainTo(c);return[a.left,a.top]},dragTarget:function(e,c){var f=e.startXY,a=e.startRegion.copy(),b=e.getConstrainRegion(),d;if(!b)return c;a.translateBy(c[0]-f[0],c[1]-f[1]);if(a.right>b.right){c[0]+=d=b.right-a.right;a.left+=d}if(a.left<b.left)c[0]+=b.left-a.left;if(a.bottom>b.bottom){c[1]+=d=b.bottom-a.bottom;a.top+=d}if(a.top<b.top)c[1]+=b.top-a.top;return c}}});Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,c){if(typeof a=="string")return a;var b=a.id;if(!b&&c!==false){b="extdd-"+ ++this.autoIdSeed;a.id=b}return b},register:function(b,a){a=a||{};if(typeof b=="string")b=document.getElementById(b);a.ddel=b;this.elements[this.getId(b)]=a;if(a.isHandle!==false)this.handles[a.ddel.id]=a;if(a.handles){var e=a.handles,c,d;for(c=0,d=e.length;c<d;c++)this.handles[this.getId(e[c])]=a}},unregister:function(f){var e=this.getId(f,false),c=this.elements[e],b,a,d;if(c){delete this.elements[e];if(c.handles){b=c.handles;for(a=0,d=b.length;a<d;a++)delete this.handles[this.getId(b[a],false)]}}},getHandle:function(a){if(typeof a!="string")a=a.id;return this.handles[a]},getHandleFromEvent:function(b){var a=b.getTarget();return a?this.handles[a.id]:null},getTarget:function(a){if(typeof a!="string")a=a.id;return this.elements[a]},getTargetFromEvent:function(b){var a=b.getTarget();return a?this.elements[a.id]||this.handles[a.id]:null}});Ext.define("Ext.dd.ScrollManager",{singleton:true,requires:["Ext.dd.DragDropManager"],constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(){var a=Ext.dd.ScrollManager;a.dragEl=null;a.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,c=a.el.ddScrollConfig,d=c?c.increment:this.increment;if(!this.animate)b.scroll(a.dir,d)&&this.triggerRefresh();else b.scroll(a.dir,d,true,this.animDuration,this.triggerRefresh)}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id);a.id=0;a.el=null;a.dir=""},startProc:function(a,c){this.clearProc();this.proc.el=a;this.proc.dir=c;var b=a.ddScrollConfig?a.ddScrollConfig.ddGroup:undefined,d=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;if(b===undefined||this.ddmInstance.dragCurrent.ddGroup==b)this.proc.id=setInterval(this.doScroll,d)},onFire:function(h,i){if(i||!this.ddmInstance.dragCurrent)return;if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var j=h.getXY(),d=h.getPoint(),e=this.proc,g=this.els,f,a,b,c;for(f in g){a=g[f];b=a._region;c=a.ddScrollConfig?a.ddScrollConfig:this;if(b&&b.contains(d)&&a.isScrollable())if(b.bottom-d.y<=c.vthresh){e.el!=a&&this.startProc(a,"down");return}else if(b.right-d.x<=c.hthresh){e.el!=a&&this.startProc(a,"left");return}else if(d.y-b.top<=c.vthresh){e.el!=a&&this.startProc(a,"up");return}else if(d.x-b.left<=c.hthresh){e.el!=a&&this.startProc(a,"right");return}}this.clearProc()},register:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.register(a[b]);else{a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.unregister(a[b]);else{a=Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a)if(typeof a[b]=="object")a[b]._region=a[b].getRegion()}});Ext.define("Ext.form.FieldAncestor",{initFieldAncestor:function(){var a=this,b=a.onFieldAncestorSubtreeChange;a.addEvents("fieldvaliditychange","fielderrorchange");a.on("add",b,a);a.on("remove",b,a);a.initFieldDefaults()},initFieldDefaults:function(){if(!this.fieldDefaults)this.fieldDefaults={}},onFieldAncestorSubtreeChange:function(e,d){var b=this,c=!!d.ownerCt;function a(d){var e=d.isFieldLabelable,f=d.isFormField;if(e||f){e&&b["onLabelable"+(c?"Added":"Removed")](d);f&&b["onField"+(c?"Added":"Removed")](d)}else d.isContainer&&Ext.Array.forEach(d.getRefItems(),a)}a(d)},onLabelableAdded:function(b){var a=this;a.mon(b,"errorchange",a.handleFieldErrorChange,a,{buffer:10});b.setFieldDefaults(a.fieldDefaults)},onFieldAdded:function(b){var a=this;a.mon(b,"validitychange",a.handleFieldValidityChange,a)},onLabelableRemoved:function(b){var a=this;a.mun(b,"errorchange",a.handleFieldErrorChange,a)},onFieldRemoved:function(b){var a=this;a.mun(b,"validitychange",a.handleFieldValidityChange,a)},handleFieldValidityChange:function(c,b){var a=this;a.fireEvent("fieldvaliditychange",a,c,b);a.onFieldValidityChange(c,b)},handleFieldErrorChange:function(c,b){var a=this;a.fireEvent("fielderrorchange",a,c,b);a.onFieldErrorChange(c,b)},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn});Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(a){a&&Ext.apply(this,a);var b=a.params;if(Ext.isString(b))this.params=Ext.Object.fromQueryString(b)},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(a){this.response=a;return!a.responseText&&!a.responseXML?true:(this.result=this.handleResponse(a))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a=this,c,b=a.form;return{success:a.onSuccess,failure:a.onFailure,scope:a,timeout:this.timeout*1e3||b.timeout*1e3,upload:b.fileUpload?a.onSuccess:c}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var a=this.form;if(this.clientValidation===false||a.isValid())this.doSubmit();else{this.failureType=Ext.form.action.Action.CLIENT_INVALID;a.afterAction(this,false)}},doSubmit:function(){var b,a=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers});if(this.form.hasUpload()){b=a.form=this.buildForm();a.isUpload=true}else a.params=this.getParams();Ext.Ajax.request(a);b&&Ext.removeNode(b)},getParams:function(){var a=false,c=this.callParent(),b=this.form.getValues(a,a,this.submitEmptyText!==a);return Ext.apply({},b,c)},buildForm:function(){for(var n=[],e,j,p=this.form,h=this.getParams(),d=[],m=p.getFields().items,q=m.length,a,c,b,f,o,g,l,i=0;i<q;i++){a=m[i];a.isFileUpload()&&d.push(a)}function k(a,b){n.push({tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)})}for(c in h)if(h.hasOwnProperty(c)){b=h[c];if(Ext.isArray(b)){o=b.length;for(f=0;f<o;f++)k(c,b[f])}else k(c,b)}e={tag:"form",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:n};if(d.length)e.encoding=e.enctype="multipart/form-data";j=Ext.DomHelper.append(Ext.getBody(),e);l=d.length;for(g=0;g<l;g++){a=d[g];a.rendered&&j.appendChild(a.extractFileInput())}return j},onSuccess:function(d){var b=this.form,c=true,a=this.processResponse(d);if(a!==true&&!a.success){a.errors&&b.markInvalid(a.errors);this.failureType=Ext.form.action.Action.SERVER_INVALID;c=false}b.afterAction(this,c)},handleResponse:function(f){var h=this.form,g=h.errorReader,d,b,a,e,c;if(g){d=g.read(f);c=d.records;b=[];if(c)for(a=0,e=c.length;a<e;a++)b[a]=c[a].data;if(b.length<1)b=null;return{success:d.success,errors:b}}return Ext.decode(f.responseText)}});Ext.define("Ext.form.field.Field",{isFormField:true,disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){var a=this;a.originalValue=a.lastValue=a.value;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(b){var a=this;a.value=b;a.checkChange();return a},isEqual:function(b,a){return String(b)===String(a)},isEqualAsString:function(b,a){return String(Ext.value(b,""))===String(Ext.value(a,""))},getSubmitData:function(){var a=this,b=null;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){b={};b[a.getName()]=""+a.getValue()}return b},getModelData:function(){var a=this,b=null;if(!a.disabled&&!a.isFileUpload()){b={};b[a.getName()]=a.getValue()}return b},reset:function(){var a=this;a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this,b=a.getValue(),c=a.lastValue;if(!a.isEqual(b,c)&&!a.isDestroyed){a.lastValue=b;a.fireEvent("change",a,b,c);a.onChange(b,c)}}},onChange:function(){this.validateOnChange&&this.validate();this.checkDirty()},isDirty:function(){var a=this;return!a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();if(b!==a.wasDirty){a.fireEvent("dirtychange",a,b);a.onDirtyChange(b);a.wasDirty=b}},onDirtyChange:Ext.emptyFn,getErrors:function(){return[]},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();if(b!==a.wasValid){a.wasValid=b;a.fireEvent("validitychange",a,b)}return b},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b;}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.form.field.VTypes",function(){var c=/^[a-zA-Z_]+$/,d=/^[a-zA-Z0-9_]+$/,b=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,a=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(a){return b.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(b){return a.test(b)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(a){return c.test(a)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return d.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}());Ext.define("Ext.grid.LockingView",{mixins:{observable:"Ext.util.Observable"},eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell)/,constructor:function(b){var a=this,g=[],h=a.eventRelayRe,c=b.locked.getView(),f=b.normal.getView(),e,d;Ext.apply(a,{lockedView:c,normalView:f,lockedGrid:b.locked,normalGrid:b.normal,panel:b.panel});a.mixins.observable.constructor.call(a,b);e=c.events;for(d in e)e.hasOwnProperty(d)&&h.test(d)&&g.push(d);a.relayEvents(c,g);a.relayEvents(f,g);f.on({scope:a,itemmouseleave:a.onItemMouseLeave,itemmouseenter:a.onItemMouseEnter});c.on({scope:a,itemmouseleave:a.onItemMouseLeave,itemmouseenter:a.onItemMouseEnter})},getGridColumns:function(){var a=this.lockedGrid.headerCt.getGridColumns();return a.concat(this.normalGrid.headerCt.getGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(c){var a=this.lockedView,b;a.headerCt.cascade(function(a){if(a===c){b=true;return false}});return b?a:this.normalView},onItemMouseEnter:function(b,f){var e=this,c=e.lockedView,a=e.normalView,d;if(b.trackOver){if(b!==c)a=c;d=a.getNode(f);a.highlightItem(d)}},onItemMouseLeave:function(b){var d=this,c=d.lockedView,a=d.normalView;if(b.trackOver){if(b!==c)a=c;a.clearHighlight()}},relayFn:function(c,b){b=b||[];var a=this.lockedView;a[c].apply(a,b||[]);a=this.normalView;a[c].apply(a,b||[])},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a){return this.normalView.getNode(a)},getCell:function(d,a){var c=this.getViewForColumn(a),b;b=c.getNode(d);return Ext.fly(b).down(a.getCellSelector())},getRecord:function(a){var b=this.lockedView.getRecord(a);if(!a)b=this.normalView.getRecord(a);return b},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)}});Ext.define("Ext.grid.PagingScroller",{percentageFromEdge:.35,numFromEdge:2,trailingBufferZone:5,leadingBufferZone:15,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,tableStart:0,tableEnd:0,constructor:function(b){var a=this;a.variableRowHeight=b.variableRowHeight;a.bindView(b.view);Ext.apply(a,b);a.callParent(arguments)},bindView:function(b){var a=this,d={scroll:{fn:a.onViewScroll,element:"el",scope:a},render:a.onViewRender,resize:a.onViewResize,boxready:{fn:a.onViewResize,scope:a,single:true},refresh:a.onViewRefresh,scope:a},e={guaranteedrange:a.onGuaranteedRange,scope:a},c={reconfigure:a.onGridReconfigure,scope:a};if(a.variableRowHeight)d.beforerefresh=a.beforeViewRefresh;if(a.view){a.view.el.un("scroll",a.onViewScroll,a);a.view.un(d);a.store.un(e);a.grid&&a.grid.un(c);delete a.view.refreshSize}a.view=b;a.grid=a.view.up("tablepanel");a.store=b.store;if(b.rendered)a.viewSize=a.store.viewSize=Math.ceil(b.getHeight()/a.rowHeight)+a.trailingBufferZone+a.numFromEdge*2+a.leadingBufferZone;a.view.refreshSize=Ext.Function.createInterceptor(a.view.refreshSize,a.beforeViewrefreshSize,a);a.position=0;if(a.grid)a.grid.on(c);else a.view.on({added:function(){a.grid=a.view.up("tablepanel");a.grid.on(c)},single:true});a.view.on(a.viewListeners=d);a.store.on(e)},onGridReconfigure:function(a){this.bindView(a.view)},onViewRender:function(){var b=this,a=b.view.el;a.setStyle("position","relative");b.stretcher=a.createChild({style:{position:"absolute",width:"1px",height:0,top:0,left:0}},a.dom.firstChild)},onViewResize:function(d,e,c){var a=this,b;b=Math.ceil(c/a.rowHeight)+a.trailingBufferZone+a.numFromEdge*2+a.leadingBufferZone;if(b>a.viewSize){a.viewSize=a.store.viewSize=b;a.handleViewScroll(a.lastScrollDirection||1)}},beforeViewRefresh:function(){var a=this,d=a.view,b,c=a.lastScrollDirection;a.commonRecordIndex=undefined;if(c&&a.previousStart!==undefined&&a.scrollProportion===undefined){b=d.getNodes();if(c===1){if(a.tableStart<=a.previousEnd)a.commonRecordIndex=b.length-1}else if(c===-1)if(a.tableEnd>=a.previousStart)a.commonRecordIndex=0;a.scrollOffset=-d.el.getOffsetsTo(b[a.commonRecordIndex])[1];a.commonRecordIndex-=a.tableStart-a.previousStart}else a.scrollOffset=undefined},onViewRefresh:function(){var a=this,d=a.store,g,j=a.view,h=j.el,f=h.dom,l,k,i,b=h.child("table",true),e,c;a.disabled=true;if(d.getCount()===d.getTotalCount()||d.isFiltered()&&!d.remoteFilter){a.stretcher.setHeight(0);a.position=f.scrollTop=0;b.style.position="absolute";return}a.stretcher.setHeight(g=a.getScrollHeight());c=f.scrollTop;a.isScrollRefresh=c>0;if(a.scrollProportion!==undefined){a.scrollProportion=c/(g-b.offsetHeight);b.style.position="absolute";b.style.top=(a.scrollProportion?g*a.scrollProportion-b.offsetHeight*a.scrollProportion:0)+"px"}else{b.style.position="absolute";b.style.top=(e=(a.tableStart||0)*a.rowHeight)+"px";if(a.scrollOffset){l=j.getNodes();k=-h.getOffsetsTo(l[a.commonRecordIndex])[1];i=k-a.scrollOffset;a.position=c+=i}else if(e>c||e+b.offsetHeight<c+f.clientHeight){a.lastScrollDirection=-1;a.position=f.scrollTop=e}}a.disabled=false},beforeViewrefreshSize:function(){if(this.isScrollRefresh)return this.isScrollRefresh=false},onGuaranteedRange:function(b,e,c){var a=this,d=a.store;if(b.length&&a.visibleStart<b[0].index)return;a.previousStart=a.tableStart;a.previousEnd=a.tableEnd;a.tableStart=e;a.tableEnd=c;d.loadRecords(b)},onViewScroll:function(){var a=this,c=a.view,b=a.position;a.position=c.el.dom.scrollTop;if(!a.disabled){a.lastScrollDirection=a.position>b?1:-1;b!==a.position&&a.handleViewScroll(a.lastScrollDirection)}},handleViewScroll:function(k){var a=this,h=a.store,d=a.view,c=a.viewSize,e=h.getTotalCount(),i=e-c,g=a.getFirstVisibleRowIndex(),j=a.getLastVisibleRowIndex(),b,f;if(e>=c){a.scrollProportion=undefined;if(k==-1)if(g!==undefined){if(g<a.tableStart+a.numFromEdge)b=Math.max(0,j+a.trailingBufferZone-c)}else{a.scrollProportion=d.el.dom.scrollTop/(d.el.dom.scrollHeight-d.el.dom.clientHeight);b=Math.max(0,e*a.scrollProportion-c/2-a.numFromEdge-(a.leadingBufferZone+a.trailingBufferZone)/2)}else if(g!==undefined){if(j>a.tableEnd-a.numFromEdge)b=Math.max(0,g-a.trailingBufferZone)}else{a.scrollProportion=d.el.dom.scrollTop/(d.el.dom.scrollHeight-d.el.dom.clientHeight);b=e*a.scrollProportion-c/2-a.numFromEdge-(a.leadingBufferZone+a.trailingBufferZone)/2}if(b!==undefined){if(b>i){b=i&~1;f=e-1}else{b=b&~1;f=b+c-1}if(h.rangeCached(b,f)){a.cancelLoad();h.guaranteeRange(b,f)}else a.attemptLoad(b,f)}}},getFirstVisibleRowIndex:function(){var b=this,g=b.store,c=b.view,h=c.el.dom.scrollTop,d,f,a,e;if(b.variableRowHeight){d=c.getNodes();f=g.getCount();for(a=0;a<f;a++){e=Ext.fly(d[a]).getOffsetsTo(c.el)[1]+d[a].offsetHeight;if(e>c.el.dom.clientHeight)return;if(e>0)return a+b.tableStart}}else return Math.floor(h/b.rowHeight)},getLastVisibleRowIndex:function(){var a=this,h=a.store,c=a.view,e=c.el.dom.clientHeight,g,f,b,d;if(a.variableRowHeight){g=c.getNodes();f=h.getCount();for(b=f-1;b>=0;b--){d=Ext.fly(g[b]).getOffsetsTo(c.el)[1];if(d<0)return;if(d<e)return b+a.tableStart}}else return a.getFirstVisibleRowIndex()+Math.ceil(e/a.rowHeight)+1},getScrollHeight:function(){var a=this,d=a.view,b,c,g=a.store,f=0,e=!a.hasOwnProperty("rowHeight");if(a.variableRowHeight){b=a.view.el.down("table",true);if(e){a.initialTableHeight=b.offsetHeight;a.rowHeight=a.initialTableHeight/a.store.getCount()}else f=b.offsetHeight-a.initialTableHeight}else if(e){c=d.el.down(d.getItemSelector());if(c)a.rowHeight=c.getHeight(false,true)}return Math.floor(g.getTotalCount()*a.rowHeight)+f},attemptLoad:function(c,b){var a=this;if(a.scrollToLoadBuffer){if(!a.loadTask)a.loadTask=new Ext.util.DelayedTask(a.doAttemptLoad,a,[]);a.loadTask.delay(a.scrollToLoadBuffer,a.doAttemptLoad,a,[c,b])}else a.store.guaranteeRange(c,b)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(b,a){this.store.guaranteeRange(b,a)},destroy:function(){var a=this,b=a.viewListeners.scroll;a.store.un({guaranteedrange:a.onGuaranteedRange,scope:a});a.view.un(a.viewListeners);if(a.view.rendered){a.stretcher.remove();a.view.el.un("scroll",b.fn,b.scope)}}});Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,collectData:false,init:Ext.emptyFn,getFeatureTpl:function(){return""},getFireEventArgs:function(b,a,c,d){return[b,a,c,d]},attachEvents:function(){},getFragmentTpl:Ext.emptyFn,mutateMetaRowTpl:Ext.emptyFn,getMetaRowTplFragments:function(){return{}},getTableFragments:function(){return{}},getAdditionalData:function(){return{}},enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",bodySelector:"."+Ext.baseCSSPrefix+"grid-group-body",constructor:function(){var a=this;a.collapsedState={};a.callParent(arguments)},groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,enable:function(){var a=this,c=a.view,d=c.store,b;a.lastGroupField=a.getGroupField();a.lastGroupIndex&&d.group(a.lastGroupIndex);a.callParent();b=a.view.headerCt.getMenu().down("#groupToggleMenuItem");b.setChecked(true,true);a.refreshIf()},disable:function(){var a=this,e=a.view,b=e.store,f=b.remoteGroup,d,c;c=b.groupers.first();if(c){a.lastGroupIndex=c.property;a.block();b.clearGrouping();a.unblock()}a.callParent();d=a.view.headerCt.getMenu().down("#groupToggleMenuItem");d.setChecked(true,true);d.setChecked(false,true);!f&&e.refresh()},refreshIf:function(){if(this.blockRefresh!==true)if(this.grid.ownerCt&&this.grid.ownerCt.lockable)this.grid.ownerCt.view.refresh();else this.view.refresh()},getFeatureTpl:function(d,b){var a=this;return["<tpl if=\"typeof rows !== 'undefined'\">",'<tr id="{groupHeaderId}" class="'+Ext.baseCSSPrefix+"grid-group-hd "+(a.startCollapsed?a.hdCollapsedCls:"")+' {hdCollapsedCls}"><td class="'+Ext.baseCSSPrefix+'grid-cell" colspan="'+b.columns.length+'" {[this.indentByDepth(values)]}><div class="'+Ext.baseCSSPrefix+'grid-cell-inner"><div class="'+Ext.baseCSSPrefix+'grid-group-title">{collapsed}{[this.renderGroupHeaderTpl(values)]}</div></div></td></tr>','<tr id="{groupBodyId}" class="'+Ext.baseCSSPrefix+"grid-group-body "+(a.startCollapsed?a.collapsedCls:"")+' {collapsedCls}"><td colspan="'+b.columns.length+'">{[this.recurse(values)]}</td></tr>',"</tpl>"].join("")},getFragmentTpl:function(){var a=this;return{indentByDepth:a.indentByDepth,depthToIndent:a.depthToIndent,renderGroupHeaderTpl:function(b){return Ext.XTemplate.getTpl(a,"groupHeaderTpl").apply(b)}}},indentByDepth:function(a){return'style="padding-left:'+(a.depth||0)*this.depthToIndent+'px;"'},destroy:function(){delete this.view;delete this.prunedHeader},attachEvents:function(){var a=this,b=a.view;b.on({scope:a,groupclick:a.onGroupClick,rowfocus:a.onRowFocus});b.mon(b.store,{scope:a,groupchange:a.onGroupChange,remove:a.onRemove,add:a.onAdd,update:a.onUpdate});a.enableGroupingMenu&&a.injectGroupingMenu();a.pruneGroupedHeader();a.lastGroupField=a.getGroupField();a.block();a.onGroupChange();a.unblock()},onAdd:function(l,g){var i=this,j=i.view,k=i.getGroupField(),b=0,e=g.length,f,c,d,h,a;if(j.rendered){c={};f={};for(;b<e;++b){a=g[b].get(k);if(c[a]===undefined)c[a]=0;c[a]+=1}d=l.getGroups();for(b=0,e=d.length;b<e;++b){a=d[b];f[a.name]=a.children.length}for(a in c)if(c[a]===f[a]){h=true;break}h&&j.refresh()}},onUpdate:function(d,c,e,b){var a=this.view;(a.rendered&&!b||Ext.Array.contains(b,this.getGroupField()))&&a.refresh()},onRemove:function(e,d){var a=this,b=a.getGroupField(),f=d.get(b),c=a.view;if(c.rendered)e.findExact(b,f)===-1&&a.view.refresh()},injectGroupingMenu:function(){var a=this,c=a.view,b=c.headerCt;b.showMenuBy=a.showMenuBy;b.getMenuItems=a.getMenuItems()},showMenuBy:function(e,d){var c=this.getMenu(),b=c.down("#groupMenuItem"),a=d.groupable===false?"disable":"enable";b[a]();Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var a=this,c=a.groupByText,e=a.disabled||!a.getGroupField(),b=a.showGroupsText,d=a.enableNoGroups,g=Ext.Function.bind(a.onGroupMenuItemClick,a),f=Ext.Function.bind(a.onGroupToggleMenuItemClick,a);return function(){var a=Ext.grid.header.Container.prototype.getMenuItems.call(this);a.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:c,handler:g});d&&a.push({itemId:"groupToggleMenuItem",text:b,checked:!e,checkHandler:f});return a}},onGroupMenuItemClick:function(d){var a=this,f=d.parentMenu,g=f.activeHeader,b=a.view,c=b.store,e=c.remoteGroup;delete a.lastGroupIndex;a.block();a.enable();c.group(g.dataIndex);a.pruneGroupedHeader();a.unblock();!e&&b.refresh()},block:function(){this.blockRefresh=this.view.blockRefresh=true},unblock:function(){this.blockRefresh=this.view.blockRefresh=false},onGroupToggleMenuItemClick:function(b,a){this[a?"enable":"disable"]()},pruneGroupedHeader:function(){var a=this,b=a.getGroupedHeader();if(a.hideGroupedHeader&&b){a.prunedHeader&&a.prunedHeader.show();a.prunedHeader=b;b.hide()}},getGroupedHeader:function(){var a=this.getGroupField(),b=this.view.headerCt;return a?b.down("[dataIndex="+a+"]"):null},getGroupField:function(){var a=this.view.store.groupers.first();return a?a.property:""},onRowFocus:function(c){var b=this.view.getNode(c),a=Ext.fly(b).up("."+this.collapsedCls);a&&this.expand(a)},expand:function(b,f){var a=this,d=a.view,c,e=a.lockingPartner;if(Ext.isString(b))c=Ext.fly(a.getGroupBodyId(b),"_grouping");else{c=Ext.fly(b,"_grouping");b=a.getGroupName(c)}if(a.collapsedState[b]){c.removeCls(a.collapsedCls);c.prev().removeCls(a.hdCollapsedCls);f!==true&&d.refreshSize();d.fireEvent("groupexpand");a.collapsedState[b]=false;e&&e.expand(b,f)}},expandAll:function(){for(var a=this,c=a.view,d=c.el.select(a.eventSelector).elements,e=d.length,b=0;b<e;b++)a.expand(Ext.fly(d[b]).next(),true);c.refreshSize()},collapse:function(b,f){var a=this,d=a.view,c,e=a.lockingPartner;if(Ext.isString(b))c=Ext.fly(a.getGroupBodyId(b),"_grouping");else{c=Ext.fly(b,"_grouping");b=a.getGroupName(c)}if(!a.collapsedState[b]){c.addCls(a.collapsedCls);c.prev().addCls(a.hdCollapsedCls);f!==true&&d.refreshSize();d.fireEvent("groupcollapse");a.collapsedState[b]=true;e&&e.collapse(b,f)}},collapseAll:function(){for(var a=this,c=a.view,d=c.el.select(a.eventSelector).elements,e=d.length,b=0;b<e;b++)a.collapse(Ext.fly(d[b]).next(),true);c.refreshSize()},onGroupChange:function(){var a=this,c=a.getGroupField(),b,d,e;if(a.hideGroupedHeader){if(a.lastGroupField){b=a.getMenuItem(a.lastGroupField);b&&b.setChecked(true)}if(c){d=a.view.headerCt.getVisibleGridColumns();e=d.length===1&&d[0].dataIndex==c;b=a.getMenuItem(c);b&&!e&&b.setChecked(false)}}a.blockRefresh!==true&&a.view.refresh();a.lastGroupField=c},getMenuItem:function(c){var a=this.view,b=a.headerCt.down("gridcolumn[dataIndex="+c+"]"),d=a.headerCt.getMenu();return b?d.down("menuitem[headerId="+b.id+"]"):null},onGroupClick:function(c,d,b){var a=this;if(a.collapsedState[b])a.expand(b);else a.collapse(b)},getMetaRowTplFragments:function(){return{isRow:this.isRow,closeRow:this.closeRow}},isRow:function(){return"<tpl if=\"typeof rows === 'undefined'\">"},closeRow:function(){return"</tpl>"},mutateMetaRowTpl:function(a){a.unshift("{[this.isRow()]}");a.push("{[this.closeRow()]}")},getAdditionalData:function(f,i,g,d){var h=this.view,e=h.headerCt,c=e.items.getAt(0),b={},a;if(c){a=c.id+"-tdAttr";b[a]=this.indentByDepth(f)+" "+(d[a]?d[a]:"");b.collapsed="true";b.data=g.getData()}return b},getGroupRows:function(a,h,i,l){var b=this,j=a.children,n=a.rows=[],k=b.view,d=b.getGroupedHeader(),g=b.getGroupField(),f=-1,c,m=h.length,e;a.viewId=k.id;for(c=0;c<m;c++){e=h[c];if(e.get(g)==a.name)f=c;Ext.Array.indexOf(j,e)!=-1&&n.push(Ext.apply(i[c],{depth:1}))}a.groupHeaderId=b.getGroupHeaderId(a.name);a.groupBodyId=b.getGroupBodyId(a.name);a.fullWidth=l;a.columnName=d?d.text:g;a.groupValue=a.name;if(d&&f>-1)a.name=a.renderedValue=i[f][d.id];if(b.collapsedState[a.name]){a.collapsedCls=b.collapsedCls;a.hdCollapsedCls=b.hdCollapsedCls}return a},getGroupHeaderId:function(a){return this.view.id+"-hd-"+a},getGroupBodyId:function(a){return this.view.id+"-bd-"+a},getGroupName:function(b){var c=this,a;a=Ext.fly(b).findParent(c.eventSelector);if(a)return a.id.split(this.view.id+"-hd-")[1];a=Ext.fly(b).findParent(c.bodySelector);if(a)return a.id.split(this.view.id+"-bd-")[1]},collectData:function(i,j,k,e,h){var c=this,f=c.view.store,b,a,d,g;if(!c.disabled&&f.isGrouped()){a=f.getGroups();d=a.length;for(b=0;b<d;b++){g=a[b];c.getGroupRows(g,i,j,e)}return{rows:a,fullWidth:e}}return h},getFireEventArgs:function(c,b,a,d){return[c,b,a,this.getGroupName(a),d]}});Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTrCls:Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyTdCls:Ext.baseCSSPrefix+"grid-cell-rowbody",rowBodyDivCls:Ext.baseCSSPrefix+"grid-rowbody",eventPrefix:"rowbody",eventSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",getRowBody:function(){return['<tr class="'+this.rowBodyTrCls+' {rowBodyCls}">','<td class="'+this.rowBodyTdCls+'" colspan="{rowBodyColspan}">','<div class="'+this.rowBodyDivCls+'">{rowBody}</div>',"</td>","</tr>"].join("")},getMetaRowTplFragments:function(){return{getRowBody:this.getRowBody,rowBodyTrCls:this.rowBodyTrCls,rowBodyTdCls:this.rowBodyTdCls,rowBodyDivCls:this.rowBodyDivCls}},mutateMetaRowTpl:function(a){a.push("{[this.getRowBody(values)]}")},getAdditionalData:function(){var a=this.view.headerCt,b=a.getColumnCount();return{rowBody:"",rowBodyCls:this.rowBodyCls,rowBodyColspan:b}}});Ext.define("Ext.grid.feature.RowWrap",{extend:"Ext.grid.feature.Feature",alias:"feature.rowwrap",hasFeatureEvent:false,init:function(){!this.disabled&&this.enable()},getRowSelector:function(){return"tr:has(> "+this.view.cellSelector+")"},enable:function(){var a=this,b=a.view;a.callParent();a.savedRowSelector=b.rowSelector;b.rowSelector=a.getRowSelector();b.onHeaderResize=Ext.Function.createSequence(b.onHeaderResize,a.onHeaderResize,a)},disable:function(){var a=this,b=a.view,c=a.savedRowSelector;a.callParent();if(c)b.rowSelector=c;delete a.savedRowSelector;delete b.onHeaderResize},mutateMetaRowTpl:function(a){var b=Ext.baseCSSPrefix;a[0]=a[0].replace(b+"grid-row","");a[0]=a[0].replace("{[this.embedRowCls()]}","");a.unshift('<table class="'+b+"grid-table "+b+'grid-table-resizer" style="width: {[this.embedFullWidth()]}px;">');a.unshift('<tr class="'+b+'grid-row {[this.embedRowCls()]}"><td colspan="{[this.embedColSpan()]}"><div class="'+b+'grid-rowwrap-div">');a.push("</table>");a.push("</div></td></tr>")},embedColSpan:function(){return"{colspan}"},embedFullWidth:function(){return"{fullWidth}"},getAdditionalData:function(l,n,m,f){for(var g=this.view.headerCt,i=g.getColumnCount(),j=g.getFullWidth(),e=g.query("gridcolumn"),k=e.length,b=0,c={colspan:i,fullWidth:j},a,d,h;b<k;b++){a=e[b].id;d=a+"-tdCls";h=Ext.baseCSSPrefix+"grid-col-resizer-"+a;c[d]=h+" "+(f[d]?f[d]:"");c[a+"-tdAttr"]=' style="width: '+(e[b].hidden?0:e[b].getDesiredWidth())+'px;" ';if(f[a+"-tdAttr"])c[a+"-tdAttr"]+=f[a+"-tdAttr"]}return c},getMetaRowTplFragments:function(){return{embedFullWidth:this.embedFullWidth,embedColSpan:this.embedColSpan}},onHeaderResize:function(c,b){var a=this.view.el;a&&a.select("td."+Ext.baseCSSPrefix+"grid-col-resizer-"+c.id).setWidth(b)}});Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,init:function(a){a.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var a=this;a.dragZone&&a.dragZone.unlock();a.dropZone&&a.dropZone.unlock();a.callParent()},disable:function(){var a=this;a.dragZone&&a.dragZone.lock();a.dropZone&&a.dropZone.lock();a.callParent()},onViewRender:function(b){var a=this;if(a.enableDrag)a.dragZone=new Ext.view.DragZone({view:b,ddGroup:a.dragGroup||a.ddGroup,dragText:a.dragText});if(a.enableDrop)a.dropZone=new Ext.grid.ViewDropZone({view:b,ddGroup:a.dropGroup||a.ddGroup})}});Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.util.Observable",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:false,config:{dynamic:false},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var b=this.headerCt,a=b.el;b.mon(a,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:a})},onHeaderCtMouseMove:function(f){var b=this,e,h,c,a,g,d;if(b.headerCt.dragging){if(b.activeHd){b.activeHd.el.dom.style.cursor="";delete b.activeHd}}else{h=f.getTarget("."+b.colHeaderCls,3,true);if(h){c=Ext.getCmp(h.id);if(c.isOnLeftEdge(f)){a=c.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(a){d=b.headerCt.up("tablepanel");g=a.up("tablepanel");if(!(g===d||d.ownerCt.isXType("tablepanel")&&d.ownerCt.view.lockedGrid===g))a=null}}else if(c.isOnRightEdge(f))a=c;else a=null;if(a){if(a.isGroupHeader){e=a.getGridColumns();a=e[e.length-1]}if(a&&!(a.fixed||a.resizable===false||b.disabled)){b.activeHd=a;c.el.dom.style.cursor=b.eResizeCursor}}else{c.el.dom.style.cursor="";delete b.activeHd}}}},onBeforeStart:function(b){var a=b.getTarget();this.dragHd=this.activeHd;if(!!this.dragHd&&!Ext.fly(a).hasCls(Ext.baseCSSPrefix+"column-header-trigger")&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}else{this.headerCt.dragging=false;return false}},getConstrainRegion:function(){var a=this,c=a.dragHd.el,d=Ext.util.Region.getRegion(c),b;if(a.headerCt.forceFit)b=a.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");return d.adjust(0,a.headerCt.forceFit?b?b.getWidth()-a.minColWidth:0:a.maxColWidth-c.getWidth(),0,a.minColWidth)},onStart:function(s){var a=this,q=a.dragHd,k=q.el,o=k.getWidth(),g=a.headerCt,r=s.getTarget(),l,j,m,n,d,b,c,f,p,e,i,h;if(a.dragHd&&!Ext.fly(r).hasCls(Ext.baseCSSPrefix+"column-header-trigger"))g.dragging=true;a.origWidth=o;if(!a.dynamic){l=k.getXY();j=g.up("[scrollerOwner]");m=a.dragHd.up(":not([isGroupHeader])");n=m.up();d=j.getLhsMarker();b=j.getRhsMarker();c=b.parent();f=c.getLeft(true);p=c.getTop(true);e=c.translatePoints(l);i=n.body.getHeight()+g.getHeight();h=e.top-p;d.setTop(h);b.setTop(h);d.setHeight(i);b.setHeight(i);d.setLeft(e.left-f);b.setLeft(e.left+o-f)}},onDrag:function(){if(!this.dynamic){var f=this.tracker.getXY("point"),c=this.headerCt.up("[scrollerOwner]"),b=c.getRhsMarker(),a=b.parent(),d=a.translatePoints(f),e=a.getLeft(true);b.setLeft(d.left-e)}else this.doResize()},onEnd:function(){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var e=this.dragHd,b=this.headerCt.up("[scrollerOwner]"),c=b.getLhsMarker(),d=b.getRhsMarker(),a=-9999;c.setLeft(a);d.setLeft(a)}this.doResize()}},doResize:function(){if(this.dragHd){var b=this.dragHd,a,c=this.tracker.getOffset("point");if(b.flex)delete b.flex;Ext.suspendLayouts();b.setWidth(this.origWidth+c[0]);if(this.headerCt.forceFit){a=b.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(a){delete a.flex;a.setWidth(a.getWidth()-c[0])}}Ext.resumeLayouts(true)}},disable:function(){this.disabled=true;this.tracker&&this.tracker.disable()},enable:function(){this.disabled=false;this.tracker&&this.tracker.enable()}});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(b,a){this.layout=b;Ext.apply(this,a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,finishedLayout:Ext.emptyFn,completeLayout:function(c){var b=this,d=c.state.boxPlan,a;if(d&&d.tooNarrow){a=b.handleOverflow(c);if(a)a.reservedSpace&&b.layout.publishInnerCtSize(c,a.reservedSpace)}else b.clearOverflow()},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(b){var a="";if(b.is("toolbar"))a="toolbar";else if(b.is("tabbar"))a="tabbar";else a=b.getXType();return a},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(b,c){var a=this;a.panel=b;a.id=a.panel.id+"-ddproxy";Ext.apply(a,c)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.remove();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var a=this,b;if(!a.ghost){b=a.panel.getSize();a.panel.el.setVisibilityMode(Ext.Element.DISPLAY);a.ghost=a.panel.ghost();if(a.insertProxy){a.proxy=a.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});a.proxy.setSize(b)}}},repair:function(c,b,a){this.hide();Ext.callback(b,a||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(f){var a=this,b,g,i,e=a.handles,l,h,k,d=0,c,o=[],n,j,m;a.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(f)||Ext.isElement(f)||f.dom){b=f;f=arguments[1]||{};f.target=b}a.mixins.observable.constructor.call(a,f);b=a.target;if(b)if(b.isComponent){a.el=b.getEl();if(b.minWidth)a.minWidth=b.minWidth;if(b.minHeight)a.minHeight=b.minHeight;if(b.maxWidth)a.maxWidth=b.maxWidth;if(b.maxHeight)a.maxHeight=b.maxHeight;if(b.floating)if(!a.hasOwnProperty("handles"))a.handles="n ne e se s sw w nw"}else a.el=a.target=Ext.get(b);else a.target=a.el=Ext.get(a.el);i=a.el.dom.tagName.toUpperCase();if(i=="TEXTAREA"||i=="IMG"||i=="TABLE"){a.originalTarget=a.target;g=a.el;m=g.getBox();a.target=a.el=a.el.wrap({cls:a.wrapCls,id:a.el.id+"-rzwrap",style:g.getStyles("margin-top","margin-bottom")});a.el.setPositioning(g.getPositioning());g.clearPositioning();a.el.setBox(m);g.setStyle("position","absolute")}a.el.position();a.pinned&&a.el.addCls(a.pinnedCls);a.resizeTracker=new Ext.resizer.ResizeTracker({disabled:a.disabled,target:a.target,constrainTo:a.constrainTo,overCls:a.overCls,throttle:a.throttle,originalTarget:a.originalTarget,delegate:"."+a.handleCls,dynamic:a.dynamic,preserveRatio:a.preserveRatio,heightIncrement:a.heightIncrement,widthIncrement:a.widthIncrement,minHeight:a.minHeight,maxHeight:a.maxHeight,minWidth:a.minWidth,maxWidth:a.maxWidth});a.resizeTracker.on({mousedown:a.onBeforeResize,drag:a.onResize,dragend:a.onResizeEnd,scope:a});if(a.handles=="all")a.handles="n s e w ne nw se sw";e=a.handles=a.handles.split(/ |\s*?[,;]\s*?/);h=a.possiblePositions;k=e.length;l=a.handleCls+" "+(a.target.isComponent?a.target.baseCls+"-handle ":"")+a.handleCls+"-";n=Ext.isIE6?' style="height:'+a.el.getHeight()+'px"':"";for(;d<k;d++)if(e[d]&&h[e[d]]){c=h[e[d]];if(c==="east"||c==="west")j=n;else j="";o.push('<div id="'+a.el.id+"-"+c+'-handle" class="'+l+c+" "+Ext.baseCSSPrefix+'unselectable"'+j+"></div>")}Ext.DomHelper.append(a.el,o.join(""));for(d=0;d<k;d++)if(e[d]&&h[e[d]]){c=h[e[d]];a[c]=a.el.getById(a.el.id+"-"+c+"-handle");a[c].region=c;a[c].unselectable();a.transparent&&a[c].setOpacity(0)}if(Ext.isNumber(a.width))a.width=Ext.Number.constrain(a.width,a.minWidth,a.maxWidth);if(Ext.isNumber(a.height))a.height=Ext.Number.constrain(a.height,a.minHeight,a.maxHeight);if(a.width!==null||a.height!==null){if(a.originalTarget){a.originalTarget.setWidth(a.width);a.originalTarget.setHeight(a.height)}a.resizeTo(a.width,a.height)}a.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(c,b){var a=this.el.getBox();return this.fireEvent("beforeresize",this,a.width,a.height,b)},onResize:function(d,c){var a=this,b=a.el.getBox();a.forceHandlesHeight();return a.fireEvent("resizedrag",a,b.width,b.height,c)},onResizeEnd:function(d,c){var a=this,b=a.el.getBox();a.forceHandlesHeight();return a.fireEvent("resize",a,b.width,b.height,c)},resizeTo:function(c,b){var a=this;a.target.setSize(c,b);a.fireEvent("resize",a,c,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){for(var a=0,b=this.handles,c=b.length,d=this.possiblePositions;a<c;a++)this[d[b[a]]].remove()},forceHandlesHeight:function(){var b=this,a;if(Ext.isIE6){a=b.east;a&&a.setHeight(b.el.getHeight());a=b.west;a&&a.setHeight(b.el.getHeight());b.el.repaint()}}});Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(b){var a=this,d,c,e;if(!b.el)if(b.target.isComponent)a.el=b.target.getEl();else a.el=b.target;this.callParent(arguments);if(a.preserveRatio&&a.minWidth&&a.minHeight){d=a.minWidth/a.el.getWidth();c=a.minHeight/a.el.getHeight();if(c>d)a.minWidth=a.el.getWidth()*c;else a.minHeight=a.el.getHeight()*d}if(a.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(a,arguments)},a.throttle);a.resize=function(c,d,b){if(b)Ext.resizer.ResizeTracker.prototype.resize.apply(a,arguments);else e.apply(null,arguments)}}},onBeforeStart:function(){this.startBox=this.el.getBox()},getDynamicTarget:function(){var a=this,b=a.target;if(a.dynamic)return b;else if(!a.proxy)a.proxy=a.createProxy(b);a.proxy.show();return a.proxy},createProxy:function(b){var a,d=this.proxyCls,c;if(b.isComponent)a=b.getProxy().addCls(d);else{c=Ext.getBody();if(Ext.scopeResetCSS)c=Ext.getBody().createChild({cls:Ext.resetCls});a=b.createProxy({tag:"div",cls:d,id:b.id+"-rzproxy"},c)}a.removeCls(Ext.baseCSSPrefix+"proxy-el");return a},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id);!this.dynamic&&this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},updateDimensions:function(u,t){var c=this,l=c.activeResizeHandle.region,d=c.getOffset(c.constrainTo?"dragTarget":null),b=c.startBox,n,e=0,f=0,i,j,k=0,m=0,s,q=d[0]<0?"right":"left",r=d[1]<0?"down":"up",h,g,a,p,o;switch(l){case"south":f=d[1];g=2;break;case"north":f=-d[1];m=-f;g=2;break;case"east":e=d[0];g=1;break;case"west":e=-d[0];k=-e;g=1;break;case"northeast":f=-d[1];m=-f;e=d[0];h=[b.x,b.y+b.height];g=3;break;case"southeast":f=d[1];e=d[0];h=[b.x,b.y];g=3;break;case"southwest":e=-d[0];k=-e;f=d[1];h=[b.x+b.width,b.y];g=3;break;case"northwest":f=-d[1];m=-f;e=-d[0];k=-e;h=[b.x+b.width,b.y+b.height];g=3}a={width:b.width+e,height:b.height+f,x:b.x+k,y:b.y+m};i=Ext.Number.snap(a.width,c.widthIncrement);j=Ext.Number.snap(a.height,c.heightIncrement);if(i!=a.width||j!=a.height){switch(l){case"northeast":a.y-=j-a.height;break;case"north":a.y-=j-a.height;break;case"southwest":a.x-=i-a.width;break;case"west":a.x-=i-a.width;break;case"northwest":a.x-=i-a.width;a.y-=j-a.height}a.width=i;a.height=j}if(a.width<c.minWidth||a.width>c.maxWidth){a.width=Ext.Number.constrain(a.width,c.minWidth,c.maxWidth);if(k)a.x=b.x+(b.width-a.width)}else c.lastX=a.x;if(a.height<c.minHeight||a.height>c.maxHeight){a.height=Ext.Number.constrain(a.height,c.minHeight,c.maxHeight);if(m)a.y=b.y+(b.height-a.height)}else c.lastY=a.y;if(c.preserveRatio||u.shiftKey){n=c.startBox.width/c.startBox.height;p=Math.min(Math.max(c.minHeight,a.width/n),c.maxHeight);o=Math.min(Math.max(c.minWidth,a.height*n),c.maxWidth);if(g==1)a.height=p;else if(g==2)a.width=o;else{s=Math.abs(h[0]-this.lastXY[0])/Math.abs(h[1]-this.lastXY[1]);if(s>n)a.height=p;else a.width=o;if(l=="northeast")a.y=b.y-(a.height-b.height);else if(l=="northwest"){a.y=b.y-(a.height-b.height);a.x=b.x-(a.width-b.width)}else if(l=="southwest")a.x=b.x-(a.width-b.width)}}if(f===0)r="none";if(e===0)q="none";c.resize(a,{horizontal:q,vertical:r},t)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(b,d,c){var a=this.getResizeTarget(c);if(a.isComponent){a.setSize(b.width,b.height);a.floating&&a.setPagePosition(b.x,b.y)}else a.setBox(b);a=this.originalTarget;if(a&&(this.dynamic||c))if(a.isComponent){a.setSize(b.width,b.height);a.floating&&a.setPagePosition(b.x,b.y)}else a.setBox(b)},onEnd:function(a){this.updateDimensions(a,true);this.proxy&&this.proxy.hide()}});Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling()},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling()},onBeforeStart:function(g){var a=this,d=a.getPrevCmp(),c=a.getNextCmp(),e=a.getSplitter().collapseEl,f=g.getTarget(),b;if(e&&f===a.getSplitter().collapseEl.dom)return false;if(c.collapsed||d.collapsed)return false;a.prevBox=d.getEl().getBox();a.nextBox=c.getEl().getBox();a.constrainTo=b=a.calculateConstrainRegion();if(!b)return false;a.createDragOverlay();return b},onStart:function(){var a=this.getSplitter();a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var f=this,h=f.getSplitter(),g=h.getWidth(),d=h.defaultSplitMin,k=h.orientation,a=f.prevBox,e=f.getPrevCmp(),b=f.nextBox,c=f.getNextCmp(),j,i;if(k==="vertical"){j=new Ext.util.Region(a.y,(e.maxWidth?a.x+e.maxWidth:b.right-(c.minWidth||d))+g,a.bottom,a.x+(e.minWidth||d));i=new Ext.util.Region(b.y,b.right-(c.minWidth||d),b.bottom,(c.maxWidth?b.right-c.maxWidth:a.x+(a.minWidth||d))-g)}else{j=new Ext.util.Region(a.y+(e.minHeight||d),a.right,(e.maxHeight?a.y+e.maxHeight:b.bottom-(c.minHeight||d))+g,a.x);i=new Ext.util.Region((c.maxHeight?b.bottom-c.maxHeight:a.y+(e.minHeight||d))-g,b.right,b.bottom-(c.minHeight||d),b.x)}return j.intersect(i)},performResize:function(n,b){for(var d=this,i=d.getSplitter(),l=i.orientation,g=d.getPrevCmp(),f=d.getNextCmp(),j=i.ownerCt,h=j.query(">[flex]"),m=h.length,e=0,c,a,k=0;e<m;e++){a=h[e].getWidth();k+=a;h[e].flex=a}b=b||d.getOffset("dragTarget");if(l==="vertical"){b=b[0];c="width"}else{c="height";b=b[1]}if(g){a=d.prevBox[c]+b;if(g.flex)g.flex=a;else g[c]=a}if(f){a=d.nextBox[c]-b;if(f.flex)f.flex=a;else f[c]=a}j.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.remove();delete a.overlay}a.callParent(arguments)},onEnd:function(c){var a=this,b=a.getSplitter();b.removeCls(b.baseCls+"-active");a.performResize(c,a.getOffset("dragTarget"))},onDrag:function(){var a=this,d=a.getOffset("dragTarget"),c=a.getSplitter(),b=c.getEl(),e=c.orientation;if(e==="vertical")b.setX(a.startRegion.left+d[0]);else b.setY(a.startRegion.top+d[1])},getSplitter:function(){return this.splitter}});Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],topZIndex:1e4,constructor:function(a){var b=this;Ext.apply(b,a||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:false});b.callParent([a])},render:function(){var a=this;a.el=a.slider.innerEl.insertFirst(a.getElConfig());a.onRender()},onRender:function(){this.disabled&&this.disable();this.initEvents()},getElConfig:function(){var c=this,a=c.slider,b={};b[a.vertical?"bottom":"left"]=a.calculateThumbPosition(a.normalizeValue(c.value))+"%";return{style:b,id:this.id,cls:this.cls}},move:function(b,f){var c=this.el,a=this.slider.vertical?"bottom":"left",e,d;b+="%";if(!f)c.dom.style[a]=b;else{e={};e[a]=b;if(!Ext.supports.GetPositionPercentage){d={};d[a]=c.dom.style[a]}new Ext.fx.Anim({target:c,duration:350,from:d,to:e})}},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var a=this;a.disabled=false;a.el&&a.el.removeCls(a.slider.disabledCls)},disable:function(){var a=this;a.disabled=true;a.el&&a.el.addCls(a.slider.disabledCls)},initEvents:function(){var a=this,b=a.el;a.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(a.onBeforeDragStart,a),onStart:Ext.Function.bind(a.onDragStart,a),onDrag:Ext.Function.bind(a.onDrag,a),onEnd:Ext.Function.bind(a.onDragEnd,a),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"});a.tracker.initEl(b)},onBeforeDragStart:function(){if(this.disabled)return false;else{this.slider.promoteThumb(this);return true}},onDragStart:function(b){var a=this;a.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag");a.dragging=a.slider.dragging=true;a.dragStartValue=a.value;a.slider.fireEvent("dragstart",a.slider,b,a)},onDrag:function(g){var c=this,b=c.slider,f=c.index,a=c.getValueFromTracker(),d,e;if(a!==undefined){if(c.constrain){d=b.thumbs[f+1];e=b.thumbs[f-1];if(e!==undefined&&a<=e.value)a=e.value;if(d!==undefined&&a>=d.value)a=d.value}b.setValue(f,a,false);b.fireEvent("drag",b,g,c)}},getValueFromTracker:function(){var a=this.slider,b=a.getTrackpoint(this.tracker.getXY());if(b!==undefined)return a.reversePixelValue(b)},onDragEnd:function(d){var a=this,b=a.slider,c=a.value;a.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag");a.dragging=b.dragging=false;b.fireEvent("dragend",b,d);a.dragStartValue!=c&&b.fireEvent("changecomplete",b,c,a)},destroy:function(){Ext.destroy(this.tracker)}});Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,ddGroup:"TreeDD",expandDelay:1e3,enableDrop:true,enableDrag:true,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,init:function(a){a.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(b){var a=this;if(a.enableDrag)a.dragZone=new Ext.tree.ViewDragZone({view:b,ddGroup:a.dragGroup||a.ddGroup,dragText:a.dragText,repairHighlightColor:a.nodeHighlightColor,repairHighlight:a.nodeHighlightOnRepair});if(a.enableDrop)a.dropZone=new Ext.tree.ViewDropZone({view:b,ddGroup:a.dropGroup||a.ddGroup,allowContainerDrops:a.allowContainerDrops,appendOnly:a.appendOnly,allowParentInserts:a.allowParentInserts,expandDelay:a.expandDelay,dropHighlightColor:a.nodeHighlightColor,dropHighlight:a.nodeHighlightOnDrop})}});Ext.define("Ext.util.Animate",{uses:["Ext.fx.Manager","Ext.fx.Anim"],animate:function(b){var a=this;if(Ext.fx.Manager.hasFxBlock(a.id))return a;Ext.fx.Manager.queueFx(new Ext.fx.Anim(a.anim(b)));return this},anim:function(a){if(!Ext.isObject(a))return a?{}:false;var b=this;a.stopAnimation&&b.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:true},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(c,b){var a=this;a.el=Ext.get(c);a.el.unselectable();Ext.apply(a,b);a.callParent();a.addEvents("mousedown","click","mouseup");if(!a.disabled){a.disabled=true;a.enable()}if(a.handler)a.on("click",a.handler,a.scope||a)},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE)this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault();this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();this.pressedCls&&this.el.addCls(this.pressedCls);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate)this.delay=400;a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(b,a,d,c){return b==c?a+d:d*(-Math.pow(2,-10*b/c)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);this.pressedCls&&this.el.addCls(this.pressedCls);this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.pressedCls&&this.el.removeCls(this.pressedCls);this.fireEvent("mouseup",this,a)}});Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(b,a){this.comp=b;this.initialConstrainTo=a.constrainTo;this.callParent([a])},onStart:function(){var a=this,b=a.comp;this.startPosition=b.el.getXY();if(b.ghost&&!b.liveDrag){a.proxy=b.ghost();a.dragTarget=a.proxy.header.el}if(a.constrain||a.constrainDelegate)a.constrainTo=a.calculateConstrainRegion();b.beginDrag&&b.beginDrag()},calculateConstrainRegion:function(){var a=this,f=a.comp,b=a.initialConstrainTo,c,d,e=f.el.shadow?f.el.shadow.offset:0;if(!(b instanceof Ext.util.Region))b=Ext.fly(b).getViewRegion();e&&b.adjust(0,-e,-e,e);if(!a.constrainDelegate){c=Ext.fly(a.dragTarget).getRegion();d=a.proxy?a.proxy.el.getRegion():f.el.getRegion();b.adjust(c.top-d.top,c.right-d.right,c.bottom-d.bottom,c.left-d.left)}return b},onDrag:function(){var a=this,c=a.proxy&&!a.comp.liveDrag?a.proxy:a.comp,b=a.getOffset(a.constrain||a.constrainDelegate?"dragTarget":null);c.setPagePosition(a.startPosition[0]+b[0],a.startPosition[1]+b[1])},onEnd:function(){var a=this.comp;this.proxy&&!a.liveDrag&&a.unghost();a.endDrag&&a.endDrag()}});Ext.define("Ext.util.Cookies",{singleton:true,"set":function(f,g){var a=arguments,b=arguments.length,c=b>2?a[2]:null,e=b>3?a[3]:"/",d=b>4?a[4]:null,h=b>5?a[5]:false;document.cookie=f+"="+escape(g)+(c===null?"":"; expires="+c.toGMTString())+(e===null?"":"; path="+e)+(d===null?"":"; domain="+d)+(h===true?"; secure":"")},"get":function(e){var c=e+"=",f=c.length,d=document.cookie.length,a=0,b=0;while(a<d){b=a+f;if(document.cookie.substring(a,b)==c)return this.getCookieVal(b);a=document.cookie.indexOf(" ",a)+1;if(a===0)break}return null},clear:function(b,a){if(this.get(b)){a=a||"/";document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+a}},getCookieVal:function(b){var a=document.cookie.indexOf(";",b);if(a==-1)a=document.cookie.length;return unescape(document.cookie.substring(b,a))}});Ext.define("Ext.util.CSS",function(){var b=null,a=document,d=/(-[a-z])/gi,c=function(b,a){return a.charAt(1).toUpperCase()};return{singleton:true,constructor:function(){this.rules={};this.initialized=false},createStyleSheet:function(d,f){var c,e=a.getElementsByTagName("head")[0],b=a.createElement("style");b.setAttribute("type","text/css");f&&b.setAttribute("id",f);if(Ext.isIE){e.appendChild(b);c=b.styleSheet;c.cssText=d}else{try{b.appendChild(a.createTextNode(d))}catch(g){b.cssText=d}e.appendChild(b);c=b.styleSheet?b.styleSheet:b.sheet||a.styleSheets[a.styleSheets.length-1]}this.cacheStyleSheet(c);return c},removeStyleSheet:function(b){var a=document.getElementById(b);a&&a.parentNode.removeChild(a)},swapStyleSheet:function(c,d){var b=document,a;this.removeStyleSheet(c);a=b.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("id",c);a.setAttribute("href",d);b.getElementsByTagName("head")[0].appendChild(a)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(g){if(!b)b={};try{for(var e=g.cssRules||g.rules,a,d=e.length-1,c,f;d>=0;--d){a=e[d].selectorText;if(a){a=a.split(",");f=a.length;for(c=0;c<f;c++)b[Ext.String.trim(a[c]).toLowerCase()]=e[d]}}}catch(h){}},getRules:function(f){if(b===null||f){b={};for(var d=a.styleSheets,c=0,e=d.length;c<e;c++)try{!d[c].disabled&&this.cacheStyleSheet(d[c])}catch(g){}}return b},getRule:function(a,d){var c=this.getRules(d),b;if(!Ext.isArray(a))return c[a.toLowerCase()];for(b=0;b<a.length;b++)if(c[a[b]])return c[a[b].toLowerCase()];return null},updateRule:function(a,g,f){var e,b;if(!Ext.isArray(a)){e=this.getRule(a);if(e){e.style[g.replace(d,c)]=f;return true}}else for(b=0;b<a.length;b++)if(this.updateRule(a[b],g,f))return true;return false}}}());Ext.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:true,shadow:"sides",constructor:function(b){var a=this;a.el=new Ext.Layer(Ext.apply({hideMode:a.hideMode,hidden:a.hidden,shadow:typeof a.shadow!="undefined"?a.shadow:"sides",shadowOffset:a.shadowOffset,constrain:false,shim:a.shim===false?false:undefined},a.floating),b);a.floating=true;a.registerWithOwnerCt()},registerWithOwnerCt:function(){var a=this;a.zIndexParent&&a.zIndexParent.unregisterFloatingItem(a);a.zIndexParent=a.up("[floating]");a.setFloatParent(a.ownerCt);delete a.ownerCt;if(a.zIndexParent)a.zIndexParent.registerFloatingItem(a);else Ext.WindowManager.register(a)},setFloatParent:function(b){var a=this;a.floatParent&&a.mun(a.floatParent,{hide:a.onFloatParentHide,show:a.onFloatParentShow,scope:a});a.floatParent=b;b&&a.mon(a.floatParent,{hide:a.onFloatParentHide,show:a.onFloatParentShow,scope:a});if((a.constrain||a.constrainHeader)&&!a.constrainTo)a.constrainTo=b?b.getTargetEl():a.container},onAfterFloatLayout:function(){this.syncShadow()},onFloatParentHide:function(){var a=this;if(a.hideOnParentHide!==false&&a.isVisible()){a.hide();a.showOnParentShow=true}},onFloatParentShow:function(){if(this.showOnParentShow){delete this.showOnParentShow;this.show()}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingItems)a=Math.floor(b.floatingItems.setBase(a)/100)*100+1e4;return a},doConstrain:function(d){var c=this,b=c.getConstrainVector(d),a;if(b){a=c.getPosition();a[0]+=b[0];a[1]+=b[1];c.setPosition(a)}},getConstrainVector:function(b){var a=this;if(a.constrain||a.constrainHeader){b=b||a.floatParent&&a.floatParent.getTargetEl()||a.container||a.el.getScopeParent();return(a.constrainHeader?a.header.el:a.el).getConstrainVector(b)}},alignTo:function(a,b,c){this.setPagePosition(this.el.getAlignToXY(a.el||a,b,c));return this},toFront:function(b){var a=this;a.zIndexParent&&a.bringParentToFront!==false&&a.zIndexParent.toFront(true);if(!Ext.isDefined(b))b=!a.focusOnToFront;if(b)a.preventFocusOnActivate=true;if(a.zIndexManager.bringToFront(a))!b&&a.focus(false,true);delete a.preventFocusOnActivate;return a},setActive:function(c,b){var a=this;if(c){a.el.shadow&&!a.maximized&&a.el.enableShadow(true);a.modal&&!a.preventFocusOnActivate&&a.focus(false,true);a.fireEvent("activate",a)}else{a.isWindow&&(b&&b.isWindow)&&a.el.disableShadow();a.fireEvent("deactivate",a)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.el.getAlignToXY(a.container,"c-c");a.setPagePosition(b)}else a.needsCenter=true;return a},onFloatShow:function(){this.needsCenter&&this.center();delete this.needsCenter},syncShadow:function(){this.floating&&this.el.sync(true)},fitContainer:function(){var a=this.floatParent,b=a?a.getTargetEl():this.container,c=b.getViewSize(false);this.setSize(c)}});Ext.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:true,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var a=this;a.oldIEMode=Ext.isIE6||Ext.isIE7||!Ext.isStrict&&Ext.isIE8;a.iframe=null;a.hiddenField=null;a.ready=false;a.currentToken=null;a.mixins.observable.constructor.call(a)},getHash:function(){var a=window.location.href,b=a.indexOf("#");return b>=0?a.substr(b+1):null},setHash:function(c){var a=this,b=a.useTopWindow?window.top:window;try{b.location.hash=c}catch(d){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(a){this.currentToken=a;this.fireEvent("change",a)},updateIFrame:function(c){var b='<html><body><div id="state">'+Ext.util.Format.htmlEncode(c)+"</div></body></html>",a;try{a=this.iframe.contentWindow.document;a.open();a.write(b);a.close();return true}catch(d){return false}},checkIFrame:function(){var a=this,b=a.iframe.contentWindow,f,e,d,c;if(!b||!b.document){Ext.Function.defer(this.checkIFrame,10,this);return}f=b.document;e=f.getElementById("state");d=e?e.innerText:null;c=a.getHash();Ext.TaskManager.start({run:function(){var h=b.document,g=h.getElementById("state"),e=g?g.innerText:null,f=a.getHash();if(e!==d){d=e;a.handleStateChange(e);a.setHash(e);c=e;a.doSave()}else if(f!==c){c=f;a.updateIFrame(f)}},interval:50,scope:a});a.ready=true;a.fireEvent("ready",a)},startUp:function(){var a=this,b;a.currentToken=a.hiddenField.value||this.getHash();if(a.oldIEMode)a.checkIFrame();else{b=a.getHash();Ext.TaskManager.start({run:function(){var c=a.getHash();if(c!==b){b=c;a.handleStateChange(b);a.doSave()}},interval:50,scope:a});a.ready=true;a.fireEvent("ready",a)}},init:function(b,c){var a=this,d=Ext.DomHelper;if(a.ready){Ext.callback(b,c,[a]);return}if(!Ext.isReady){Ext.onReady(function(){a.init(b,c)});return}a.hiddenField=Ext.getDom(a.fieldId);if(!a.hiddenField)a.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:a.fieldId}]},false,true).firstChild;if(a.oldIEMode){a.iframe=Ext.getDom(a.iframeId);if(!a.iframe)a.iframe=d.append(a.hiddenField.parentNode,{tag:"iframe",id:a.iframeId})}a.addEvents("ready","change");if(b)a.on("ready",b,c,{single:true});a.startUp()},add:function(b,c){var a=this;if(c!==false)if(a.getToken()===b)return true;if(a.oldIEMode)return a.updateIFrame(b);else{a.setHash(b);return true}},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(b){var a=this;if(arguments.length!==1||typeof b==="string"||b.dom||b.tagName||b===document||b.isComponent){a.legacyConstructor.apply(a,arguments);return}Ext.apply(a,b);a.bindings=[];if(!a.target.isComponent)a.target=Ext.get(a.target);if(a.binding)a.addBinding(a.binding);else b.key&&a.addBinding(b);a.enable()},legacyConstructor:function(d,b,c){var a=this;Ext.apply(a,{target:Ext.get(d),eventName:c||a.eventName,bindings:[]});b&&a.addBinding(b);a.enable()},addBinding:function(d){var b=d.key,h=false,f,g,e,a,c;if(Ext.isArray(d)){for(a=0,c=d.length;a<c;a++)this.addBinding(d[a]);return}if(Ext.isString(b)){g=[];e=b.toUpperCase();for(a=0,c=e.length;a<c;++a)g.push(e.charCodeAt(a));b=g;h=true}if(!Ext.isArray(b))b=[b];if(!h)for(a=0,c=b.length;a<c;++a){f=b[a];if(Ext.isString(f))b[a]=f.toUpperCase().charCodeAt(0)}this.bindings.push(Ext.apply({keyCode:b},d))},handleKeyDown:function(b){var c=this,d,a,e;if(this.enabled){d=this.bindings;a=0;e=d.length;b=c.processEvent.apply(c||c.processEventScope,arguments);if(!b.getKey)return b;for(;a<e;++a)this.processBinding(d[a],b)}},processEvent:function(a){return a},processBinding:function(a,b){if(this.checkModifiers(a,b)){var f=b.getKey(),i=a.fn||a.handler,j=a.scope||this,g=a.keyCode,d=a.defaultEventAction,c,e,h=new Ext.EventObjectImpl(b);for(c=0,e=g.length;c<e;++c)if(f===g[c]){i.call(j,f,b)!==true&&d&&h[d]();break}}},checkModifiers:function(g,f){for(var d=["shift","ctrl","alt"],b=0,e=d.length,c,a;b<e;++b){a=d[b];c=g[a];if(!(c===undefined||c===f[a+"Key"]))return false}return true},on:function(a,g,f){var b,c,d,e;if(Ext.isObject(a)&&!Ext.isArray(a)){b=a.key;c=a.shift;d=a.ctrl;e=a.alt}else b=a;this.addBinding({key:b,shift:c,ctrl:d,alt:e,fn:g,scope:f})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleKeyDown,a);a.enabled=true}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleKeyDown,a);a.enabled=false}},setDisabled:function(a){if(a)this.disable();else this.enable()},destroy:function(b){var a=this;a.bindings=[];a.disable();if(b===true)a.target.isComponent?a.target.destroy():a.target.remove();delete a.target}});Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(b){var a=this;if(arguments.length===2){a.legacyConstructor.apply(a,arguments);return}a.setConfig(b)},legacyConstructor:function(b,a){this.setConfig(Ext.apply({target:b},a))},setConfig:function(a){var b=this,g={target:a.target,eventName:b.getKeyEvent("forceKeyDown"in a?a.forceKeyDown:b.forceKeyDown,a.eventName)},f,d,h,e,c;b.map&&b.map.destroy();if(a.processEvent){g.processEvent=a.processEvent;g.processEventScope=a.processEventScope||b}f=b.map=new Ext.util.KeyMap(g);d=Ext.util.KeyNav.keyOptions;h=a.scope||b;for(e in d)if(d.hasOwnProperty(e))if(c=a[e]){if(typeof c==="function")c={handler:c,defaultAction:a.defaultEventAction!==undefined?a.defaultEventAction:b.defaultEventAction};f.addBinding({key:d[e],handler:Ext.Function.bind(b.handleEvent,c.scope||h,c.handler||c.fn,true),defaultEventAction:c.defaultEventAction!==undefined?c.defaultAction:b.defaultEventAction})}f.disable();!a.disabled&&f.enable()},handleEvent:function(c,b,a){return a.call(this,b)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,eventName:"keypress",destroy:function(a){this.map.destroy(a);delete this.map},enable:function(){this.map.enable();this.disabled=false},disable:function(){this.map.disable();this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(b,a){return b||Ext.EventManager.useKeyDown&&!a?"keydown":a||this.eventName}});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(c,e,d){var b=this,a=b.shared;if(!a)a=b.shared=new b(c,d);a.bind(c);a.setFixedWidth(d||"auto");return a.getSize(e)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(c,b){var a=this.measure=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.el=Ext.get(c);a.position("absolute");a.setLeftTop(-1e3,-1e3);a.hide();b&&a.setWidth(b)},getSize:function(c){var a=this.measure,b;a.update(c);b=a.getSize();a.update("");return b},bind:function(b){var a=this;a.el=Ext.get(b);a.measure.setStyle(a.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove();delete a.el;delete a.measure}},function(){Ext.Element.addMethods({getTextWidth:function(c,b,a){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(c,this.dom.innerHTML,true)).width,b||0,a||1e6)}})});Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(a,b,c){a.getTarget().update(b.responseText,c.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(c){var a=this,b;c=c||{};Ext.apply(a,c);a.setTarget(a.target);a.addEvents("beforeload","exception","load");a.mixins.observable.constructor.call(a);if(a.autoLoad){b=a.autoLoad;if(b===true)b={};a.load(b)}},setTarget:function(b){var a=this;b=Ext.get(b);a.target&&a.target!=b&&a.abort();a.target=b},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);a.mask&&this.removeMask();delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(b){b=Ext.apply({},b);var a=this,i=a.target,d=Ext.isDefined(b.loadMask)?b.loadMask:a.loadMask,c=Ext.apply({},b.params),e=Ext.apply({},b.ajaxOptions),g=b.callback||a.callback,h=b.scope||a.scope||a,f;Ext.applyIf(e,a.ajaxOptions);Ext.applyIf(b,e);Ext.applyIf(c,a.params);Ext.apply(c,a.baseParams);Ext.applyIf(b,{url:a.url});Ext.apply(b,{scope:a,params:c,callback:a.onComplete});if(a.fireEvent("beforeload",a,b)===false)return;d&&a.addMask(d);f=Ext.Ajax.request(b);a.active={request:f,options:b,mask:d,scope:h,callback:g,success:b.success||a.success,failure:b.failure||a.failure,renderer:b.renderer||a.renderer,scripts:Ext.isDefined(b.scripts)?b.scripts:a.scripts};a.setOptions(a.active,b)},setOptions:Ext.emptyFn,onComplete:function(d,e,c){var a=this,b=a.active,f=b.scope,g=a.getRenderer(b.renderer);if(e)e=g.call(a,a,c,b)!==false;if(e){Ext.callback(b.success,f,[a,c,d]);a.fireEvent("load",a,c,d)}else{Ext.callback(b.failure,f,[a,c,d]);a.fireEvent("exception",a,c,d)}Ext.callback(b.callback,f,[a,e,c,d]);b.mask&&a.removeMask();delete a.active},getRenderer:function(a){return Ext.isFunction(a)?a:this.statics().Renderer.Html},startAutoRefresh:function(b,c){var a=this;a.stopAutoRefresh();a.autoRefresh=setInterval(function(){a.load(c)},b)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}});Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(b,c){var a=true;try{b.getTarget().update(Ext.decode(c.responseText))}catch(d){a=false}return a},Component:function(d,e,f){var b=true,a=d.getTarget(),c=[];try{c=Ext.decode(e.responseText)}catch(g){b=false}if(b){a.suspendLayouts();f.removeAll&&a.removeAll();a.add(c);a.resumeLayouts(true)}return b}}},target:null,loadMask:false,renderer:"html",setTarget:function(a){var b=this;if(Ext.isString(a))a=Ext.getCmp(a);b.target&&b.target!=a&&b.abort();b.target=a},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(b,a){b.removeAll=Ext.isDefined(a.removeAll)?a.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a))return a;var b=this.statics().Renderer;switch(a){case"component":return b.Component;case"data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE6||Ext.isIE7,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(c){var a=this,b=a.generate(c);return a.useEval?a.evalTpl(b):new Function("Ext",b)(Ext)},generate:function(d){var a=this,b="var fm=Ext.util.Format,ts=Object.prototype.toString;",c;a.maxLevel=0;a.body=["var c0=values, a0="+a.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, v;\n"];if(a.definitions)if(typeof a.definitions==="string")a.definitions=[a.definitions,b];else a.definitions.push(b);else a.definitions=[b];a.switches=[];a.parse(d);a.definitions.push((a.useEval?"$=":"return")+" function ("+a.fnArgs+") {",a.body.join(""),"}");c=a.definitions.join("\n");a.definitions.length=a.body.length=a.switches.length=0;delete a.definitions;delete a.body;delete a.switches;return c},doText:function(b){var a=this,c=a.body;b=b.replace(a.aposRe,"\\'").replace(a.newLineRe,"\\n");if(a.useIndex)c.push("out[out.length]='",b,"'\n");else c.push("out.push('",b,"')\n")},doExpr:function(b){var a=this.body;a.push("if ((v="+b+")!==undefined) out");if(this.useIndex)a.push("[out.length]=v+''\n");else a.push(".push(v+'')\n")},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(b,c){var a=this;if(b===".")a.body.push("if (values) {\n");else if(a.propNameRe.test(b))a.body.push("if (",a.parseTag(b),") {\n");else a.body.push("if (",a.addFn(b),a.callFn,") {\n");c.exec&&a.doExec(c.exec)},doElseIf:function(b,c){var a=this;if(b===".")a.body.push("else if (values) {\n");else if(a.propNameRe.test(b))a.body.push("} else if (",a.parseTag(b),") {\n");else a.body.push("} else if (",a.addFn(b),a.callFn,") {\n");c.exec&&a.doExec(c.exec)},doSwitch:function(b){var a=this;if(b===".")a.body.push("switch (values) {\n");else if(a.propNameRe.test(b))a.body.push("switch (",a.parseTag(b),") {\n");else a.body.push("switch (",a.addFn(b),a.callFn,") {\n");a.switches.push(0)},doCase:function(f){var a=this,c=Ext.isArray(f)?f:[f],d=a.switches.length-1,e,b;if(a.switches[d])a.body.push("break;\n");else a.switches[d]++;for(b=0,d=c.length;b<d;++b){e=a.intRe.exec(c[b]);c[b]=e?e[1]:"'"+c[b].replace(a.aposRe,"\\'")+"'"}a.body.push("case ",c.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b])a.body.push("break;\n");else a.switches[b]++;a.body.push("default:\n")},doEnd:function(c,d){var a=this,b=a.level-1;if(c=="for"){d.exec&&a.doExec(d.exec);a.body.push("}\n");a.body.push("parent=p",b,";values=r",b+1,";xcount=n",b,";xindex=i",b,"\n")}else(c=="if"||c=="switch")&&a.body.push("}\n")},doFor:function(c,g){var b=this,e,a=b.level,d=a-1,h="p"+a,f;if(c===".")e="values";else if(b.propNameRe.test(c))e=b.parseTag(c);else e=b.addFn(c)+b.callFn;if(b.maxLevel<a){b.maxLevel=a;b.body.push("var ")}if(c==".")f="c"+a;else f="a"+d+"?c"+d+"[i"+d+"]:p"+a;b.body.push("i",a,"=0,n",a,"=0,c",a,"=",e,",a",a,"=",b.createArrayTest(a),",p",a,"=c",d,",r",a,"=values;\n","parent=",f,"\n","if (c",a,"){if(a",a,"){n",a,"=c",a,".length;}else if (c",a,".isMixedCollection){c",a,"=c",a,".items;n",a,"=c",a,".length;}else if(c",a,".isStore){c",a,"=c",a,".data.items;n",a,"=c",a,".length;}else{c",a,"=[c",a,"];n",a,"=1;}}\n","for (xcount=n",a,";i",a,"<n"+a+";++i",a,"){\n","values=c",a,"[i",a,"]");g.propName&&b.body.push(".",g.propName);b.body.push("\n","xindex=i",a,"+1\n")},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(c){var a=this,b="f"+a.definitions.length;a.definitions.push("function "+b+"("+a.fnArgs+") {"," try { with(values) {","  "+c," }} catch(e) {","}","}");a.body.push(b+a.callFn+"\n")},addFn:function(c){var a=this,b="f"+a.definitions.length;if(c===".")a.definitions.push("function "+b+"("+a.fnArgs+") {"," return values","}");else if(c==="..")a.definitions.push("function "+b+"("+a.fnArgs+") {"," return parent","}");else a.definitions.push("function "+b+"("+a.fnArgs+") {"," try { with(values) {","  return("+c+")"," }} catch(e) {","}","}");return b},parseTag:function(h){var d=this,e=d.tagRe.exec(h),b=e[1],c=e[2],f=e[3],g=e[4],a;if(b=="."){if(!d.validTypes){d.definitions.push("var validTypes={string:1,number:1,boolean:1};");d.validTypes=true}a='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else if(b=="#")a="xindex";else if(b.substr(0,7)=="parent.")a=b;else if(isNaN(b)&&b.indexOf("-")==-1&&b.indexOf(".")!=-1)a="values."+b;else a="values['"+b+"']";if(g)a="("+a+g+")";if(c&&d.useFormat){f=f?","+f:"";if(c.substr(0,5)!="this.")c="fm."+c+"(";else c+="("}else return a;return c+a+f+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount";a.callFn=".call(this,"+a.fnArgs+")"});Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",apply:function(a){return this.applyOut(a,[]).join("")},applyOut:function(d,b){var a=this,c;if(!a.fn){c=new Ext.XTemplateCompiler({useFormat:a.disableFormats!==true,definitions:a.definitions});a.fn=c.compile(a.html)}try{a.fn.call(a,b,d,{},1,1)}catch(e){}return b},compile:function(){return this},statics:{getTpl:function(d,c){var a=d[c],b;if(a&&!a.isTemplate){a=Ext.ClassManager.dynInstantiate("Ext.XTemplate",a);if(d.hasOwnProperty(c))d[c]=a;else for(b=d.self.prototype;b;b=b.superclass)if(b.hasOwnProperty(c)){b[c]=a;break}}return a||null}}});Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.util.Observable"},onClassExtended:function(i,j,h){var g=Ext.getClassName(i),d=g.match(/^(.*)\.controller\./),c,f,a,b,e;if(d!==null){c=Ext.Loader.getPrefix(g)||d[1];f=h.onBeforeCreated;a=[];b=["model","view","store"];h.onBeforeCreated=function(n,m){var h,l,i,j,g,k,d;for(h=0,l=b.length;h<l;h++){i=b[h];e=c+"."+i+".";j=Ext.Array.from(m[i+"s"]);for(g=0,k=j.length;g<k;g++){d=j[g];if(d.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(d)||Ext.Loader.isAClassNameWithAKnownPrefix(d)))a.push(d);else a.push(e+d)}}Ext.require(a,Ext.Function.pass(f,arguments,this))}}},constructor:function(a){this.mixins.observable.constructor.call(this,a);Ext.apply(this,a||{});this.createGetters("model",this.models);this.createGetters("store",this.stores);this.createGetters("view",this.views);this.refs&&this.ref(this.refs)},init:function(){},onLaunch:function(){},createGetters:function(c,g){c=Ext.String.capitalize(c);for(var f=0,i=g?g.length:0,a,b,e,d,h;f<i;f++){a="get";b=g[f];e=b.split(".");h=e.length;for(d=0;d<h;d++)a+=Ext.String.capitalize(e[d]);a+=c;if(!this[a])this[a]=Ext.Function.pass(this["get"+c],[b],this);this[a](b)}},ref:function(b){b=Ext.Array.from(b);for(var a=this,d=0,g=b.length,f,c,e;d<g;d++){f=b[d];c=f.ref;e="get"+Ext.String.capitalize(c);if(!a[e])a[e]=Ext.Function.pass(a.getRef,[c,f],a);a.references=a.references||[];a.references.push(c.toLowerCase())}},addRef:function(a){return this.ref([a])},getRef:function(d,a,e){this.refCache=this.refCache||{};a=a||{};e=e||{};Ext.apply(a,e);if(a.forceCreate)return Ext.ComponentManager.create(a,"component");var c=this,b=c.refCache[d];if(!b){c.refCache[d]=b=Ext.ComponentQuery.query(a.selector)[0];if(!b&&a.autoCreate)c.refCache[d]=b=Ext.ComponentManager.create(a,"component");if(b)b.on("beforedestroy",function(){c.refCache[d]=null})}return b},hasRef:function(a){return this.references&&this.references.indexOf(a.toLowerCase())!==-1},control:function(a,b){this.application.control(a,b,this)},getController:function(a){return this.application.getController(a)},getStore:function(a){return this.application.getStore(a)},getModel:function(a){return this.application.getModel(a)},getView:function(a){return this.application.getView(a)}});Ext.define("Ext.chart.Label",{requires:["Ext.draw.Color"],colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(){var a=this;a.label=Ext.applyIf(a.label||{},{display:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:function(a){return a}});if(a.label.display!=="none")a.labelsGroup=a.chart.surface.getGroup(a.seriesId+"-labels")},renderLabels:function(){var c=this,D=c.chart,z=D.gradients,w=c.items,H=D.animate,j=c.label,y=j.display,J=j.color,F=[].concat(j.field),p=c.labelsGroup,m=(p||0)&&p.length,A=c.chart.getChartStore(),E=A.getCount(),C=(w||0)&&w.length,G=C/E,I=(z||0)&&z.length,n=Ext.draw.Color,t=[],o,h,s,d,i,g,l,r,B,x,f,b,u,e,v,k,q,a;if(y=="none")return;if(C==0)while(m--)t.push(m);else{for(h=0,s=0,d=0;h<E;h++){i=0;for(g=0;g<G;g++){f=w[s];b=p.getAt(d);u=A.getAt(h);while(this.__excludes&&this.__excludes[i])i++;if(!f&&b){b.hide(true);d++}if(f&&F[g]){if(!b)b=c.onCreateLabel(u,f,h,y,g,i);c.onPlaceLabel(b,u,f,h,y,H,g,i);d++;if(j.contrast&&f.sprite){e=f.sprite;if(e._endStyle)a=e._endStyle.fill;else if(e._to)a=e._to.fill;else a=e.attr.fill;a=a||e.attr.fill;v=n.fromString(a);if(a&&!v){a=a.match(c.colorStringRe)[1];for(l=0;l<I;l++){o=z[l];if(o.id==a){x=0;r=0;for(B in o.stops){x++;r+=n.fromString(o.stops[B].color).getGrayscale()}k=r/x/255;break}}}else k=v.getGrayscale()/255;if(b.isOutside)k=1;q=n.fromString(b.attr.color||b.attr.fill).getHSL();q[2]=k>.5?.2:.8;b.setAttributes({fill:String(n.fromHSL.apply({},q))},true)}}s++;i++}}m=p.length;while(m>d){t.push(d);d++}}c.hideLabels(t)},hideLabels:function(c){var b=this.labelsGroup,a=!!c&&c.length;if(!b)return;if(a===false){a=b.getCount();while(a--)b.getAt(a).hide(true)}else while(a--)b.getAt(c[a]).hide(true)}});Ext.define("Ext.chart.theme.Theme",{requires:["Ext.draw.Color"],theme:"Base",themeAttrs:false,initTheme:function(b){var a=this,e=Ext.chart.theme,d,c;if(b){b=b.split(":");for(d in e)if(d==b[0]){c=b[1]=="gradients";a.themeAttrs=new e[d]({useGradients:c});if(c)a.gradients=a.themeAttrs.gradients;if(a.themeAttrs.background)a.background=a.themeAttrs.background;return}}}},function(){(function(){Ext.chart.theme=function(d,c){d=d||{};var b=0,o=+new Date,g,f,j,h,m,k,l,e,n=[],a,i;if(d.baseColor){a=Ext.draw.Color.fromString(d.baseColor);i=a.getHSL()[2];if(i<.15)a=a.getLighter(.3);else if(i<.3)a=a.getLighter(.15);else if(i>.85)a=a.getDarker(.3);else if(i>.7)a=a.getDarker(.15);d.colors=[a.getDarker(.3).toString(),a.getDarker(.15).toString(),a.toString(),a.getLighter(.15).toString(),a.getLighter(.3).toString()];delete d.baseColor}if(d.colors){f=d.colors.slice();m=c.markerThemes;h=c.seriesThemes;g=f.length;c.colors=f;for(;b<g;b++){j=f[b];l=m[b]||{};k=h[b]||{};l.fill=k.fill=l.stroke=k.stroke=j;m[b]=l;h[b]=k}c.markerThemes=m.slice(0,g);c.seriesThemes=h.slice(0,g)}for(e in c)if(e in d)if(Ext.isObject(d[e])&&Ext.isObject(c[e]))Ext.apply(c[e],d[e]);else c[e]=d[e];if(d.useGradients){f=c.colors||function(){var a=[];for(b=0,h=c.seriesThemes,g=h.length;b<g;b++)a.push(h[b].fill||h[b].stroke);return a}();for(b=0,g=f.length;b<g;b++){a=Ext.draw.Color.fromString(f[b]);if(a){j=a.getDarker(.1).toString();a=a.toString();e="theme-"+a.substr(1)+"-"+j.substr(1)+"-"+o;n.push({id:e,angle:45,stops:{0:{color:a.toString()},100:{color:j.toString()}}});f[b]="url(#"+e+")"}}c.gradients=n;c.colors=f}Ext.apply(this,c)}})()});Ext.define("Ext.chart.theme.Base",{requires:["Ext.chart.theme.Theme"],constructor:function(a){Ext.chart.theme.call(this,a,{background:false,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){for(var c=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],g=["Green","Sky","Red","Purple","Blue","Yellow"],a=0,h=0,e=c.length,b=Ext.chart.theme,d=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],f=d.length;a<e;a++)b[g[a]]=function(a){return Ext.extend(b.Base,{constructor:function(c){b.Base.prototype.constructor.call(this,Ext.apply({baseColor:a},c))}})}(c[a]);for(a=0;a<f;a++)b["Category"+(a+1)]=function(a){return Ext.extend(b.Base,{constructor:function(c){b.Base.prototype.constructor.call(this,Ext.apply({colors:a},c))}})}(d[a])});Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:false,pauseOnException:false,current:-1,total:0,isRunning:false,isComplete:false,hasException:false,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);a.operations=[];a.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(b){var a=this;if(a.isRunning)return a;a.exceptions.length=0;a.hasException=false;a.isRunning=true;return a.runOperation(Ext.isDefined(b)?b:a.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=false;return this},runOperation:function(e){var a=this,c=a.operations,b=c[e],d;if(b===undefined){a.isRunning=false;a.isComplete=true;a.fireEvent("complete",a,c[c.length-1])}else{a.current=e;d=function(b){var c=b.hasException();if(c){a.hasException=true;a.exceptions.push(b);a.fireEvent("exception",a,b)}if(c&&a.pauseOnException)a.pause();else{b.setCompleted();a.fireEvent("operationcomplete",a,b);a.runNextOperation()}};b.setStarted();a.proxy[b.action](b,d,a)}return a}});Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,withCredentials:false,cors:false,disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},request:function(a){a=a||{};var b=this,j=a.scope||window,h=a.username||b.username,i=a.password||b.password||"",e,d,c,g,f;if(b.fireEvent("beforerequest",b,a)!==false){d=b.setOptions(a,j);if(b.isFormUpload(a)){b.upload(a.form,d.url,d.data,a);return null}(a.autoAbort||b.autoAbort)&&b.abort();e=a.async!==false?a.async||b.async:false;f=b.openRequest(a,d,e,h,i);g=b.setupHeaders(f,a,d.data,d.params);c={id:++Ext.data.Connection.requestId,xhr:f,headers:g,options:a,async:e,timeout:setTimeout(function(){c.timedout=true;b.abort(c)},a.timeout||b.timeout)};b.requests[c.id]=c;b.latestId=c.id;if(e)f.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[c]);f.send(d.data);return!e?b.onComplete(c):c}else{Ext.callback(a.callback,a.scope,[a,undefined,undefined]);return null}},upload:function(a,r,q,k){a=Ext.getDom(a);k=k||{};var b=Ext.id(),h=document.createElement("iframe"),j=[],m="multipart/form-data",p={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},l=function(b,c){e=document.createElement("input");Ext.fly(e).set({type:"hidden",value:c,name:b});a.appendChild(e);j.push(e)},e,g,c,d,o,f,n,i;Ext.fly(h).set({id:b,name:b,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(h);if(document.frames)document.frames[b].name=b;Ext.fly(a).set({target:b,method:"POST",enctype:m,encoding:m,action:r||p.action});if(q){g=Ext.Object.fromQueryString(q)||{};for(d in g)if(g.hasOwnProperty(d)){c=g[d];if(Ext.isArray(c)){o=c.length;for(f=0;f<o;f++)l(d,c[f])}else l(d,c)}}Ext.fly(h).on("load",Ext.Function.bind(this.onUploadComplete,this,[h,k]),null,{single:true});a.submit();Ext.fly(a).set(p);n=j.length;for(i=0;i<n;i++)Ext.removeNode(j[i])},onUploadComplete:function(d,a){var e=this,c={responseText:"",responseXML:null},b,f;try{b=d.contentWindow.document||d.contentDocument||window.frames[d.id].document;if(b){if(b.body)if(/textarea/i.test((f=b.body.firstChild||{}).tagName))c.responseText=f.value;else c.responseText=b.body.innerHTML;c.responseXML=b.XMLDocument||b}}catch(g){}e.fireEvent("requestcomplete",e,c,a);Ext.callback(a.success,a.scope,[c,a]);Ext.callback(a.callback,a.scope,[a,true,c]);setTimeout(function(){Ext.removeNode(d)},100)},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype")):false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(b,k){var h=this,a=b.params||{},g=h.extraParams,d=b.urlParams,c=b.url||h.url,i=b.jsonData,f,j,e;if(Ext.isFunction(a))a=a.call(k,b);if(Ext.isFunction(c))c=c.call(k,b);c=this.setupUrl(b,c);e=b.rawData||b.xmlData||i||null;if(i&&!Ext.isPrimitive(i))e=Ext.encode(e);if(Ext.isObject(a))a=Ext.Object.toQueryString(a);if(Ext.isObject(g))g=Ext.Object.toQueryString(g);a=a+(g?(a?"&":"")+g:"");d=Ext.isObject(d)?Ext.Object.toQueryString(d):d;a=this.setupParams(b,a);f=(b.method||h.method||(a||e?"POST":"GET")).toUpperCase();this.setupMethod(b,f);j=b.disableCaching!==false?b.disableCaching||h.disableCaching:false;if(f==="GET"&&j)c=Ext.urlAppend(c,(b.disableCachingParam||h.disableCachingParam)+"="+(new Date).getTime());if((f=="GET"||e)&&a){c=Ext.urlAppend(c,a);a=null}if(d)c=Ext.urlAppend(c,d);return{url:c,method:f,data:e||a||null}},setupUrl:function(c,a){var b=this.getForm(c);if(b)a=a||b.action;return a},setupParams:function(c,a){var d=this.getForm(c),b;if(d&&!this.isFormUpload(c)){b=Ext.Element.serializeForm(d);a=a?a+"&"+b:b}return a},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},setupHeaders:function(k,e,h,j){var b=this,a=Ext.apply({},e.headers||{},b.defaultHeaders||{}),d=b.defaultPostHeader,i=e.jsonData,g=e.xmlData,c,f;if(!a["Content-Type"]&&(h||j)){if(h)if(e.rawData)d="text/plain";else if(g&&Ext.isDefined(g))d="text/xml";else if(i&&Ext.isDefined(i))d="application/json";a["Content-Type"]=d}if(b.useDefaultXhrHeader&&!a["X-Requested-With"])a["X-Requested-With"]=b.defaultXhrHeader;try{for(c in a)if(a.hasOwnProperty(c)){f=a[c];k.setRequestHeader(c,f)}}catch(l){b.fireEvent("exception",c,f)}return a},newRequest:function(b){var a;if((b.cors||this.cors)&&Ext.isIE&&Ext.ieVersion>=8)a=new XDomainRequest;else a=this.getXhrInstance();return a},openRequest:function(c,a,d,e,f){var b=this.newRequest(c);if(e)b.open(a.method,a.url,d,e,f);else b.open(a.method,a.url,d);if(c.withCredentials||this.withCredentials)b.withCredentials=true;return b},getXhrInstance:function(){for(var c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],a=0,d=c.length,b;a<d;++a)try{b=c[a];b();break}catch(e){}return b}(),isLoading:function(a){if(!a)a=this.getLatest();if(!(a&&a.xhr))return false;var b=a.xhr.readyState;return!(b===0||b==4)},abort:function(a){var b=this,c;if(!a)a=b.getLatest();if(a&&b.isLoading(a)){c=a.xhr;try{c.onreadystatechange=null}catch(d){c=Ext.emptyFn}c.abort();b.clearTimeout(a);if(!a.timedout)a.aborted=true;b.onComplete(a);b.cleanup(a)}},abortAll:function(){var b=this.requests,a;for(a in b)b.hasOwnProperty(a)&&this.abort(b[a])},getLatest:function(){var b=this.latestId,a;if(b)a=this.requests[b];return a||null},onStateChange:function(a){if(a.xhr.readyState==4){this.clearTimeout(a);this.onComplete(a);this.cleanup(a)}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(d){var c=this,a=d.options,e,f,b;try{e=c.parseStatus(d.xhr.status)}catch(g){e={success:false,isException:false}}f=e.success;if(f){b=c.createResponse(d);c.fireEvent("requestcomplete",c,b,a);Ext.callback(a.success,a.scope,[b,a])}else{if(e.isException||d.aborted||d.timedout)b=c.createException(d);else b=c.createResponse(d);c.fireEvent("requestexception",c,b,a);Ext.callback(a.failure,a.scope,[b,a])}Ext.callback(a.callback,a.scope,[a,f,b]);delete c.requests[d.id];return b},parseStatus:function(a){a=a==1223?204:a;var c=a>=200&&a<300||a==304,b=false;if(!c)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=true}return{success:c,isException:b}},createResponse:function(c){var b=c.xhr,e={},i=b.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),g=i.length,d,a,h,j,f;while(g--){d=i[g];a=d.indexOf(":");if(a>=0){h=d.substr(0,a).toLowerCase();if(d.charAt(a+1)==" ")++a;e[h]=d.substr(a+1)}}c.xhr=null;delete c.xhr;f={request:c,requestId:c.id,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return e[a.toLowerCase()]},getAllResponseHeaders:function(){return e},responseText:b.responseText,responseXML:b.responseXML};b=null;return f},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}});Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:true,autoAbort:false});Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",constructor:function(a){if(Ext.isString(a))a={name:a};Ext.apply(this,a);var c=Ext.data.Types,b=this.sortType;if(this.type){if(Ext.isString(this.type))this.type=c[this.type.toUpperCase()]||c.AUTO}else this.type=c.AUTO;if(Ext.isString(b))this.sortType=Ext.data.SortTypes[b];else if(Ext.isEmpty(b))this.sortType=this.type.sortType;if(!a.hasOwnProperty("convert"))this.convert=this.type.convert;else if(!this.convert&&!a.hasOwnProperty("defaultValue"))this.defaultValue=this.type.convert(this.defaultValue)},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true,persist:true});Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.Field"],statics:{decorate:function(a){var b,c;if(typeof a=="string")a=Ext.ModelManager.getModel(a);else if(a.isModel)a=Ext.ModelManager.getModel(a.modelName);if(a.prototype.isNode)return;b=a.prototype.idProperty;c=a.prototype.fields.get(b).type.type;a.override(this.getPrototypeBody());this.applyFields(a,[{name:"parentId",type:c,defaultValue:null},{name:"index",type:"int",defaultValue:null,persist:false},{name:"depth",type:"int",defaultValue:0,persist:false},{name:"expanded",type:"bool",defaultValue:false,persist:false},{name:"expandable",type:"bool",defaultValue:true,persist:false},{name:"checked",type:"auto",defaultValue:null,persist:false},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:null,persist:false},{name:"iconCls",type:"string",defaultValue:null,persist:false},{name:"icon",type:"string",defaultValue:null,persist:false},{name:"root",type:"boolean",defaultValue:false,persist:false},{name:"isLast",type:"boolean",defaultValue:false,persist:false},{name:"isFirst",type:"boolean",defaultValue:false,persist:false},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false},{name:"loaded",type:"boolean",defaultValue:false,persist:false},{name:"loading",type:"boolean",defaultValue:false,persist:false},{name:"href",type:"string",defaultValue:null,persist:false},{name:"hrefTarget",type:"string",defaultValue:null,persist:false},{name:"qtip",type:"string",defaultValue:null,persist:false},{name:"qtitle",type:"string",defaultValue:null,persist:false},{name:"children",type:"auto",defaultValue:null,persist:false}])},applyFields:function(e,d){for(var h=e.prototype,c=h.fields,g=c.keys,f=d.length,b,a=0;a<f;a++){b=d[a];!Ext.Array.contains(g,b.name)&&c.add(new Ext.data.Field(b))}},getPrototypeBody:function(){return{isNode:true,constructor:function(){var a=this;this.callParent(arguments);Ext.applyIf(a,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]});a.enableBubble(["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort"]);return a},createNode:function(a){if(Ext.isObject(a)&&!a.isModel)a=Ext.ModelManager.create(a,this.modelName);return a},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(g){var a=this,f=a.isRoot(),b=a.parentNode,j=!b||f?true:b.firstChild===a,k=!b||f?true:b.lastChild===a,h=0,d=a,e=a.childNodes,l=e.length,c=0,i=a.phantom;while(d.parentNode){++h;d=d.parentNode}a.beginEdit();a.set({isFirst:j,isLast:k,depth:h,index:b?b.indexOf(a):0,parentId:b?b.getId():null});a.endEdit(true);if(g){a.commit();a.phantom=i}for(c=0;c<l;c++)e[c].updateInfo(g)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;return a.get("expandable")?!(a.isLeaf()||a.isLoaded()&&!a.hasChildNodes()):false},appendChild:function(a,h,i){var b=this,f,g,c,d,e;if(Ext.isArray(a)){b.callStore("suspendAutoSync");for(f=0,g=a.length-1;f<g;f++)b.appendChild(a[f]);b.callStore("resumeAutoSync");b.appendChild(a[g])}else{a=b.createNode(a);if(h!==true&&(!b.hasListeners.beforeappend||b.fireEvent("beforeappend",b,a)===false))return false;c=b.childNodes.length;d=a.parentNode;if(d){if(h!==true&&(!b.hasListeners.beforeremove||a.fireEvent("beforemove",a,d,b,c)===false))return false;d.removeChild(a,false,false,true)}c=b.childNodes.length;c===0&&b.setFirstChild(a);b.childNodes.push(a);a.parentNode=b;a.nextSibling=null;b.setLastChild(a);e=b.childNodes[c-1];if(e){a.previousSibling=e;e.nextSibling=a;e.updateInfo(i)}else a.previousSibling=null;a.updateInfo(i);if(!b.isLoaded())b.set("loaded",true);else b.childNodes.length===1&&b.afterEdit([]);!a.isLeaf()&&a.phantom&&a.set("loaded",true);if(h!==true){b.fireEvent("append",b,a,c);d&&a.fireEvent("move",a,d,b,c)}return a}},getBubbleTarget:function(){return this.parentNode},removeChild:function(b,h,g,f){var a=this,c=a.indexOf(b),d,e;if(c==-1||g!==true&&(!a.hasListeners.beforeremove||a.fireEvent("beforeremove",a,b,!!f)===false))return false;Ext.Array.erase(a.childNodes,c,1);a.firstChild==b&&a.setFirstChild(b.nextSibling);a.lastChild==b&&a.setLastChild(b.previousSibling);if(b.previousSibling)b.previousSibling.nextSibling=b.nextSibling;if(b.nextSibling)b.nextSibling.previousSibling=b.previousSibling;for(d=c>0?c-1:0,e=a.childNodes.length;d<e;d++)a.childNodes[d].updateInfo();!a.childNodes.length&&a.set("loaded",a.isLoaded());if(g!==true)a.hasListeners.remove&&a.fireEvent("remove",a,b,!!f);if(h)b.destroy(true);else b.clear();return b},copy:function(f,e){var b=this,c=b.callOverridden(arguments),d=b.childNodes?b.childNodes.length:0,a;if(e)for(a=0;a<d;a++)c.appendChild(b.childNodes[a].copy(true));return c},clear:function(b){var a=this;a.parentNode=a.previousSibling=a.nextSibling=null;if(b)a.firstChild=a.lastChild=null},destroy:function(d){var a=this,e=a.destroyOptions,c=a.childNodes,f=c.length,b;if(d===true){a.clear(true);for(b=0;b<f;b++)c[b].destroy(true);a.childNodes=null;delete a.destroyOptions;a.callOverridden([e])}else{a.destroyOptions=d;a.remove(true)}},insertBefore:function(b,c,i){var a=this,h=a.indexOf(c),e=b.parentNode,d=h,j,f,g;if(!c)return a.appendChild(b);if(b==c)return false;b=a.createNode(b);if(i!==true&&(!a.hasListeners.beforeinsert||a.fireEvent("beforeinsert",a,b,c)===false))return false;if(e==a&&a.indexOf(b)<h)d--;if(e){if(i!==true&&(!a.hasListeners.beforeremove||b.fireEvent("beforemove",b,e,a,h,c)===false))return false;e.removeChild(b,false,false,true)}d===0&&a.setFirstChild(b);Ext.Array.splice(a.childNodes,d,0,b);b.parentNode=a;b.nextSibling=c;c.previousSibling=b;f=a.childNodes[d-1];if(f){b.previousSibling=f;f.nextSibling=b}else b.previousSibling=null;for(g=d>0?d-1:0,j=a.childNodes.length;g<j;g++)a.childNodes[g].updateInfo();if(!a.isLoaded())a.set("loaded",true);else a.childNodes.length===1&&a.set("loaded",a.isLoaded());!b.isLeaf()&&b.phantom&&b.set("loaded",true);if(i!==true){a.hasListeners.insert&&a.fireEvent("insert",a,b,c);e&&a.hasListeners.move&&b.fireEvent("move",b,e,a,d,c)}return b},insertChild:function(c,b){var a=this.childNodes[c];return a?this.insertBefore(b,a):this.appendChild(b)},remove:function(b,c){var a=this.parentNode;a&&a.removeChild(this,b,c);return this},removeAll:function(b,c){var d=this.childNodes,a;while(a=d[0])this.removeChild(a,b,c);return this},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(c,a,b){var d=a?a.nextSibling:null;this.removeChild(a,false,b);this.insertBefore(c,d,b);return a},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(d){for(var b=this.childNodes,c=b.length,a=0;a<c;++a)if(b[a].getId()===d)return a;return-1},getPath:function(c,b){c=c||this.idProperty;b=b||"/";var d=[this.get(c)],a=this.parentNode;while(a){d.unshift(a.get(c));a=a.parentNode}return b+d.join(b)},getDepth:function(){return this.get("depth")},bubble:function(d,c,b){var a=this;while(a){if(d.apply(c||a,b||[a])===false)break;a=a.parentNode}},cascade:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.");return this.cascadeBy.apply(this,arguments)},cascadeBy:function(d,c,b){if(d.apply(c||this,b||[this])!==false)for(var e=this.childNodes,f=e.length,a=0;a<f;a++)e[a].cascadeBy(d,c,b)},eachChild:function(e,d,c){for(var b=this.childNodes,f=b.length,a=0;a<f;a++)if(e.apply(d||this,c||[b[a]])===false)break},findChild:function(b,c,a){return this.findChildBy(function(){return this.get(b)==c},null,a)},findChildBy:function(g,f,d){for(var e=this.childNodes,h=e.length,c=0,a,b;c<h;c++){a=e[c];if(g.call(f||a,a)===true)return a;else if(d){b=a.findChildBy(g,f,d);if(b!==null)return b}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(b){var a=this.parentNode;while(a){if(a==b)return true;a=a.parentNode}return false},sort:function(e,g,f){var c=this.childNodes,d=c.length,a,b;if(d>0){Ext.Array.sort(c,e);for(a=0;a<d;a++){b=c[a];b.previousSibling=c[a-1];b.nextSibling=c[a+1];a===0&&this.setFirstChild(b);a==d-1&&this.setLastChild(b);b.updateInfo();g&&!b.isLeaf()&&b.sort(e,true,true)}f!==true&&this.fireEvent("sort",this,c)}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){var a=this.parentNode;while(a){if(!a.isExpanded())return false;a=a.parentNode}return true},expand:function(d,c,b){var a=this;if(!a.isLeaf())if(a.isLoading())a.on("expand",function(){a.expand(d,c,b)},a,{single:true});else if(!a.isExpanded())a.fireEvent("beforeexpand",a,function(){a.set("expanded",true);a.hasListeners.expand&&a.fireEvent("expand",a,a.childNodes,false);if(d)a.expandChildren(true,c,b);else Ext.callback(c,b||a,[a.childNodes])},a);else if(d)a.expandChildren(true,c,b);else Ext.callback(c,b||a,[a.childNodes]);else Ext.callback(c,b||a)},expandChildren:function(h,d,g){for(var a=this,c=0,e=a.childNodes,i=e.length,f,b=0;c<i;++c){f=e[c];if(!f.isLeaf()&&!f.isExpanded()){b++;e[c].expand(h,function(){b--;d&&!b&&Ext.callback(d,g||a,[a.childNodes])})}}!b&&d&&Ext.callback(d,g||a,[a.childNodes])},collapse:function(d,c,b){var a=this;if(!a.isLeaf())if(!a.collapsing&&a.isExpanded())a.fireEvent("beforecollapse",a,function(){a.set("expanded",false);a.hasListeners.collapse&&a.fireEvent("collapse",a,a.childNodes,false);if(d)a.collapseChildren(true,c,b);else Ext.callback(c,b||a,[a.childNodes])},a);else d&&a.collapseChildren(true,c,b);else Ext.callback(c,b||a,[a.childNodes])},collapseChildren:function(h,d,g){for(var a=this,c=0,e=a.childNodes,i=e.length,f,b=0;c<i;++c){f=e[c];if(!f.isLeaf()&&f.isExpanded()){b++;e[c].collapse(h,function(){b--;d&&!b&&Ext.callback(d,g||a,[a.childNodes])})}}!b&&d&&Ext.callback(d,g||a,[a.childNodes])}}}}});Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:"Ext.util.Observable"},root:null,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a);b&&a.setRootNode(b)},getRootNode:function(){return this.root},setRootNode:function(b){var a=this;a.root=b;if(a.fireEvent("beforeappend",null,b)!==false){b.set("root",true);b.updateInfo();b.commit();b.on({scope:a,insert:a.onNodeInsert,append:a.onNodeAppend,remove:a.onNodeRemove});a.relayEvents(b,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]);a.nodeHash={};a.registerNode(b);a.fireEvent("append",null,b);a.fireEvent("rootchange",b)}return b},flatten:function(){var c=[],b=this.nodeHash,a;for(a in b)b.hasOwnProperty(a)&&c.push(b[a]);return c},onNodeInsert:function(b,a){this.registerNode(a,true)},onNodeAppend:function(b,a){this.registerNode(a,true)},onNodeRemove:function(b,a){this.unregisterNode(a,true)},onNodeIdChanged:function(b,d,c){var a=this.nodeHash;a[c]=b;delete a[d||b.internalId]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a,c){var b=this;b.nodeHash[a.getId()||a.internalId]=a;a.on("idchanged",b.onNodeIdChanged,b);c===true&&a.eachChild(function(a){b.registerNode(a,true)})},unregisterNode:function(a,b){delete this.nodeHash[a.getId()||a.internalId];b===true&&a.eachChild(function(a){this.unregisterNode(a,true)},this)},sort:function(b,a){this.getRootNode().sort(b,a)},filter:function(b,a){this.getRootNode().filter(b,a)}});Ext.define("Ext.data.association.HasMany",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasManyAssociation",requires:["Ext.util.Inflector"],alias:"association.hasmany",constructor:function(){var a=this,c,b;a.callParent(arguments);a.name=a.name||Ext.util.Inflector.pluralize(a.associatedName.toLowerCase());c=a.ownerModel.prototype;b=a.name;Ext.applyIf(a,{storeName:b+"Store",foreignKey:a.ownerName.toLowerCase()+"_id"});c[b]=a.createStore()},createStore:function(){var a=this,h=a.associatedModel,b=a.storeName,e=a.foreignKey,d=a.primaryKey,c=a.filterProperty,f=a.autoLoad,g=a.storeConfig||{};return function(){var a=this,k,i,j={};if(a[b]===undefined){if(c)i={property:c,value:a.get(c),exactMatch:true};else i={property:e,value:a.get(d),exactMatch:true};j[e]=a.get(d);k=Ext.apply({},g,{model:h,filters:[i],remoteFilter:false,modelDefaults:j});a[b]=new Ext.data.Store(k);f&&a[b].load()}return a[b]}},read:function(c,g,h){var f=c[this.name](),b,d,e,a;f.add(g.read(h).records);b=this.associatedModel.prototype.associations.findBy(function(a){return a.type==="belongsTo"&&a.associatedName===c.$className});if(b){d=f.data.items;e=d.length;for(a=0;a<e;a++)d[a][b.instanceName]=c}}});Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],uses:["Ext.data.Batch","Ext.data.Operation","Ext.data.Model"],mixins:{observable:"Ext.util.Observable"},batchOrder:"create,update,destroy",batchActions:true,defaultReaderType:"json",defaultWriterType:"json",isProxy:true,constructor:function(a){a=a||{};if(a.model===undefined)delete a.model;Ext.apply(this,a);this.mixins.observable.constructor.call(this);this.model!==undefined&&!(this.model instanceof Ext.data.Model)&&this.setModel(this.model)},setModel:function(b,c){this.model=Ext.ModelManager.getModel(b);var a=this.reader,d=this.writer;this.setReader(a);this.setWriter(d);c&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(a){var b=this;if(a===undefined||typeof a=="string")a={type:a};if(a.isReader)a.setModel(b.model);else{Ext.applyIf(a,{proxy:b,model:b.model,type:b.defaultReaderType});a=Ext.createByAlias("reader."+a.type,a)}if(a.onMetaChange)a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this);b.reader=a;return b.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(a){if(a===undefined||typeof a=="string")a={type:a};if(!a.isWriter){Ext.applyIf(a,{model:this.model,type:this.defaultWriterType});a=Ext.createByAlias("writer."+a.type,a)}this.writer=a;return this.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,m){var c=this,l=c.batchActions,b,d,h,i,f,g,e,k,j;if(a.operations===undefined)a={operations:a,listeners:m};if(a.batch){if(Ext.isDefined(a.batch.runOperation))b=Ext.applyIf(a.batch,{proxy:c,listeners:{}})}else a.batch={proxy:c,listeners:a.listeners||{}};if(!b)b=new Ext.data.Batch(a.batch);b.on("complete",Ext.bind(c.onBatchComplete,c,[a],0));h=c.batchOrder.split(",");i=h.length;for(g=0;g<i;g++){f=h[g];d=a.operations[f];if(d)if(l)b.add(new Ext.data.Operation({action:f,records:d}));else{k=d.length;for(e=0;e<k;e++){j=d[e];b.add(new Ext.data.Operation({action:f,records:[j]}))}}}b.start();return b},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException)Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]);else Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]);Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])}},function(){Ext.data.DataProxy=this});Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",clear:function(){}});Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]);this.setReader(this.reader)},updateOperation:function(a,f,e){var b=0,c=a.getRecords(),d=c.length;for(b;b<d;b++)c[b].commit();a.setCompleted();a.setSuccessful();Ext.callback(f,e||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(a,f,e){var b=this,d=b.getReader(),c=d.read(b.data);Ext.apply(a,{resultSet:c});a.setCompleted();a.setSuccessful();Ext.callback(f,e||b,[a])},clear:Ext.emptyFn});Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",sortParam:"sort",filterParam:"filter",directionParam:"dir",simpleSortMode:false,noCache:true,cacheString:"_dc",timeout:3e4,constructor:function(b){var a=this;b=b||{};a.callParent([b]);a.extraParams=b.extraParams||{};a.api=Ext.apply({},b.api||a.api);a.nocache=a.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var d=this,c=Ext.applyIf(a.params||{},d.extraParams||{}),b;c=Ext.applyIf(c,d.getParams(a));if(a.id&&!c.id)c.id=a.id;b=new Ext.data.Request({params:c,action:a.action,records:a.records,operation:a,url:a.url,proxy:d});b.url=d.buildUrl(b);a.request=b;return b},processResponse:function(g,a,h,c,f,i){var b=this,e,d;if(g===true){e=b.getReader();e.applyDefaults=a.action==="read";d=e.read(b.extractResponseData(c));if(d.success!==false){Ext.apply(a,{response:c,resultSet:d});a.commitRecords(d.records);a.setCompleted();a.setSuccessful()}else{a.setException(d.message);b.fireEvent("exception",this,c,a)}}else{b.setException(a,c);b.fireEvent("exception",this,c,a)}typeof f=="function"&&f.call(i||b,a);b.afterRequest(h,g)},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText})},extractResponseData:function(a){return a},applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(b){for(var c=[],d=b.length,a=0;a<d;a++)c[a]={property:b[a].property,direction:b[a].direction};return this.applyEncoding(c)},encodeFilters:function(b){for(var c=[],d=b.length,a=0;a<d;a++)c[a]={property:b[a].property,value:b[a].value};return this.applyEncoding(c)},getParams:function(c){var a=this,b={},g=Ext.isDefined,h=c.groupers,d=c.sorters,f=c.filters,m=c.page,l=c.start,p=c.limit,q=a.simpleSortMode,o=a.pageParam,k=a.startParam,i=a.limitParam,j=a.groupParam,e=a.sortParam,n=a.filterParam,r=a.directionParam;if(o&&g(m))b[o]=m;if(k&&g(l))b[k]=l;if(i&&g(p))b[i]=p;if(j&&h&&h.length>0)b[j]=a.encodeSorters(h);if(e&&d&&d.length>0)if(q){b[e]=d[0].property;b[r]=d[0].direction}else b[e]=a.encodeSorters(d);if(n&&f&&f.length>0)b[n]=a.encodeFilters(f);return b},buildUrl:function(c){var b=this,a=b.getUrl(c);if(b.noCache)a=Ext.urlAppend(a,Ext.String.format("{0}={1}",b.cacheString,Ext.Date.now()));return a},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}});Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:true,constructor:function(){this.addEvents("exception");this.callParent(arguments)},doRequest:function(c,g,d){var b=this,e=b.getWriter(),a=b.buildRequest(c),f=a.params;if(c.allowWrite())a=e.write(a);Ext.apply(a,{callbackKey:b.callbackKey,timeout:b.timeout,scope:b,disableCaching:false,callback:b.createRequestCallback(a,c,g,d)});if(b.autoAppendParams)a.params={};a.jsonp=Ext.data.JsonP.request(a);a.params=f;c.setStarted();b.lastRequest=a;return a},createRequestCallback:function(d,b,e,c){var a=this;return function(g,f){delete a.lastRequest;a.processResponse(g,b,d,f,e,c)}},setException:function(a){a.setException(a.request.jsonp.errorType)},buildUrl:function(h){var f=this,a=f.callParent(arguments),g=Ext.apply({},h.params),e=g.filters,b,d,c;delete g.filters;if(f.autoAppendParams)a=Ext.urlAppend(a,Ext.Object.toQueryString(g));if(e&&e.length)for(c=0;c<e.length;c++){d=e[c];if(d.value)a=Ext.urlAppend(a,d.property+"="+d.value)}b=h.records;if(Ext.isArray(b)&&b.length>0)a=Ext.urlAppend(a,Ext.String.format("{0}={1}",f.recordParam,f.encodeRecords(b)));return a},destroy:function(){this.abort();this.callParent(arguments)},abort:function(){var a=this.lastRequest;a&&Ext.data.JsonP.abort(a.jsonp)},encodeRecords:function(b){for(var c="",a=0,d=b.length;a<d;a++)c+=Ext.Object.toQueryString(b[a].getData());return c}});Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.SequentialIdGenerator"],id:undefined,constructor:function(){this.callParent(arguments);this.cache={};this.id=this.id||(this.store?this.store.storeId:undefined);this.initialize()},create:function(c,h,j){var a=this,f=c.records,i=f.length,g=a.getIds(),d,b,e;c.setStarted();if(a.isHierarchical===undefined){a.isHierarchical=!!f[0].isNode;a.isHierarchical&&a.getStorageObject().setItem(a.getTreeKey(),true)}for(e=0;e<i;e++){b=f[e];if(b.phantom){b.phantom=false;d=a.getNextId()}else d=b.getId();a.setRecord(b,d);b.commit();g.push(d)}a.setIds(g);c.setCompleted();c.setSuccessful();typeof h=="function"&&h.call(j||a,c)},read:function(c,k,m){var b=this,e=[],g=0,l=true,j=b.model,f,i,h,d,a;c.setStarted();if(b.isHierarchical)e=b.getTreeData();else{f=b.getIds();i=f.length;a=c.id;if(a){d=b.getRecord(a);h=new j(d,a,d);if(h)e.push(h);else l=false}else for(;g<i;g++){a=f[g];d=b.getRecord(a);e.push(new j(d,a,d))}}l&&c.setSuccessful();c.setCompleted();c.resultSet=Ext.create("Ext.data.ResultSet",{records:e,total:e.length,loaded:true});typeof k=="function"&&k.call(m||b,c)},update:function(a,g,i){var f=a.records,h=f.length,e=this.getIds(),d,b,c;a.setStarted();for(c=0;c<h;c++){d=f[c];this.setRecord(d);d.commit();b=d.getId();b!==undefined&&Ext.Array.indexOf(e,b)==-1&&e.push(b)}this.setIds(e);a.setCompleted();a.setSuccessful();typeof g=="function"&&g.call(i||this,a)},destroy:function(b,h,k){var c=this,f=b.records,e=c.getIds(),j=e.length,i=[],g={},a=f.length,d;b.setStarted();for(;a--;)Ext.apply(g,c.removeRecord(f[a]));for(a=0;a<j;a++){d=e[a];!g[d]&&i.push(d)}c.setIds(i);b.setCompleted();b.setSuccessful();typeof h=="function"&&h.call(k||c,b)},getRecord:function(a){var b=this,d=b.cache,c=!d[a]?Ext.decode(b.getStorageObject().getItem(b.getRecordKey(a))):d[a];if(!c)return null;d[a]=c;c[b.model.prototype.idProperty]=a;return c},setRecord:function(c,a){if(a)c.setId(a);else a=c.getId();for(var d=this,k=c.data,b={},m=d.model,j=m.prototype.fields.items,l=j.length,g=0,h,e,f,i;g<l;g++){h=j[g];e=h.name;if(h.persist)b[e]=k[e]}delete b[d.model.prototype.idProperty];if(c.isNode&&c.get("depth")===1)delete b.parentId;f=d.getStorageObject();i=d.getRecordKey(a);d.cache[a]=b;f.removeItem(i);f.setItem(i,Ext.encode(b))},removeRecord:function(a){var b=this,f=a.getId(),c={},d,e;c[f]=a;b.getStorageObject().removeItem(b.getRecordKey(f));delete b.cache[f];if(a.childNodes){e=a.childNodes;for(d=e.length;d--;)Ext.apply(c,b.removeRecord(e[d]))}return c},getRecordKey:function(a){if(a.isModel)a=a.getId();return Ext.String.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var c=this,a=(c.getStorageObject().getItem(c.id)||"").split(","),d=c.model,e=a.length,f=d.prototype.fields.get(d.prototype.idProperty).type.type==="string",b;if(e==1&&a[0]==="")a=[];else for(b=0;b<e;b++)a[b]=f?a[b]:+a[b];return a},setIds:function(c){var a=this.getStorageObject(),b=c.join(",");a.removeItem(this.id);!Ext.isEmpty(b)&&a.setItem(this.id,b)},getNextId:function(){var b=this,f=b.getStorageObject(),e=b.getRecordCounterKey(),c=b.model,d=c.prototype.fields.get(c.prototype.idProperty).type.type==="string",a;a=b.idGenerator.generate();f.setItem(e,a);if(!d)a=+a;return a},getTreeData:function(){for(var e=this,k=e.getIds(),h=k.length,d=[],l={},c=[],b=0,n=e.model,o=n.prototype.idProperty,i,a,f,j,m,g;b<h;b++){g=k[b];a=e.getRecord(g);d.push(a);l[g]=a;!a.parentId&&c.push(a)}i=c.length;Ext.Array.sort(d,e.sortByParentId);for(b=i;b<h;b++){a=d[b];j=a.parentId;if(!f||f[o]!==j){f=l[j];f.children=m=[]}m.push(a)}for(b=h;b--;){a=d[b];if(!a.children&&!a.leaf)a.loaded=true}for(b=i;b--;){a=c[b];c[b]=new n(a,a[o],a)}return c},sortByParentId:function(b,a){return(b.parentId||0)-(a.parentId||0)},initialize:function(){var a=this,b=a.getStorageObject(),c=+b.getItem(a.getRecordCounterKey());b.setItem(a.id,b.getItem(a.id)||"");if(b.getItem(a.getTreeKey()))a.isHierarchical=true;a.idGenerator=new Ext.data.SequentialIdGenerator({seed:c?c+1:1})},clear:function(){for(var a=this,b=a.getStorageObject(),d=a.getIds(),e=d.length,c=0;c<e;c++)b.removeItem(a.getRecordKey(d[c]));b.removeItem(a.getRecordCounterKey());b.removeItem(a.getTreeKey());b.removeItem(a.id);a.cache={}},getStorageObject:function(){}});Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}});Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:"Ext.util.Observable"},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,readRecordsOnFailure:true,isReader:true,applyDefaults:true,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);a.fieldCount=0;a.model=Ext.ModelManager.getModel(a.model);a.model&&a.model.prototype.fields&&a.buildExtractors();this.addEvents("exception")},setModel:function(b,c){var a=this;a.model=Ext.ModelManager.getModel(b);a.buildExtractors(true);c&&a.proxy&&a.proxy.setModel(a.model,true)},read:function(a){var b;if(a)b=a.responseText?this.getResponseData(a):this.readRecords(a);return b||this.nullResultSet},readRecords:function(b){var a=this,g,f,e,d,h,c,i;a.fieldCount!==a.getFields().length&&a.buildExtractors(true);a.rawData=b;b=a.getData(b);g=true;f=0;e=[];if(a.successProperty){c=a.getSuccess(b);if(c===false||c==="false")g=false}if(a.messageProperty)i=a.getMessage(b);if(a.readRecordsOnFailure||g){d=Ext.isArray(b)?b:a.getRoot(b);if(d)h=d.length;if(a.totalProperty){c=parseInt(a.getTotal(b),10);if(!isNaN(c))h=c}if(d){e=a.extractData(d);f=e.length}}return new Ext.data.ResultSet({total:h||f,count:f,records:e,success:g,message:i})},extractData:function(a){var d=this,g=[],i=d.model,f=a.length,h,b,c,e;if(!a.length&&Ext.isObject(a)){a=[a];f=1}for(e=0;e<f;e++){b=a[e];c=new i(undefined,d.getId(b),b,h={});c.phantom=false;d.convertRecordData(h,b,c);g.push(c);d.implicitIncludes&&d.readAssociated(c,b)}return g},readAssociated:function(g,i){for(var f=g.associations.items,d=0,h=f.length,a,c,e,b;d<h;d++){a=f[d];c=this.getAssociatedDataRoot(i,a.associationKey||a.name);if(c){b=a.getReader();if(!b){e=a.associatedModel.proxy;if(e)b=e.getReader();else b=new this.constructor({model:a.associatedName})}a.read(g,b,c)}}},getAssociatedDataRoot:function(b,a){return b[a]},getFields:function(){return this.model.prototype.fields.items},getData:function(a){return a},getRoot:function(a){return a},getResponseData:function(){},onMetaChange:function(b){var a=this,e=b.fields||a.getFields(),d,c;a.metaData=b;a.root=b.root||a.root;a.idProperty=b.idProperty||a.idProperty;a.totalProperty=b.totalProperty||a.totalProperty;a.successProperty=b.successProperty||a.successProperty;a.messageProperty=b.messageProperty||a.messageProperty;c=b.clientIdProperty;if(a.model){a.model.setFields(e,a.idProperty,c);a.setModel(a.model,true)}else{d=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:e,clientIdProperty:c});if(a.idProperty)d.idProperty=a.idProperty;a.setModel(d,true)}},getIdProperty:function(){return this.idProperty||this.model.prototype.idProperty},buildExtractors:function(i){var a=this,b=a.getIdProperty(),h=a.totalProperty,f=a.successProperty,g=a.messageProperty,e,d,c;if(i===true)delete a.convertRecordData;if(a.convertRecordData)return;if(h)a.getTotal=a.createAccessor(h);if(f)a.getSuccess=a.createAccessor(f);if(g)a.getMessage=a.createAccessor(g);if(b){d=a.model.prototype.fields.get(b);if(d){c=d.mapping;b=c!==undefined&&c!==null?c:b}e=a.createAccessor(b);a.getId=function(c){var b=e.call(a,c);return b===undefined||b===""?null:b}}else a.getId=function(){return null};a.convertRecordData=a.buildRecordDataExtractor()},buildRecordDataExtractor:function(){for(var e=this,j=e.model.prototype,i=j.clientIdProperty,f=j.fields.items,h=f.length,d=[],g,b=0,c,a=["var me = this,\n","    fields = me.model.prototype.fields,\n","    value,\n","    internalId"],b=0;b<h;b++){c=f[b];d[b]="__field"+b;a.push(",\n    ",d[b],' = fields.get("',c.name,'")')}a.push(";\n\n    return function(dest, source, record) {\n");for(b=0;b<h;b++){c=f[b];g=d[b];a.push("        value = ",e.createFieldAccessExpression(c,g,"source"),";\n");if(c.defaultValue!==undefined){a.push("        if (value === undefined) {\n");a.push("            if (me.applyDefaults) {\n");a.push('                dest["'+c.name+'"] = ',c.convert?d[b]+".convert("+d[b]+".defaultValue, record)":d[b]+".defaultValue",";\n");a.push("            }\n");a.push("        } else {\n");a.push('            dest["'+c.name+'"] = ',c.convert?d[b]+".convert(value, record)":"value",";\n");a.push("        }\n")}else{a.push("        if (value !== undefined) {\n");a.push('            dest["'+c.name+'"] = ',c.convert?d[b]+".convert(value, record)":"value",";\n");a.push("        }\n")}}if(i){a.push("        if (record && (internalId = "+e.createFieldAccessExpression({mapping:i},null,"source")+")) {\n");a.push("            record.internalId = internalId;\n        }\n")}a.push("    };");return Ext.functionFactory(a.join("")).call(e)},destroyReader:function(){var a=this;delete a.proxy;delete a.model;delete a.convertRecordData;delete a.getId;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},function(){Ext.apply(this.prototype,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true})})});Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",useSimpleAccessors:false,readRecords:function(a){if(a.metaData)this.onMetaChange(a.metaData);this.jsonData=a;return this.callParent([a])},getResponseData:function(b){var c,a;try{c=Ext.decode(b.responseText);return this.readRecords(c)}catch(d){a=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:d.message});this.fireEvent("exception",this,b,a);Ext.Logger.warn("Unable to parse the JSON returned by the server");return a}},buildExtractors:function(){var a=this;a.callParent(arguments);if(a.root)a.getRoot=a.createAccessor(a.root);else a.getRoot=function(a){return a}},extractData:function(a){var e=this.record,d=[],c,b;if(e){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a]}for(b=0;b<c;b++)d[b]=a[b][e]}else d=a;return this.callParent([d])},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;if(this.useSimpleAccessors!==true){var c=String(b).search(a);if(c>=0)return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(e,h,d){var i=this,f=e.mapping!==null,b=f?e.mapping:e.name,c,g;if(typeof b==="function")c=h+".mapping("+d+", this)";else if(this.useSimpleAccessors===true||(g=String(b).search(a))<0){if(!f||isNaN(b))b='"'+b+'"';c=d+"["+b+"]"}else c=d+(g>0?".":"")+b;return c}}()});Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:undefined,successProperty:undefined,createFieldAccessExpression:function(c,e,d){var a=c.mapping==null?c.originalIndex:c.mapping,b;if(typeof a==="function")b=e+".mapping("+d+", this)";else{if(isNaN(a))a='"'+a+'"';b=d+"["+a+"]"}return b}});Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(a){var b=this;return Ext.isEmpty(a)?Ext.emptyFn:Ext.isFunction(a)?a:function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){return a&&a.firstChild?a.firstChild.nodeValue:undefined},getResponseData:function(c){var d=c.responseXML,a,b;if(!d){b="XML data not found in the response";a=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:b});this.fireEvent("exception",this,c,a);Ext.Logger.warn(b);return a}return this.readRecords(d)},getData:function(a){return a.documentElement||a},getRoot:function(a){var c=a.nodeName,b=this.root;return!b||c&&c==b?a:Ext.DomQuery.isXml(a)?Ext.DomQuery.selectNode(b,a):void 0},extractData:function(a){var b=this.record;if(b!=a.nodeName)a=Ext.DomQuery.select(b,a);else a=[a];return this.callParent([a])},getAssociatedDataRoot:function(b,a){return Ext.DomQuery.select(a,b)[0]},readRecords:function(a){if(Ext.isArray(a))a=a[0];this.xmlData=a;return this.callParent([a])},createFieldAccessExpression:function(d,e,c){var b=d.mapping||d.name,a;if(typeof b==="function")a=e+".mapping("+c+", this)";else a='me.getNodeValue(Ext.DomQuery.selectNode("'+b+'", '+c+"))";return a}});Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:undefined,encode:false,allowSingle:true,writeRecords:function(a,b){var c=this.root;if(this.allowSingle&&b.length==1)b=b[0];if(this.encode){if(c)a.params[c]=Ext.encode(b)}else{a.jsonData=a.jsonData||{};if(c)a.jsonData[c]=b;else a.jsonData=b}return a}});Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:"Ext.util.Observable"},constructor:function(b){var a=this;Ext.apply(a,b);a.addEvents("connect","disconnect","data","exception");a.mixins.observable.constructor.call(a,b)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent"],parseResponse:function(a){return!Ext.isEmpty(a.responseText)?Ext.isObject(a.responseText)?a.responseText:Ext.decode(a.responseText):null},createEvents:function(e){var a=null,c=[],f,b=0,d;try{a=this.parseResponse(e)}catch(g){f=new Ext.direct.ExceptionEvent({data:g,xhr:e,code:Ext.direct.Manager.self.exceptions.PARSE,message:"Error parsing json response: \n\n "+a});return[f]}if(Ext.isArray(a))for(d=a.length;b<d;++b)c.push(this.createEvent(a[b]));else c.push(this.createEvent(a));return c},createEvent:function(a){return Ext.create("direct."+a.type,a)}});Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",uses:["Ext.direct.ExceptionEvent"],requires:["Ext.Ajax","Ext.util.DelayedTask"],interval:3e3,constructor:function(){this.callParent(arguments);this.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){var a=this,b=a.url;if(b&&!a.pollTask){a.pollTask=Ext.TaskManager.start({run:function(){if(a.fireEvent("beforepoll",a)!==false)if(Ext.isFunction(b))b(a.baseParams);else Ext.Ajax.request({url:b,callback:a.onData,scope:a,params:a.baseParams})},interval:a.interval,scope:a});a.fireEvent("connect",a)}else!b},disconnect:function(){var a=this;if(a.pollTask){Ext.TaskManager.stop(a.pollTask);delete a.pollTask;a.fireEvent("disconnect",a)}},onData:function(g,f,e){var a=this,c=0,d,b;if(f){b=a.createEvents(e);for(d=b.length;c<d;++c)a.fireEvent("data",a,b[c])}else a.fireEvent("data",a,new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.self.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:e}))}});Ext.ns("Ext.fx");Ext.require("Ext.fx.CubicBezier",function(){var b=Math,g=b.PI,a=b.pow,f=b.sin,e=b.sqrt,c=b.abs,d=1.70158;Ext.fx.Easing={};Ext.apply(Ext.fx.Easing,{linear:function(a){return a},ease:function(k){var d=.07813-k/2,l=-.25,f=e(.0066+d*d),h=f-d,j=a(c(h),1/3)*(h<0?-1:1),g=-f-d,i=a(c(g),1/3)*(g<0?-1:1),b=j+i+.25;return a(1-b,2)*3*b*.1+(1-b)*3*b*b+b*b*b},easeIn:function(b){return a(b,1.7)},easeOut:function(b){return a(b,.48)},easeInOut:function(k){var d=.48-k/1.04,g=e(.1734+d*d),f=g-d,j=a(c(f),1/3)*(f<0?-1:1),h=-g-d,i=a(c(h),1/3)*(h<0?-1:1),b=j+i+.5;return(1-b)*3*b*b+b*b*b},backIn:function(a){return a*a*((d+1)*a-d)},backOut:function(a){a=a-1;return a*a*((d+1)*a+d)+1},elasticIn:function(b){if(b===0||b===1)return b;var c=.3,d=c/4;return a(2,-10*b)*f((b-d)*(2*g)/c)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var d=7.5625,b=2.75,c;if(a<1/b)c=d*a*a;else if(a<2/b){a-=1.5/b;c=d*a*a+.75}else if(a<2.5/b){a-=2.25/b;c=d*a*a+.9375}else{a-=2.625/b;c=d*a*a+.984375}return c}});Ext.apply(Ext.fx.Easing,{"back-in":Ext.fx.Easing.backIn,"back-out":Ext.fx.Easing.backOut,"ease-in":Ext.fx.Easing.easeIn,"ease-out":Ext.fx.Easing.easeOut,"elastic-in":Ext.fx.Easing.elasticIn,"elastic-out":Ext.fx.Easing.elasticIn,"bounce-in":Ext.fx.Easing.bounceIn,"bounce-out":Ext.fx.Easing.bounceOut,"ease-in-out":Ext.fx.Easing.easeInOut})});Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},compMethod:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(b,a){return[[this.target,a!==undefined?a:this.getPropMethod[b].call(this.target)]]},setAttr:function(m,p,n){for(var e=this,q=e.target,o=m.length,f,c,a,d,b,k,j,l,i,h,g=0;g<o;g++){f=m[g].attrs;for(c in f){k=f[c].length;b={setPosition:{},setPagePosition:{},setSize:{},setOpacity:{}};for(d=0;d<k;d++){a=f[c][d];b[e.compMethod[c]].target=a[0];b[e.compMethod[c]][c]=a[1]}if(b.setPosition.target){a=b.setPosition;j=a.left===undefined?undefined:parseFloat(a.left);l=a.top===undefined?undefined:parseFloat(a.top);a.target.setPosition(j,l)}if(b.setPagePosition.target){a=b.setPagePosition;a.target.setPagePosition(a.x,a.y)}if(b.setSize.target){a=b.setSize;i=a.width===undefined?a.target.getWidth():parseFloat(a.width);h=a.height===undefined?a.target.getHeight():parseFloat(a.height);if(n||e.dynamic)a.target.setSize(i,h);else a.target.el.setSize(i,h)}if(b.setOpacity.target){a=b.setOpacity;a.target.el.setStyle("opacity",a.opacity)}}}}});Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(c,b,a){if(a==undefined)if(b==="x")a=c.getX();else if(b==="y")a=c.getY();else if(b==="scrollTop")a=c.getScroll().top;else if(b==="scrollLeft")a=c.getScroll().left;else if(b==="height")a=c.getHeight();else if(b==="width")a=c.getWidth();else a=c.getStyle(b);return a},getAttr:function(b,c){var a=this.target;return[[a,this.getElVal(a,b,c)]]},setAttr:function(i){for(var k=this.target,j=i.length,d,a,f,e,h,b,c,g=0;g<j;g++){d=i[g].attrs;for(a in d)if(d.hasOwnProperty(a)){h=d[a].length;for(e=0;e<h;e++){f=d[a][e];b=f[0];c=f[1];if(a==="x")b.setX(c);else if(a==="y")b.setY(c);else if(a==="scrollTop")b.scrollTo("top",c);else if(a==="scrollLeft")b.scrollTo("left",c);else if(a==="width")b.setWidth(c);else if(a==="height")b.setHeight(c);else b.setStyle(a,c)}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:true,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(e,g){for(var c=[],d=this.target.elements,f=d.length,a,b=0;b<f;b++){a=d[b];if(a){a=this.target.getElement(a);c.push([a,this.getElVal(a,e,g)])}}return c}});Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(j,h){for(var e={attrs:[],duration:[],easing:[]},m=j.length,l,b,d,i,f,a,g,k,c=0;c<m;c++){b=j[c];f=b.duration;i=b.easing;b=b.attrs;for(d in b)if(Ext.Array.indexOf(e.attrs,d)==-1){e.attrs.push(d.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));e.duration.push(f+"ms");e.easing.push(i)}}l=e.attrs.join(",");f=e.duration.join(",");i=e.easing.join(", ");for(c=0;c<m;c++){b=j[c].attrs;for(d in b){k=b[d].length;for(g=0;g<k;g++){a=b[d][g];a[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",h?"":l);a[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",h?"":f);a[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",h?"":i);a[0].setStyle(d,a[1]);if(h)a=a[0].dom.offsetWidth;else a[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},a[0],{single:true})}}}}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(b,c){var a;switch(c){case"rotate":case"rotation":a=b.attr.rotation;return{x:a.x||0,y:a.y||0,degrees:a.degrees||0};case"scale":case"scaling":a=b.attr.scaling;return{x:a.x||1,y:a.y||1,cx:a.cx||0,cy:a.cy||0};case"translate":case"translation":a=b.attr.translation;return{x:a.x||0,y:a.y||0};default:return b.attr[c]}},getAttr:function(b,a){return[[this.target,a!=undefined?a:this.getFromPrim(this.target,b)]]},setAttr:function(o){for(var l=o.length,f=[],k,a,j,b,m,i,g,h,e,d,n,c=0;c<l;c++){k=o[c].attrs;for(a in k){j=k[a];n=j.length;for(h=0;h<n;h++){m=j[h][0];b=j[h][1];if(a==="translate"||a==="translation")g={x:b.x,y:b.y};else if(a==="rotate"||a==="rotation"){e=b.x;if(isNaN(e))e=null;d=b.y;if(isNaN(d))d=null;g={degrees:b.degrees,x:e,y:d}}else if(a==="scale"||a==="scaling"){e=b.x;if(isNaN(e))e=null;d=b.y;if(isNaN(d))d=null;g={x:e,y:d,cx:b.cx,cy:b.cy}}else if(a==="width"||a==="height"||a==="x"||a==="y")g=parseFloat(b);else g=b;i=Ext.Array.indexOf(f,m);if(i==-1){f.push([m,{}]);i=f.length-1}f[i][1][a]=g}}}l=f.length;for(c=0;c<l;c++)f[c][0].setAttributes(f[c][1]);this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(f,e){for(var c=[],d=[].concat(this.target.items),g=d.length,a,b=0;b<g;b++){a=d[b];c.push([a,e!=undefined?e:this.getFromPrim(a,f)])}return c}});Ext.define("Ext.layout.Layout",{requires:["Ext.XTemplate"],uses:["Ext.layout.Context"],isLayout:true,initialized:false,running:false,autoSizePolicy:{setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,i){var g=Ext.ClassManager,h=this.layoutsByType,e,f,d,b,c,j;if(!a||typeof a==="string"){c=a||i;d={}}else if(a.isLayout)return a;else{d=a;c=a.type||i}if(!(b=h[c])){e="layout."+c;f=g.getNameByAlias(e);if(!f)j=true;b=g.get(f);if(j||!b)return g.instantiateByAlias(e,d||{});h[c]=b}return new b(d)}},constructor:function(b){var a=this;a.id=Ext.id(null,a.type+"-");Ext.apply(a,b);a.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(b){var a=this,d=a.context,c;if(a.lastWidthModel!=b.widthModel){if(a.lastWidthModel)c=true;a.lastWidthModel=b.widthModel}if(a.lastHeightModel!=b.heightModel){if(a.lastWidthModel)c=true;a.lastHeightModel=b.heightModel}if(c){(d=b.context).clearTriggers(a,false);d.clearTriggers(a,true);a.triggerCount=0}},finishedLayout:function(){this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},isItemBoxParent:function(){return false},isItemLayoutRoot:function(d){var c=d.getSizeModel(),b=c.width,a=c.height;return!d.componentLayout.lastComponentSize&&(b.calculated||a.calculated)?false:!b.shrinkWrap&&!a.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(f,b){var g=f.length,d,a,c,e;if(g){e=[];for(d=0;d<g;++d){a=f[d];if(!a.rendered){if(b&&b[a.id]!==undefined)c=b[a.id];else{this.configureItem(a);c=a.getRenderTree();if(b)b[a.id]=c}c&&e.push(c)}}}return e},finishRender:Ext.emptyFn,finishRenderItems:function(e,c){for(var d=c.length,b,a=0;a<d;a++){b=c[a];if(b.rendering){b.finishRender(a);this.afterRenderItem(b)}}},renderChildren:function(){var a=this,b=a.getLayoutItems(),c=a.getRenderTarget();a.renderItems(b,c)},renderItems:function(e,d){var c=this,f=e.length,b=0,a;if(f){Ext.suspendLayouts();for(;b<f;b++){a=e[b];if(a&&!a.rendered)c.renderItem(a,d,b);else if(!c.isValidParent(a,d,b))c.moveItem(a,d,b);else c.configureItem(a)}Ext.resumeLayouts(true)}},isValidParent:function(c,d,e){var a=c.el?c.el.dom:Ext.getDom(c),b=d&&d.dom||d;if(a.parentNode&&a.parentNode.className.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1)a=a.parentNode;return a&&b?typeof e=="number"?a===b.childNodes[e]:a.parentNode===b:false},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,c,b){if(!a.rendered){this.configureItem(a);a.render(c,b);this.afterRenderItem(a)}},moveItem:function(c,a,b){a=a.dom||a;if(typeof b=="number")b=a.childNodes[b];a.insertBefore(c.el.dom,b||null);c.container=Ext.get(a);this.configureItem(c)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},afterRenderItem:Ext.emptyFn,onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(b){var d=this,e=b.el,c=d.owner,a;if(b.rendered){a=[].concat(d.itemCls||[]);if(c.itemCls)a=Ext.Array.push(a,c.itemCls);a.length&&e.removeCls(a)}delete b.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();b&&b.removeCls(a.targetCls)}a.onDestroy()},sortWeightedItems:function(b,d){for(var a=0,c=b.length;a<c;++a)b[a].$i=a;Ext.Array.sort(b,function(b,c){var a=c.weight-b.weight;if(!a){a=b.$i-c.$i;if(b[d])a=-a}return a});for(a=0;a<c;++a)delete b[a].$i}},function(){var c=this,b={};c.prototype.sizeModels=c.sizeModels=b;var a=function(f){var c=this,e=f.name;Ext.apply(Ext.apply(c,d),f);c[e]=true;a[e]=b[e]=c;c.fixed=!(c.auto=c.natural||c.shrinkWrap)};Ext.layout.SizeModel=a;var d={calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null};new a({name:"calculated"});new a({name:"configured",names:{width:"width",height:"height"}});new a({name:"natural"});new a({name:"shrinkWrap"});new a({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new a({name:"calculatedFromNatural",natural:true});new a({name:"calculatedFromShrinkWrap",shrinkWrap:true});new a({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new a({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}})});Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,beginLayoutCycle:function(a,n){var d=this,c=d.owner,o=a.ownerCtContext,h=a.heightModel,i=a.widthModel,j=c.el.dom===document.body,g=c.lastBox||d.nullBox,e=c.el.lastBox||d.nullBox,f=!j,m,b,l,k;d.callParent(arguments);if(n){if(d.usesContentWidth)++a.consumersContentWidth;if(d.usesContentHeight)++a.consumersContentHeight;if(d.usesWidth)++a.consumersWidth;if(d.usesHeight)++a.consumersHeight;if(o&&!o.hasRawContent){m=c.ownerLayout;if(m.usesWidth)++a.consumersWidth;if(m.usesHeight)++a.consumersHeight}}if(i.configured){l=i.names.width;if(!j)f=n?c[l]!==e.width:i.constrained;a.setWidth(c[l],f)}else if(a.isTopLevel){if(i.calculated){b=g.width;a.setWidth(b,b!=e.width)}b=g.x;a.setProp("x",b,b!=e.x)}if(h.configured){k=h.names.height;if(!j)f=n?c[k]!==e.height:h.constrained;a.setHeight(c[k],f)}else if(a.isTopLevel){if(h.calculated){b=g.height;a.setHeight(b,b!=e.height)}b=g.y;a.setProp("y",b,b!=e.y)}},finishedLayout:function(f){var e=this,h=f.children,i=e.owner,j,d,g,b,c,a;if(h){j=h.length;for(d=0;d<j;d++){g=h[d];g.el.lastBox=g.props}}f.previousSize=e.lastComponentSize;e.lastComponentSize=i.el.lastBox=c=f.props;i.lastBox=b={};a=c.x;if(a!==undefined)b.x=a;a=c.y;if(a!==undefined)b.y=a;a=c.width;if(a!==undefined)b.width=a;a=c.height;if(a!==undefined)b.height=a;e.callParent(arguments)},notifyOwner:function(e){var a=this,c=a.lastComponentSize,b=e.previousSize,d=[c.width,c.height];b&&d.push(b.width,b.height);a.owner.afterComponentLayout.apply(a.owner,d)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(d){var a=this,c=a.targetInfo,b;if(!c){b=d.getEl("getTarget",a);a.targetInfo=c={padding:b.getPaddingInfo(),border:b.getBorderInfo()}}return c},measureAutoDimensions:function(b,r){var h=this,q=h.owner,o=b.heightModel,m=b.widthModel,f=b.boxParent,k=b.isBoxParent,i=b.props,n,a={gotWidth:false,gotHeight:false,isContainer:n=!b.hasRawContent},p=r||3,l,j,g=0,d=0,c,e;if(m.shrinkWrap&&b.consumersContentWidth){++g;l=!(p&1);if(n){if(l){a.contentWidth=0;a.gotWidth=true;++d}else if((a.contentWidth=b.getProp("contentWidth"))!==undefined){a.gotWidth=true;++d}}else{e=i.contentWidth;if(typeof e=="number"){a.contentWidth=e;a.gotWidth=true;++d}else{if(l)c=true;else if(!b.hasDomProp("containerChildrenDone"))c=false;else if(k||!f||f.widthModel.shrinkWrap)c=true;else c=f.hasDomProp("width");if(c)if(!isNaN(a.contentWidth=l?0:h.measureContentWidth(b))){b.setContentWidth(a.contentWidth,true);a.gotWidth=true;++d}}}}else if(m.natural&&b.consumersWidth){++g;e=i.width;if(typeof e=="number"){a.width=e;a.gotWidth=true;++d}else{if(k||!f)c=true;else c=f.hasDomProp("width");if(c)if(!isNaN(a.width=h.measureOwnerWidth(b))){b.setWidth(a.width,false);a.gotWidth=true;++d}}}if(o.shrinkWrap&&b.consumersContentHeight){++g;j=!(p&2);if(n){if(j){a.contentHeight=0;a.gotHeight=true;++d}else if((a.contentHeight=b.getProp("contentHeight"))!==undefined){a.gotHeight=true;++d}}else{e=i.contentHeight;if(typeof e=="number"){a.contentHeight=e;a.gotHeight=true;++d}else{if(j)c=true;else if(!b.hasDomProp("containerChildrenDone"))c=false;else if(q.noWrap)c=true;else if(!m.shrinkWrap)c=(b.bodyContext||b).hasDomProp("width");else if(k||!f||f.widthModel.shrinkWrap)c=true;else c=f.hasDomProp("width");if(c)if(!isNaN(a.contentHeight=j?0:h.measureContentHeight(b))){b.setContentHeight(a.contentHeight,true);a.gotHeight=true;++d}}}}else if(o.natural&&b.consumersHeight){++g;e=i.height;if(typeof e=="number"){a.height=e;a.gotHeight=true;++d}else{if(k||!f)c=true;else c=f.hasDomProp("width");if(c)if(!isNaN(a.height=h.measureOwnerHeight(b))){b.setHeight(a.height,false);a.gotHeight=true;++d}}}f&&b.onBoxMeasured();a.gotAll=d==g;return a},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(c){var a=this,e=a.lastWidthModel,d=a.lastHeightModel,b=a.owner;a.callParent(arguments);e&&e.fixed&&c.widthModel.shrinkWrap&&b.el.setWidth(null);d&&d.fixed&&c.heightModel.shrinkWrap&&b.el.setHeight(null)},calculate:function(b){var a=this,c=a.measureAutoDimensions(b),f=b.heightModel,g=b.widthModel,e,d;if(c.gotWidth)if(g.shrinkWrap)a.publishOwnerWidth(b,c.contentWidth);else a.publishInnerWidth&&a.publishInnerWidth(b,c.width);else if(!g.auto&&a.publishInnerWidth){e=a.waitForOuterWidthInDom?b.getDomProp("width"):b.getProp("width");if(e===undefined)a.done=false;else a.publishInnerWidth(b,e)}if(c.gotHeight)if(f.shrinkWrap)a.publishOwnerHeight(b,c.contentHeight);else a.publishInnerHeight&&a.publishInnerHeight(b,c.height);else if(!f.auto&&a.publishInnerHeight){d=a.waitForOuterHeightInDom?b.getDomProp("height"):b.getProp("height");if(d===undefined)a.done=false;else a.publishInnerHeight(b,d)}if(!c.gotAll)a.done=false},calculateOwnerHeightFromContentHeight:function(b,a){return a+b.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getFrameInfo().width},onConstrainSize:function(d,c){var a=c.heightModel,b=c.widthModel;if(a)d.heightModel=a;if(b)d.widthModel=b},publishOwnerHeight:function(c,h){var b=this,f=b.owner,a=b.calculateOwnerHeightFromContentHeight(c,h),e,d,g;if(isNaN(a))b.done=false;else{d=Ext.Number.constrain(a,f.minHeight,f.maxHeight);if(d==a)g=b.setHeightInDom;else{e=b.sizeModels[d<a?"constrainedMax":"constrainedMin"];a=d;if(c.heightModel.calculatedFromShrinkWrap)c.heightModel=e;else c.invalidate({before:b.onConstrainSize,heightModel:e})}c.setHeight(a,g)}},publishOwnerWidth:function(c,h){var b=this,f=b.owner,a=b.calculateOwnerWidthFromContentWidth(c,h),e,d,g;if(isNaN(a))b.done=false;else{d=Ext.Number.constrain(a,f.minWidth,f.maxWidth);if(d==a)g=b.setWidthInDom;else{e=b.sizeModels[d<a?"constrainedMax":"constrainedMin"];a=d;if(c.widthModel.calculatedFromShrinkWrap)c.widthModel=e;else c.invalidate({before:b.onConstrainSize,widthModel:e})}c.setWidth(a,g)}}});Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",type:"draw",measureContentWidth:function(a){var d=a.target,e=d.surface,b=a.getPaddingInfo(),c=a.surfaceBBox||(a.surfaceBBox=e.items.getBBox());return!d.viewBox?d.autoSize?c.width+b.width:c.x+c.width+b.width:a.heightModel.shrinkWrap?b.width:c.width/c.height*(a.getProp("contentHeight")-b.height)+b.width},measureContentHeight:function(a){var d=a.target,e=d.surface,b=a.getPaddingInfo(),c=a.surfaceBBox||(a.surfaceBBox=e.items.getBBox());return!a.target.viewBox?d.autoSize?c.height+b.height:c.y+c.height+b.height:a.widthModel.shrinkWrap?b.height:c.height/c.width*(a.getProp("contentWidth")-b.width)+b.height},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,true)},publishInnerHeight:function(a,b){a.setContentHeight(b-a.getFrameInfo().height,true)},finishedLayout:function(c){var b=c.props,a=c.getPaddingInfo();this.owner.setSurfaceSize(b.contentWidth-a.width,b.contentHeight-a.height);this.callParent(arguments)}});Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(b){b=b||{};var a=this;Ext.apply(a,b);a.addEvents("statechange");a.state={};a.mixins.observable.constructor.call(a)},"get":function(a,b){return typeof this.state[a]=="undefined"?b:this.state[a]},clear:function(b){var a=this;delete a.state[b];a.fireEvent("statechange",a,b,null)},"set":function(b,c){var a=this;a.state[b]=c;a.fireEvent("statechange",a,b,c)},decodeValue:function(a){var h=this,j=/^(a|n|d|b|s|o|e)\:(.*)$/,e=j.exec(unescape(a)),c,i,g,d,f,b;if(!e||!e[1])return;i=e[1];a=e[2];switch(i){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return a=="1";case"a":c=[];if(a!=""){d=a.split("^");f=d.length;for(b=0;b<f;b++){a=d[b];c.push(h.decodeValue(a))}}return c;case"o":c={};if(a!=""){d=a.split("^");f=d.length;for(b=0;b<f;b++){a=d[b];g=a.split("=");c[g[0]]=h.decodeValue(g[1])}}return c;default:return a}},encodeValue:function(a){var c="",e=0,b,f,d;if(a==null)return"e:1";else if(typeof a=="number")b="n:"+a;else if(typeof a=="boolean")b="b:"+(a?"1":"0");else if(Ext.isDate(a))b="d:"+a.toGMTString();else if(Ext.isArray(a)){for(f=a.length;e<f;e++){c+=this.encodeValue(a[e]);if(e!=f-1)c+="^"}b="a:"+c}else if(typeof a=="object"){for(d in a)if(typeof a[d]!="function"&&a[d]!==undefined)c+=d+"="+this.encodeValue(a[d])+"^";b="o:"+c.substring(0,c.length-1)}else b="s:"+a;return escape(b)}});Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(){var a=this;a.path="/";a.expires=new Date((new Date).getTime()+1e3*60*60*24*7);a.domain=null;a.secure=false;a.callParent(arguments);a.state=a.readCookies()},"set":function(c,b){var a=this;if(typeof b=="undefined"||b===null){a.clear(c);return}a.setCookie(c,b);a.callParent(arguments)},clear:function(a){this.clearCookie(a);this.callParent(arguments)},readCookies:function(){var d={},h=document.cookie+";",g=/\s?(.*?)=(.*?);/g,f=this.prefix,c=f.length,b,a,e;while((b=g.exec(h))!=null){a=b[1];e=b[2];if(a&&a.substring(0,c)==f)d[a.substr(c)]=this.decodeValue(e)}return d},setCookie:function(b,c){var a=this;document.cookie=a.prefix+b+"="+a.encodeValue(c)+(a.expires==null?"":"; expires="+a.expires.toGMTString())+(a.path==null?"":"; path="+a.path)+(a.domain==null?"":"; domain="+a.domain)+(a.secure==true?"; secure":"")},clearCookie:function(b){var a=this;document.cookie=a.prefix+b+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(a.path==null?"":"; path="+a.path)+(a.domain==null?"":"; domain="+a.domain)+(a.secure==true?"; secure":"")}});Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",alias:"state.localstorage",constructor:function(){var a=this;a.callParent(arguments);a.store=a.getStorageObject();a.state=a.readLocalStorage()},readLocalStorage:function(){for(var b=this.store,c=0,g=b.length,f=this.prefix,d=f.length,e={},a;c<g;++c){a=b.key(c);if(a.substring(0,d)==f)e[a.substr(d)]=this.decodeValue(b.getItem(a))}return e},"set":function(c,b){var a=this;a.clear(c);if(typeof b=="undefined"||b===null)return;a.store.setItem(a.prefix+c,a.encodeValue(b));a.callParent(arguments)},clear:function(a){this.store.removeItem(this.prefix+a);this.callParent(arguments)},getStorageObject:function(){try{var a="localStorage"in window&&window.localStorage!==null;if(a)return window.localStorage}catch(b){return false}}});Ext.define("Ext.state.Manager",{singleton:true,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},"get":function(b,a){return this.provider.get(b,a)},"set":function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.state.Manager"],stateful:false,saveDelay:100,constructor:function(b){var a=this;b=b||{};if(b.stateful!==undefined)a.stateful=b.stateful;if(b.saveDelay!==undefined)a.saveDelay=b.saveDelay;a.stateId=a.stateId||b.stateId;if(!a.stateEvents)a.stateEvents=[];b.stateEvents&&a.stateEvents.concat(b.stateEvents);this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");a.mixins.observable.constructor.call(a);if(a.stateful!==false){a.addStateEvents(a.stateEvents);a.initState()}},addStateEvents:function(b){var a=this,e,c,d;if(a.stateful&&a.getStateId()){if(typeof b=="string")b=Array.prototype.slice.call(arguments,0);d=a.stateEventsByName||(a.stateEventsByName={});for(e=b.length;e--;){c=b[e];if(!d[c]){d[c]=1;a.on(c,a.onStateChange,a)}}}},onStateChange:function(){var a=this,c=a.saveDelay,b,d;if(!a.stateful)return;if(c){if(!a.stateTask){b=Ext.state.Stateful;d=b.runner||(b.runner=new Ext.util.TaskRunner);a.stateTask=d.newTask({run:a.saveState,scope:a,interval:c,repeat:1})}a.stateTask.start()}else a.saveState()},saveState:function(){var a=this,d=a.stateful&&a.getStateId(),c=a.hasListeners,b;if(d){b=a.getState()||{};if(!c.beforestatesave||a.fireEvent("beforestatesave",a,b)!==false){Ext.state.Manager.set(d,b);c.statesave&&a.fireEvent("statesave",a,b)}}},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a=this,d=a.stateful&&a.getStateId(),c=a.hasListeners,b;if(d){b=Ext.state.Manager.get(d);if(b){b=Ext.apply({},b);if(!c.beforestaterestore||a.fireEvent("beforestaterestore",a,b)!==false){a.applyState(b);c.staterestore&&a.fireEvent("staterestore",a,b)}}}},savePropToState:function(a,e,f){var b=this,d=b[a],c=b.initialConfig;if(b.hasOwnProperty(a))if(!c||c[a]!==d){if(e)e[f||a]=d;return true}return false},savePropsToState:function(b,c){var d=this,a,e;if(typeof b=="string")d.savePropToState(b,c);else for(a=0,e=b.length;a<e;++a)d.savePropToState(b[a],c);return c},destroy:function(){var a=this,b=a.stateTask;if(b){b.destroy();a.stateTask=null}a.clearListeners()}});Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:true,generation:0,constructor:function(c,b){var a=this;a.items=[];a.map={};a.keys=[];a.length=0;a.allowFunctions=c===true;if(b)a.getKey=b;a.mixins.observable.constructor.call(a)},allowFunctions:false,add:function(e,f){var a=this,c=f,b=e,d;if(arguments.length==1){c=b;b=a.getKey(c)}if(typeof b!="undefined"&&b!==null){d=a.map[b];if(typeof d!="undefined")return a.replace(b,c);a.map[b]=c}a.generation++;a.length++;a.items.push(c);a.keys.push(b);a.hasListeners.add&&a.fireEvent("add",a.length-1,c,b);return c},getKey:function(a){return a.id},replace:function(b,c){var a=this,d,e;if(arguments.length==1){c=arguments[0];b=a.getKey(c)}d=a.map[b];if(typeof b=="undefined"||b===null||typeof d=="undefined")return a.add(b,c);a.generation++;e=a.indexOfKey(b);a.items[e]=c;a.map[b]=c;a.hasListeners.replace&&a.fireEvent("replace",b,d,c);return c},addAll:function(a){var e=this,d=0,c,f,b;if(arguments.length>1||Ext.isArray(a)){c=arguments.length>1?arguments:a;for(f=c.length;d<f;d++)e.add(c[d])}else for(b in a)if(a.hasOwnProperty(b))(e.allowFunctions||typeof a[b]!="function")&&e.add(b,a[b])},each:function(f,e){for(var d=[].concat(this.items),a=0,c=d.length,b;a<c;a++){b=d[a];if(f.call(e||b,b,a,c)===false)break}},eachKey:function(f,e){for(var c=this.keys,d=this.items,a=0,b=c.length;a<b;a++)f.call(e||window,c[a],d[a],a,b)},findBy:function(e,d){for(var f=this.keys,b=this.items,a=0,c=b.length;a<c;a++)if(e.call(d||window,b[a],f[a]))return b[a];return null},find:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.");return this.findBy.apply(this,arguments)},insert:function(d,e,f){var a=this,b=e,c=f;if(arguments.length==2){c=b;b=a.getKey(c)}if(a.containsKey(b)){a.suspendEvents();a.removeAtKey(b);a.resumeEvents()}if(d>=a.length)return a.add(b,c);a.generation++;a.length++;Ext.Array.splice(a.items,d,0,c);if(typeof b!="undefined"&&b!==null)a.map[b]=c;Ext.Array.splice(a.keys,d,0,b);a.hasListeners.add&&a.fireEvent("add",d,c,b);return c},remove:function(a){this.generation++;return this.removeAt(this.indexOf(a))},removeAll:function(a){a=[].concat(a);for(var c=a.length,b=0;b<c;b++)this.remove(a[b]);return this},removeAt:function(b){var a=this,d,c;if(b<a.length&&b>=0){a.length--;d=a.items[b];Ext.Array.erase(a.items,b,1);c=a.keys[b];if(typeof c!="undefined")delete a.map[c];Ext.Array.erase(a.keys,b,1);a.hasListeners.remove&&a.fireEvent("remove",d,c);a.generation++;return d}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},"get":function(a){var b=this,c=b.map[a],d=c!==undefined?c:typeof a=="number"?b.items[a]:undefined;return typeof d!="function"||b.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return typeof this.map[this.getKey(a)]!="undefined"},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){var a=this;a.length=0;a.items=[];a.keys=[];a.map={};a.generation++;a.hasListeners.clear&&a.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(h,f,c,a){var d=this.extractValues(h,f),g=d.length,e=0,b;c=c||0;a=a||a===0?a:g-1;for(b=c;b<=a;b++)e+=d[b];return e},collect:function(j,h,i){for(var f=this.extractValues(j,h),g=f.length,d={},e=[],a,c,b=0;b<g;b++){a=f[b];c=String(a);if((i||!Ext.isEmpty(a))&&!d[c]){d[c]=true;e.push(a)}}return e},extractValues:function(c,b){var a=this.items;if(b)a=Ext.Array.pluck(a,b);return Ext.Array.pluck(a,c)},getRange:function(d,b){var f=this,e=f.items,c=[],a;if(e.length<1)return c;d=d||0;b=Math.min(typeof b=="undefined"?f.length-1:b,f.length-1);if(d<=b)for(a=d;a<=b;a++)c[c.length]=e[a];else for(a=d;a>=b;a--)c[c.length]=e[a];return c},filter:function(b,e,f,d){var a=[],c;if(Ext.isString(b))a.push(new Ext.util.Filter({property:b,value:e,anyMatch:f,caseSensitive:d}));else if(Ext.isArray(b)||b instanceof Ext.util.Filter)a=a.concat(b);c=function(g){for(var d=true,h=a.length,c,f,e,b=0;b<h;b++){c=a[b];f=c.filterFn;e=c.scope;d=d&&f.call(e,g)}return d};return this.filterBy(c)},filterBy:function(g,f){var b=this,c=new this.self,e=b.keys,d=b.items,h=d.length,a;c.getKey=b.getKey;for(a=0;a<h;a++)g.call(f||b,d[a],e[a])&&c.add(e[a],d[a]);return c},findIndex:function(c,a,e,d,b){if(Ext.isEmpty(a,false))return-1;a=this.createValueMatcher(a,d,b);return this.findIndexBy(function(b){return b&&a.test(b[c])},null,e)},findIndexBy:function(f,e,h){for(var b=this,g=b.keys,c=b.items,a=h||0,d=c.length;a<d;a++)if(f.call(e||b,c[a],g[a]))return a;return-1},createValueMatcher:function(a,e,c,d){if(!a.exec){var b=Ext.String.escapeRegex;a=String(a);if(e===true)a=b(a);else{a="^"+b(a);if(d===true)a+="$"}a=new RegExp(a,c?"":"i")}return a},clone:function(){for(var b=this,c=new this.self,f=b.keys,d=b.items,a=0,e=d.length;a<e;a++)c.add(f[a],d[a]);c.getKey=b.getKey;return c}});Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",getGroupString:function(a){return a.get(this.property)}});Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},constructor:function(b){b=b||{};var a=this,c=b.keyFn;a.addEvents("add","clear","remove","replace");a.mixins.observable.constructor.call(a,b);a.clear(true);if(c)a.getKey=c},getCount:function(){return this.length},getData:function(b,a){if(a===undefined){a=b;b=this.getKey(a)}return[b,a]},getKey:function(a){return a.id},add:function(c,b){var a=this;if(b===undefined){b=c;c=a.getKey(b)}if(a.containsKey(c))return a.replace(c,b);a.map[c]=b;++a.length;a.hasListeners.add&&a.fireEvent("add",a,c,b);return b},replace:function(a,c){var b=this,e=b.map,d;if(c===undefined){c=a;a=b.getKey(c)}!b.containsKey(a)&&b.add(a,c);d=e[a];e[a]=c;b.hasListeners.replace&&b.fireEvent("replace",b,a,c,d);return c},remove:function(b){var a=this.findKey(b);return a!==undefined?this.removeAtKey(a):false},removeAtKey:function(b){var a=this,c;if(a.containsKey(b)){c=a.map[b];delete a.map[b];--a.length;a.hasListeners.remove&&a.fireEvent("remove",a,b,c);return true}return false},"get":function(a){return this.map[a]},clear:function(b){var a=this;a.map={};a.length=0;b!==true&&a.hasListeners.clear&&a.fireEvent("clear",a);return a},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(d){var c=[],a,b=this.map;for(a in b)b.hasOwnProperty(a)&&c.push(d?a:b[a]);return c},each:function(d,c){var b=Ext.apply({},this.map),a,e=this.length;c=c||this;for(a in b)if(b.hasOwnProperty(a))if(d.call(c,a,b[a],e)===false)break;return this},clone:function(){var b=new this.self,c=this.map,a;b.suspendEvents();for(a in c)c.hasOwnProperty(a)&&b.add(a,c[a]);b.resumeEvents();return b},findKey:function(c){var a,b=this.map;for(a in b)if(b.hasOwnProperty(a)&&b[a]===c)return a;return undefined}});Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap;this.types={}},"get":function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,d){var b=a[this.typeName]||a.type||d,c=this.types[b];return new c(a)},onAvailable:function(e,c,b){var a=this.all,d;if(a.containsKey(e)){d=a.get(e);c.call(b||d,d)}else a.on("add",function(g,f,d){if(f==e){c.call(b||d,d);a.un("add",c,b)}})},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.ComponentManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ComponentMgr",singleton:true,typeName:"xtype",create:function(a,b){return typeof a=="string"?Ext.widget(a):a.isComponent?a:Ext.widget(a.xtype||b,a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b;a.prototype[this.typeName]=b}});Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement"],mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate",elementCt:"Ext.util.ElementContainer",renderable:"Ext.util.Renderable",state:"Ext.state.Stateful"},uses:["Ext.PluginManager","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentQuery","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(b){var a=this.runningLayoutContext||this.pendingLayouts;a&&a.cancelComponent(b)},flushLayouts:function(){var b=this,a=b.pendingLayouts;if(a&&a.invalidQueue.length){b.pendingLayouts=null;b.runningLayoutContext=a;Ext.override(a,{runComplete:function(){b.runningLayoutContext=null;return this.callParent()}});a.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount)a&&this.flushLayouts()},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(b,e){var a=this,c=a.runningLayoutContext,d;if(c)c.queueInvalidate(b);else{d=a.pendingLayouts||(a.pendingLayouts=new Ext.layout.Context);d.queueInvalidate(b);!e&&!a.layoutSuspendCount&&!b.isLayoutSuspended()&&a.flushLayouts()}}},isComponent:true,getAutoId:function(){this.autoGenId=true;return++Ext.AbstractComponent.AUTO_ID},deferLayouts:false,autoGenId:false,renderTpl:"{%this.renderContent(out,values)%}",frameSize:{left:0,top:0,right:0,bottom:0,width:0,height:0},tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:false,disabled:false,draggable:false,floating:false,hideMode:"display",styleHtmlContent:false,styleHtmlCls:Ext.baseCSSPrefix+"html",autoShow:false,autoRender:false,allowDomMove:true,rendered:false,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:true,_isLayoutRoot:false,constructor:function(b){var a=this,c,e,d;if(b){Ext.apply(a,b);d=a.xhooks;if(d){delete a.xhooks;Ext.override(a,d)}}else b={};a.initialConfig=b;a.mixins.elementCt.constructor.call(a);a.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur");a.getId();a.setupProtoEl();if(a.cls){a.initialCls=a.cls;a.protoEl.addCls(a.cls)}if(a.style){a.initialStyle=a.style;a.protoEl.setStyle(a.style)}a.mons=[];a.renderData=a.renderData||{};a.renderSelectors=a.renderSelectors||{};if(a.plugins){a.plugins=[].concat(a.plugins);a.constructPlugins()}if(!a.hasListeners)a.hasListeners=new a.HasListeners;a.initComponent();Ext.ComponentManager.register(a);a.mixins.observable.constructor.call(a);a.mixins.state.constructor.call(a,b);this.addStateEvents("resize");if(a.plugins){a.plugins=[].concat(a.plugins);for(c=0,e=a.plugins.length;c<e;c++)a.plugins[c]=a.initPlugin(a.plugins[c])}a.loader=a.getLoader();a.renderTo&&a.render(a.renderTo);a.autoShow&&a.show()},initComponent:function(){this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var b=this,a=null,c=b.getSizeModel();if(c.width.configured)a=b.addPropertyToState(a,"width");if(c.height.configured)a=b.addPropertyToState(a,"height");return a},addPropertyToState:function(d,a,c){var b=this,e=arguments.length;if(e==3||b.hasOwnProperty(a)){if(e<3)c=b[a];if(c!==b.initialConfig[a])(d||(d={}))[a]=c}return d},show:Ext.emptyFn,animate:function(b){var a=this,d,e,g,j,c,n,m,i,l,h,k,f;b=b||{};c=b.to||{};if(Ext.fx.Manager.hasFxBlock(a.id))return a;d=Ext.isDefined(c.width);if(d)j=Ext.Number.constrain(c.width,a.minWidth,a.maxWidth);e=Ext.isDefined(c.height);if(e)g=Ext.Number.constrain(c.height,a.minHeight,a.maxHeight);if(!b.dynamic&&(d||e)){i=(b.from?b.from.width:undefined)||a.getWidth();l=i;h=(b.from?b.from.height:undefined)||a.getHeight();k=h;f=false;if(e&&g>h){k=g;f=true}if(d&&j>i){l=j;f=true}if(f){n=!Ext.isNumber(a.width);m=!Ext.isNumber(a.height);a.setSize(l,k);a.el.setSize(i,h);if(n)delete a.width;if(m)delete a.height}if(d)c.width=j;if(e)c.height=g}return a.mixins.animate.animate.apply(a,arguments)},onHide:function(){this.updateLayout({isRoot:false})},onShow:function(){this.updateLayout({isRoot:false})},constructPlugin:function(a){if(a.ptype&&typeof a.init!="function"){a.cmp=this;a=Ext.PluginManager.create(a)}else if(typeof a=="string")a=Ext.PluginManager.create({ptype:a,cmp:this});return a},constructPlugins:function(){var d=this,b=d.plugins,a,c;if(b)for(a=0,c=b.length;a<c;a++)b[a]=d.constructPlugin(b[a])},initPlugin:function(a){a.init(this);return a},updateAria:Ext.emptyFn,registerFloatingItem:function(b){var a=this;if(!a.floatingItems)a.floatingItems=new Ext.ZIndexManager(a);a.floatingItems.register(b)},unregisterFloatingItem:function(b){var a=this;a.floatingItems&&a.floatingItems.unregister(b)},layoutSuspendCount:0,suspendLayouts:function(){var a=this;if(!a.rendered)return;if(++a.layoutSuspendCount==1)a.suspendLayout=true},resumeLayouts:function(b){var a=this;if(!a.rendered)return;if(!--a.layoutSuspendCount){a.suspendLayout=false;b&&!a.isLayoutSuspended()&&a.updateLayout(b)}},setupProtoEl:function(){var a=this,b=[a.baseCls,a.getComponentLayout().targetCls];if(Ext.isDefined(a.cmpCls)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.");a.componentCls=a.cmpCls;delete a.cmpCls}if(a.componentCls)b.push(a.componentCls);else a.componentCls=a.baseCls;a.protoEl=new Ext.util.ProtoElement({cls:b.join(" ")})},setUI:function(g){for(var a=this,f=Ext.Array.clone(a.uiCls),e=[],b=[],d,c=0;c<f.length;c++){d=f[c];b=b.concat(a.removeClsWithUI(d,true));e.push(d)}b.length&&a.removeCls(b);a.removeUIFromElement();a.ui=g;a.addUIToElement();b=[];for(c=0;c<e.length;c++){d=e[c];b=b.concat(a.addClsWithUI(d,true))}b.length&&a.addCls(b);a.rendered&&a.updateLayout()},addClsWithUI:function(a,g){var b=this,d=[],f,e=0,c;if(typeof a==="string")a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a);f=a.length;b.uiCls=Ext.Array.clone(b.uiCls);for(;e<f;e++){c=a[e];if(c&&!b.hasUICls(c)){b.uiCls.push(c);d=d.concat(b.addUIClsToElement(c))}}g!==true&&b.addCls(d);return d},removeClsWithUI:function(a,g){var c=this,e=[],d=0,f,b;if(typeof a==="string")a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a);f=a.length;for(d=0;d<f;d++){b=a[d];if(b&&c.hasUICls(b)){c.uiCls=Ext.Array.remove(c.uiCls,b);e=e.concat(c.removeUIClsFromElement(b))}}g!==true&&c.removeCls(e);return e},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(h){var a=this,i=a.baseCls+"-"+a.ui+"-"+h,k=[Ext.baseCSSPrefix+h,a.baseCls+"-"+h,i],g=a.frameElementCls,f,j,d,c,b,e;if(a.frame&&!Ext.supports.CSS3BorderRadius){f=a.frameElementsArray;j=f.length;d=0;for(;d<j;d++){b=f[d];c=a["frame"+b.toUpperCase()];e=i+"-"+b;if(c&&c.dom)c.addCls(e);else Ext.Array.indexOf(g[b],e)==-1&&g[b].push(e)}}a.frameElementCls=g;return k},removeUIClsFromElement:function(g){var a=this,h=a.baseCls+"-"+a.ui+"-"+g,k=[Ext.baseCSSPrefix+g,a.baseCls+"-"+g,h],j=a.frameElementCls,e,i,d,b,c,f;if(a.frame&&!Ext.supports.CSS3BorderRadius){e=a.frameElementsArray;i=e.length;d=0;for(;d<i;d++){c=e[d];b=a["frame"+c.toUpperCase()];f=h+"-"+c;if(b&&b.dom)b.addCls(f);else Ext.Array.remove(j[c],f)}}a.frameElementCls=j;return k},addUIToElement:function(){var a=this,h=a.baseCls+"-"+a.ui,i=a.frameElementCls,f,g,c,e,b,d;a.addCls(h);if(a.frame&&!Ext.supports.CSS3BorderRadius){f=a.frameElementsArray;g=f.length;c=0;for(;c<g;c++){b=f[c];e=a["frame"+b.toUpperCase()];d=h+"-"+b;if(e)e.addCls(d);else!Ext.Array.contains(i[b],d)&&i[b].push(d)}}},removeUIFromElement:function(){var a=this,h=a.baseCls+"-"+a.ui,i=a.frameElementCls,e,g,c,d,b,f;a.removeCls(h);if(a.frame&&!Ext.supports.CSS3BorderRadius){e=a.frameElementsArray;g=e.length;c=0;for(;c<g;c++){b=e[c];d=a["frame"+b.toUpperCase()];f=h+"-"+b;if(d)d.removeCls(f);else Ext.Array.remove(i[b],f)}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(b){var a=this,g=Ext.Element,f=a.padding,e=a.margin,i=a.x,h=a.y,c,d;f!==undefined&&b.setStyle("padding",g.unitizeBox(f===true?5:f));e!==undefined&&b.setStyle("margin",g.unitizeBox(e===true?5:e));a.border!==undefined&&a.setBorder(a.border,b);if(a.cls&&a.cls!=a.initialCls){b.addCls(a.cls);delete a.cls;delete a.initialCls}if(a.style&&a.style!=a.initialStyle){b.setStyle(a.style);delete a.style;delete a.initialStyle}i!==undefined&&b.setStyle("left",i+"px");h!==undefined&&b.setStyle("top",h+"px");if(!a.getFrameInfo()&&Ext.isBorderBox){c=a.width;d=a.height;c!==undefined&&b.setStyle("width",typeof c==="number"?c+"px":c);d!==undefined&&b.setStyle("height",typeof d==="number"?d+"px":d)}},initEvents:function(){var b=this,d=b.afterRenderEvents,a,c,e=function(c){b.mon(a,c)};if(d)for(c in d)if(d.hasOwnProperty(c)){a=b[c];a&&a.on&&Ext.each(d[c],e)}b.addFocusListener()},addFocusListener:function(){var b=this,a=b.getFocusEl(),c;if(a){if(a.isComponent)return a.addFocusListener();c=a.needsTabIndex();if(!b.focusListenerAdded&&(!c||Ext.FocusManager.enabled)){if(c)a.dom.tabIndex=-1;a.on({focus:b.onFocus,blur:b.onBlur,scope:b});b.focusListenerAdded=true}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var a=this,b;if(a.focusable!==false&&(b=a.getFocusEl())&&a.rendered&&!a.destroying&&!a.isDestroyed&&!a.disabled&&a.isVisible(true))return b.isComponent?b.isFocusable():b&&b.dom&&b.isVisible()},preFocus:Ext.emptyFn,onFocus:function(d){var a=this,c=a.focusCls,b=a.getFocusEl();if(!a.disabled){a.preFocus(d);c&&b&&b.addCls(a.addClsWithUI(c,true));if(!a.hasFocus){a.hasFocus=true;a.fireEvent("focus",a,d)}}},beforeBlur:Ext.emptyFn,onBlur:function(b){var a=this,d=a.focusCls,c=a.getFocusEl();if(a.destroying)return;a.beforeBlur(b);d&&c&&c.removeCls(a.removeClsWithUI(d,true));a.validateOnBlur&&a.validate();a.hasFocus=false;a.fireEvent("blur",a,b);a.postBlur(b)},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(b){var a=this.getBubbleTarget();if(b)for(;a;a=a.getBubbleTarget())if(Ext.ComponentQuery.is(a,b))return a;return a},nextSibling:function(c){var e=this.ownerCt,b,d,a,f;if(e){b=e.items;a=b.indexOf(this)+1;if(a)if(c){for(d=b.getCount();a<d;a++)if((f=b.getAt(a)).is(c))return f}else if(a<b.getCount())return b.getAt(a)}return null},previousSibling:function(c){var d=this.ownerCt,b,a,e;if(d){b=d.items;a=b.indexOf(this);if(a!=-1)if(c){for(--a;a>=0;a--)if((e=b.getAt(a)).is(c))return e}else if(a)return b.getAt(--a)}return null},previousNode:function(d,g){var b=this,a,f,e,c;if(g&&b.is(d))return b;if(b.ownerCt){for(f=b.ownerCt.items.items,e=Ext.Array.indexOf(f,b)-1;e>-1;e--){c=f[e];if(c.query){a=c.query(d);a=a[a.length-1];if(a)return a;if(c.is(d))return c}}return b.ownerCt.previousNode(d,true)}},nextNode:function(d,h){var b=this,f,a,g,e,c;if(h&&b.is(d))return b;if(b.ownerCt){for(a=b.ownerCt.items,e=a.indexOf(b)+1,a=a.items,g=a.length;e<g;e++){c=a[e];if(c.is(d))return c;if(c.down){f=c.down(d);if(f)return f}}return b.ownerCt.nextNode(d)}},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowStyle:function(){var a=this,b=null;if(typeof a.autoScroll=="boolean")b={overflow:a.autoScroll?"auto":""};else if(a.overflowX!==undefined||a.overflowY!==undefined)b={"overflow-x":a.overflowX||"","overflow-y":a.overflowY||""};if(b&&(Ext.isIE6||Ext.isIE7))b.position="relative";return b},isXType:function(a,b){return b?this.xtype===a:this.xtypesMap[a]},getXTypes:function(){var c=this.self,b,a,d;if(!c.xtypes){b=[];a=this;while(a){d=a.xtypes;d!==undefined&&b.unshift.apply(b,d);a=a.superclass}c.xtypeChain=b;c.xtypes=b.join("/")}return c.xtypes},update:function(b,d,c){var a=this;if(a.tpl&&!Ext.isString(b)){a.data=b;a.rendered&&a.tpl[a.tplWriteMode](a.getTargetEl(),b||{})}else{a.html=Ext.isObject(b)?Ext.DomHelper.markup(b):b;a.rendered&&a.getTargetEl().update(a.html,d,c)}a.rendered&&a.updateLayout()},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(e){var b=this,d=b,c=b.rendered&&!b.hidden,a=b.ownerCt;b.hiddenAncestor=false;if(b.destroyed)return false;if(e&&c&&a)while(a){if(a.hidden||a.collapsed&&!(a.getDockedItems&&Ext.Array.contains(a.getDockedItems(),d))){b.hiddenAncestor=a;c=false;break}d=a;a=a.ownerCt}return c},onBoxReady:function(){var a=this;if(a.disableOnBoxReady)a.onDisable();else a.enableOnBoxReady&&a.onEnable();a.resizable&&a.initResizable(a.resizable);a.draggable&&a.initDraggable()},enable:function(b){var a=this;delete a.disableOnBoxReady;a.removeCls(a.disabledCls);if(a.rendered)a.onEnable();else a.enableOnBoxReady=true;a.disabled=false;delete a.resetDisable;b!==true&&a.fireEvent("enable",a);return a},disable:function(b){var a=this;delete a.enableOnBoxReady;a.addCls(a.disabledCls);if(a.rendered)a.onDisable();else a.disableOnBoxReady=true;a.disabled=true;if(b!==true){delete a.resetDisable;a.fireEvent("disable",a)}return a},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=false;this.unmask()}},onDisable:function(){if(this.maskOnDisable){this.el.dom.disabled=true;this.mask()}},mask:function(){var b=this.lastBox,c=this.getMaskTarget(),a=[];if(b)a[2]=b.height;c.mask.apply(c,a)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;b.addCls.apply(b,arguments);return a},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(){var a=this,b=a.rendered?a.el:a.protoEl;b.removeCls.apply(b,arguments);return a},addOverCls:function(){var a=this;!a.disabled&&a.el.addCls(a.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(b,c,g,d){var a=this,f,e;if(Ext.isString(b)&&(Ext.isObject(c)||d&&d.element)){if(d.element){f=c;c={};c[b]=f;b=d.element;if(g)c.scope=g;for(e in d)if(d.hasOwnProperty(e))if(a.eventOptionsRe.test(e))c[e]=d[e]}if(a[b]&&a[b].on)a.mon(a[b],c);else{a.afterRenderEvents=a.afterRenderEvents||{};if(!a.afterRenderEvents[b])a.afterRenderEvents[b]=[];a.afterRenderEvents[b].push(c)}}return a.mixins.observable.addListener.apply(a,arguments)},removeManagedListenerItem:function(d,a,h,g,f,e){var c=this,b=a.options?a.options.element:null;if(b){b=c[b];if(b&&b.un)if(d||a.item===h&&a.ename===g&&(!f||a.fn===f)&&(!e||a.scope===e)){b.un(a.ename,a.fn,a.scope);!d&&Ext.Array.remove(c.managedListeners,a)}}else return c.mixins.observable.removeManagedListenerItem.apply(c,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(b,c){var a=this;a.ownerCt=b;a.hasListeners.added&&a.fireEvent("added",a,b,c)},onRemoved:function(){var a=this;a.hasListeners.removed&&a.fireEvent("removed",a,a.ownerCt);delete a.ownerCt;delete a.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(b,c){var a=this;if(b&&typeof b=="object"){c=b.height;b=b.width}if(typeof b=="number")a.width=Ext.Number.constrain(b,a.minWidth,a.maxWidth);else if(b===null)delete a.width;if(typeof c=="number")a.height=Ext.Number.constrain(c,a.minHeight,a.maxHeight);else if(c===null)delete a.height;a.rendered&&a.isVisible()&&a.updateLayout({isRoot:false});return a},isLayoutRoot:function(){var a=this,b=a.ownerLayout;return!b||a._isLayoutRoot||a.floating?true:b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout)return true;b=a.ownerLayout;if(!b)break;a=b.owner}return false},updateLayout:function(b){var a=this,d,c=b&&b.isRoot;if(!a.rendered||a.layoutSuspendCount||a.suspendLayout)return;if(a.hidden)Ext.AbstractComponent.cancelLayout(a);else if(typeof c!="boolean")c=a.isLayoutRoot();if(c||!a.ownerLayout||!a.ownerLayout.onContentChange(a))if(!a.isLayoutSuspended()){d=b&&b.hasOwnProperty("defer")?b.defer:a.deferLayouts;Ext.AbstractComponent.updateLayout(a,d)}},getSizeModel:function(f){var c=this,a=Ext.layout.SizeModel,k=c.componentLayout.ownerContext,h,i,d,j,g,b,e;if(k){e=k.widthModel;d=k.heightModel}if(!e||!d){h=typeof c.width=="number";i=typeof c.height=="number";if(c.floating||!(j=c.ownerLayout)){if(h)e=a.configured;if(i)d=a.configured;g=Ext.layout.Layout.prototype.autoSizePolicy;b=c.floating?3:c.shrinkWrap}else{g=j.getItemSizePolicy(c,f);b=j.isItemShrinkWrap(c)}b=b===true?3:b||0;if(b!==3){if(!f)f=c.ownerCt&&c.ownerCt.getSizeModel();if(f)b|=(f.width.shrinkWrap?1:0)|(f.height.shrinkWrap?2:0)}if(!e)if(!g.setsWidth)if(h)e=a.configured;else e=b&1?a.shrinkWrap:a.natural;else if(g.readsWidth)if(h)e=a.calculatedFromConfigured;else e=b&1?a.calculatedFromShrinkWrap:a.calculatedFromNatural;else e=a.calculated;if(!d)if(!g.setsHeight)if(i)d=a.configured;else d=b&2?a.shrinkWrap:a.natural;else if(g.readsHeight)if(i)d=a.calculatedFromConfigured;else d=b&2?a.calculatedFromShrinkWrap:a.calculatedFromNatural;else d=a.calculated}return{width:e,height:d}},isDescendant:function(b){if(b.isContainer)for(var a=this.ownerCt;a;a=a.ownerCt)if(a===b)return true;return false},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(b){var a=this.componentLayout;a&&a.isLayout&&a!=b&&a.setOwner(null);this.componentLayout=b;b.setOwner(this)},getComponentLayout:function(){var a=this;(!a.componentLayout||!a.componentLayout.isLayout)&&a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent"));return a.componentLayout},afterComponentLayout:function(c,b,d,e){var a=this;++a.componentLayoutCounter===1&&a.afterFirstLayout(c,b);a.hasListeners.resize&&(c!==d||b!==e)&&a.fireEvent("resize",a,c,b,d,e)},beforeComponentLayout:function(){return true},setPosition:function(d,e,c){var b=this,a=b.beforeSetPosition.apply(b,arguments);if(a&&b.rendered){a=b.convertPosition(a);if(c){b.stopAnimation();b.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(b.afterSetPosition,b,[a.left,a.top])},to:a},c))}else{if(a.left!==undefined&&a.top!==undefined)b.el.setLeftTop(a.left,a.top);else if(a.left!==undefined)b.el.setLeft(a.left);else a.top!==undefined&&b.el.setTop(a.top);b.afterSetPosition(a.left,a.top)}}return b},beforeSetPosition:function(b,c,e){var a,d;if(!b||Ext.isNumber(b))a={x:b,y:c,anim:e};else if(Ext.isNumber(d=b[0]))a={x:d,y:b[1],anim:c};else a={x:b.x,y:b.y,anim:c};a.hasX=Ext.isNumber(a.x);a.hasY=Ext.isNumber(a.y);this.x=a.x;this.y=a.y;return a.hasX||a.hasY?a:null},afterSetPosition:function(b,c){var a=this;a.onPosition(b,c);a.hasListeners.move&&a.fireEvent("move",a,b,c)},convertPosition:function(a,c){var b={},d=Ext.Element;if(a.hasX)b.left=c?d.addUnits(a.x):a.x;if(a.hasY)b.top=c?d.addUnits(a.y):a.y;return b},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var a=this,c=a.autoLoad?Ext.isObject(a.autoLoad)?a.autoLoad:{url:a.autoLoad}:null,b=a.loader||c;if(b){if(!b.isLoader)a.loader=new Ext.ComponentLoader(Ext.apply({target:a,autoLoad:c},b));else b.setTarget(a);return a.loader}return null},setDocked:function(b,c){var a=this;a.dock=b;c&&a.ownerCt&&a.rendered&&a.ownerCt.updateLayout();return a},setBorder:function(a,d){var b=this,c=!!d;if(b.rendered||c){if(!c)d=b.el;if(!a)a=0;else a=Ext.Element.unitizeBox(a===true?1:a);d.setStyle("border-width",a);!c&&b.updateLayout()}b.border=a},onDestroy:function(){var a=this;a.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(a.setSize,a);Ext.destroy(a.componentLayout,a.loadMask,a.floatingItems)},destroy:function(){var a=this,c=a.renderSelectors,b,d;if(!a.isDestroyed)if(!a.hasListeners.beforedestroy||a.fireEvent("beforedestroy",a)!==false){a.destroying=true;a.beforeDestroy();if(a.floating){delete a.floatParent;a.zIndexManager&&a.zIndexManager.unregister(a)}else a.ownerCt&&a.ownerCt.remove&&a.ownerCt.remove(a,false);a.onDestroy();Ext.destroy(a.plugins);a.hasListeners.destroy&&a.fireEvent("destroy",a);Ext.ComponentManager.unregister(a);a.mixins.state.destroy.call(a);a.clearListeners();if(a.rendered){Ext.AbstractComponent.cancelLayout(a);!a.preserveElOnDestroy&&a.el.remove();a.mixins.elementCt.destroy.call(a);if(c)for(b in c)if(c.hasOwnProperty(b)){d=a[b];if(d){delete a[b];d.remove()}}delete a.el;delete a.frameBody;delete a.rendered}a.destroying=false;a.isDestroyed=true}},getPlugin:function(c){for(var a=0,b=this.plugins,d=b.length;a<d;a++)if(b[a].pluginId===c)return b[a]},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===a})}},function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(c,b){a.suspendLayouts();c.call(b);a.resumeLayouts(true)}});Ext.define("Ext.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ModelMgr",requires:["Ext.data.association.Association"],singleton:true,typeName:"mtype",associationStack:[],registerType:function(c,a){var d=a.prototype,b;if(d&&d.isModel)b=a;else{if(!a.extend)a.extend="Ext.data.Model";b=Ext.define(c,a)}this.types[c]=b;return b},onModelDefined:function(g){for(var c=this.associationStack,f=c.length,e=[],d,b,a=0;a<f;a++){d=c[a];d.associatedModel==g.modelName&&e.push(d)}for(a=0,f=e.length;a<f;a++){b=e[a];this.types[b.ownerModel].prototype.associations.add(Ext.data.association.Association.create(b));Ext.Array.remove(c,b)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(b){var a=b;if(typeof a=="string")a=this.types[a];return a},create:function(b,a,d){var c=typeof a=="function"?a:this.types[a||b.name];return new c(b,d)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define("Ext.PluginManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.PluginMgr",singleton:true,typeName:"ptype",create:function(a,b){return a.init?a:Ext.createByAlias("plugin."+(a.ptype||b),a)},findByType:function(f,e){var d=[],c=this.types,b,a;for(b in c){if(!c.hasOwnProperty(b))continue;a=c[b];a.type==f&&(!e||e===true&&a.isDefault)&&d.push(a)}return d}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(b){var a=this.targets.get(b);return a?a.fxDefaults:{}},setFxDefaults:function(b,c){var a=this.targets.get(b);if(a)a.fxDefaults=Ext.apply(a.fxDefaults||{},c)},stopAnimation:function(c){var d=this,b=d.getFxQueue(c),a=b.length;while(a){b[a-1].end();a--}},getActiveAnimation:function(b){var a=this.getFxQueue(b);return a&&!!a.length?a[0]:false},hasFxBlock:function(b){var a=this.getFxQueue(b);return a&&a[0]&&a[0].block},getFxQueue:function(a){if(!a)return false;var b=this,d=b.fxQueue[a],c=b.targets.get(a);if(!c)return false;if(!d){b.fxQueue[a]=[];if(c.type!="element")c.target.on("destroy",function(){b.fxQueue[a]=[]})}return b.fxQueue[a]},queueFx:function(a){var e=this,c=a.target,b,d;if(!c)return;b=e.getFxQueue(c.getId());d=b.length;if(d)if(a.concurrent)a.paused=false;else b[d-1].on("afteranimate",function(){a.paused=false});else a.paused=false;a.on("afteranimate",function(){Ext.Array.remove(b,a);if(a.remove)if(c.type=="element"){var d=Ext.get(c.id);d&&d.remove()}},this);b.push(a)}});Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",constructor:function(a){Ext.apply(this,a);this.callParent([a])},add:function(e,c){var a=this,d=a.findKey(c),b;if(d){a.unlinkEntry(b=a.map[d]);b.prev=a.last;b.next=null}else b={prev:a.last,next:null,key:e,value:c};if(a.last)a.last.next=b;else a.first=b;a.last=b;a.callParent([e,b]);a.prune();return c},insertBefore:function(f,d,a){var c=this,e,b;if(a=this.map[this.findKey(a)]){e=c.findKey(d);if(e)c.unlinkEntry(b=c.map[e]);else b={prev:a.prev,next:a,key:f,value:d};if(a.prev)b.prev.next=b;else c.first=b;b.next=a;a.prev=b;c.prune();return d}else return c.add(f,d)},"get":function(b){var a=this.map[b];if(a){a.next&&this.moveToEnd(a);return a.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){if(a.next)a.next.prev=a.prev;else this.last=a.prev;if(a.prev)a.prev.next=a.next;else this.first=a.next;a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last)this.last.next=a;else this.first=a;this.last=a},getArray:function(c){var b=[],a=this.first;while(a){b.push(c?a.key:a.value);a=a.next}return b},each:function(e,c,d){var b=this,a=d?b.last:b.first,f=b.length;c=c||b;while(a){if(e.call(c,a.key,a.value,f)===false)break;a=d?a.prev:a.next}return b},findKey:function(c){var a,b=this.map;for(a in b)if(b.hasOwnProperty(a)&&b[a].value===c)return a;return undefined},prune:function(){var a=this,b=a.maxSize?a.length-a.maxSize:0;if(b>0)for(;a.first&&b;b--)a.removeAtKey(a.first.key)}});Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(a){a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(b,a){if(!Ext.isObject(a))a={x:a,y:a};return this.x<=b.x+a.x&&this.x>=b.x-a.x&&this.y<=b.y+a.y&&this.y>=b.y-a.y},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});Ext.define("Ext.util.Sortable",{isSortable:true,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(false,function(a){return a.id||a.property});b&&a.sorters.addAll(a.decodeSorters(b))},sort:function(b,f,d,g){var a=this,e,h,c;if(Ext.isArray(b)){g=d;d=f;c=b}else if(Ext.isObject(b)){g=d;d=f;c=[b]}else if(Ext.isString(b)){e=a.sorters.get(b);if(!e){e={property:b,direction:f};c=[e]}else if(f===undefined)e.toggle();else e.setDirection(f)}if(c&&c.length){c=a.decodeSorters(c);if(Ext.isString(d))if(d==="prepend"){b=a.sorters.clone().items;a.sorters.clear();a.sorters.addAll(c);a.sorters.addAll(b)}else a.sorters.addAll(c);else{a.sorters.clear();a.sorters.addAll(c)}}if(g!==false){a.onBeforeSort(c);b=a.sorters.items;b.length&&a.doSort(a.generateComparator())}return b},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},createComparator:function(a){return function(e,d){for(var b=a[0].sort(e,d),f=a.length,c=1;c<f;c++)b=b||a[c].sort.call(this,e,d);return b}},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(b){if(!Ext.isArray(b))if(b===undefined)b=[];else b=[b];for(var f=b.length,g=Ext.util.Sorter,e=this.model?this.model.prototype.fields:null,d,a,c=0;c<f;c++){a=b[c];if(!(a instanceof g)){if(Ext.isString(a))a={property:a};Ext.applyIf(a,{root:this.sortRoot,direction:"ASC"});if(a.fn)a.sorterFn=a.fn;if(typeof a=="function")a={sorterFn:a};if(e&&!a.transform){d=e.get(a.property);a.transform=d?d.sortType:undefined}b[c]=new Ext.util.Sorter(a)}}return b},getSorters:function(){return this.sorters.items}});Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var a=this;a.callParent(arguments);a.addEvents("sort");a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(g,i,f){var d=this,a,c,j=String(i).toUpperCase()=="DESC"?-1:1,b=[],h=d.keys,e=d.items;f=f||function(b,a){return b-a};for(a=0,c=e.length;a<c;a++)b[b.length]={key:h[a],value:e[a],index:a};Ext.Array.sort(b,function(c,b){var a=f(c[g],b[g])*j;if(a===0)a=c.index<b.index?-1:1;return a});for(a=0,c=b.length;a<c;a++){e[a]=b[a].value;h[a]=b[a].key}d.fireEvent("sort",d)},sortBy:function(g){for(var d=this,c=d.items,e=d.keys,f=c.length,b=[],a=0;a<f;a++)b[a]={key:e[a],value:c[a],index:a};Ext.Array.sort(b,function(c,b){var a=g(c.value,b.value);if(a===0)a=c.index<b.index?-1:1;return a});for(a=0;a<f;a++){c[a]=b[a].value;e[a]=b[a].key}d.fireEvent("sort",d,c,e)},findInsertionIndex:function(h,d){var g=this,f=g.items,b=0,c=f.length-1,a,e;if(!d)d=g.generateComparator();while(b<=c){a=b+c>>1;e=d(h,f[a]);if(e>=0)b=a+1;else if(e<0)c=a-1}return b},reorder:function(e){var b=this,d=b.items,a=0,h=d.length,c=[],g=[],f;b.suspendEvents();for(f in e)c[e[f]]=d[f];for(a=0;a<h;a++)e[a]==undefined&&g.push(d[a]);for(a=0;a<h;a++)if(c[a]==undefined)c[a]=g.shift();b.clear();b.addAll(c);b.resumeEvents();b.fireEvent("sort",b)},sortByKey:function(a,b){this._sort("key",a,b||function(d,c){var b=String(d).toUpperCase(),a=String(c).toUpperCase();return b>a?1:b<a?-1:0})}});Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},addDocked:function(c,f){var a=this,d=0,b,e;c=a.prepareItems(c);e=c.length;for(;d<e;d++){b=c[d];b.dock=b.dock||"top";if(f!==undefined)a.dockedItems.insert(f+d,b);else a.dockedItems.add(b);if(b.onAdded!==Ext.emptyFn)b.onAdded(a,d);if(a.onDockedAdd!==Ext.emptyFn)a.onDockedAdd(b)}a.rendered&&!a.suspendLayout&&a.updateLayout();return c},destroyDockedItems:function(){var a=this.dockedItems,b;if(a)while(b=a.first())this.removeDocked(b,true)},doRenderDockedItems:function(e,d,g){var f=d.$comp,c=f.componentLayout,b,a;if(c.getDockedItems&&!d.$skipDockedItems){b=c.getDockedItems("render",!g);a=b&&c.getItemsRenderTree(b);a&&Ext.DomHelper.generateMarkup(a,e)}},getDockedComponent:function(a){if(Ext.isObject(a))a=a.getItemId();return this.dockedItems.get(a)},getDockedItems:function(b,c){var a=this.getComponentLayout().getDockedItems("render",c);if(b&&a.length)a=Ext.ComponentQuery.query(b,a);return a},getDockingRefItems:function(d,e){var b=d&&"*,* *",a=this.getDockedItems(b,true),c;a.push.apply(a,e);c=this.getDockedItems(b,false);a.push.apply(a,c);return a},initDockingItems:function(){var a=this,b=a.dockedItems;a.dockedItems=new Ext.util.AbstractMixedCollection(false,a.getComponentId);b&&a.addDocked(b)},insertDocked:function(b,a){this.addDocked(a,b)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(b,e){var a=this,c,d;if(!a.dockedItems.contains(b))return b;c=a.componentLayout;d=c&&a.rendered;if(d)c.onRemove(b);a.dockedItems.remove(b);b.onRemoved();a.onDockedRemove(b);if(e===true||e!==false&&a.autoDestroy)b.destroy();else d&&c.afterRemove(b);!a.destroying&&!a.suspendLayout&&a.updateLayout();return b},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});Ext.define("Ext.data.AbstractStore",{requires:["Ext.util.MixedCollection","Ext.data.proxy.Proxy","Ext.data.Operation","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable",sortable:"Ext.util.Sortable"},statics:{create:function(a){if(!a.isStore){if(!a.type)a.type="store";a=Ext.createByAlias("store."+a.type,a)}return a}},remoteSort:false,remoteFilter:false,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,sortRoot:"data",constructor:function(c){var a=this,b;Ext.apply(a,c);a.removed=[];a.mixins.observable.constructor.apply(a,arguments);a.model=Ext.ModelManager.getModel(a.model);Ext.applyIf(a,{modelDefaults:{}});if(!a.model&&a.fields){a.model=Ext.define("Ext.data.Store.ImplicitModel-"+(a.storeId||Ext.id()),{extend:"Ext.data.Model",fields:a.fields,proxy:a.proxy||a.defaultProxyType});delete a.fields;a.implicitModel=true}a.setProxy(a.proxy||a.model.getProxy());a.proxy.on("metachange",a.onMetaChange,a);if(a.id&&!a.storeId){a.storeId=a.id;delete a.id}a.storeId&&Ext.data.StoreManager.register(a);a.mixins.sortable.initSortable.call(a);b=a.decodeFilters(a.filters);a.filters=new Ext.util.MixedCollection;a.filters.addAll(b)},setProxy:function(a){var b=this;if(a instanceof Ext.data.proxy.Proxy)a.setModel(b.model);else{if(Ext.isString(a))a={type:a};Ext.applyIf(a,{model:b.model});a=Ext.createByAlias("proxy."+a.type,a)}b.proxy=a;return b.proxy},getProxy:function(){return this.proxy},onMetaChange:function(b,a){this.fireEvent("metachange",this,a)},create:function(e,b){var a=this,c=Ext.ModelManager.create(Ext.applyIf(e,a.modelDefaults),a.model.modelName),d;b=b||{};Ext.applyIf(b,{action:"create",records:[c]});d=new Ext.data.Operation(b);a.proxy.create(d,a.onProxyWrite,a);return c},read:function(){return this.load.apply(this,arguments)},update:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:"update",records:b.getUpdatedRecords()});c=new Ext.data.Operation(a);return b.proxy.update(c,b.onProxyWrite,b)},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.action){case"create":b.onCreateRecords(d,a,c);break;case"update":b.onUpdateRecords(d,a,c);break;case"destroy":b.onDestroyRecords(d,a,c)}if(c){b.fireEvent("write",b,a);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}Ext.callback(a.callback,a.scope||b,[d,a,c])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(c,b,a){if(a)this.removed=[]},destroy:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:"destroy",records:b.getRemovedRecords()});c=new Ext.data.Operation(a);return b.proxy.destroy(c,b.onProxyWrite,b)},onBatchOperationComplete:function(b,a){return this.onProxyWrite(a)},onBatchComplete:function(d){var a=this,c=d.operations,e=c.length,b;a.suspendEvents();for(b=0;b<e;b++)a.onProxyWrite(c[b]);a.resumeEvents();a.fireEvent("datachanged",a);a.fireEvent("refresh",a)},onBatchException:function(){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(){},decodeFilters:function(b){if(!Ext.isArray(b))if(b===undefined)b=[];else b=[b];for(var e=b.length,d=Ext.util.Filter,a,c=0;c<e;c++){a=b[c];if(!(a instanceof d)){Ext.apply(a,{root:"data"});if(a.fn)a.filterFn=a.fn;if(typeof a=="function")a={filterFn:a};b[c]=new d(a)}}return b},clearFilter:function(){},isFiltered:function(){},filterBy:function(){},sync:function(d){var a=this,b={},g=a.getNewRecords(),f=a.getUpdatedRecords(),e=a.getRemovedRecords(),c=false;if(g.length>0){b.create=g;c=true}if(f.length>0){b.update=f;c=true}if(e.length>0){b.destroy=e;c=true}if(c&&a.fireEvent("beforesync",b)!==false){d=d||{};a.proxy.batch(Ext.apply(d,{operations:b,listeners:a.getBatchListeners()}))}return a},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException};if(a.batchUpdateMode=="operation")b.operationcomplete=a.onBatchOperationComplete;else b.complete=a.onBatchComplete;return b},save:function(){return this.sync.apply(this,arguments)},load:function(a){var b=this,c;a=a||{};a.action=a.action||"read";a.filters=a.filters||b.filters.items;a.sorters=a.sorters||b.getSorters();c=new Ext.data.Operation(a);if(b.fireEvent("beforeload",b,c)!==false){b.loading=true;b.proxy.read(c,b.onProxyLoad,b)}return b},afterEdit:function(d,c){var a=this,b,e;if(a.autoSync&&!a.autoSyncSuspended){for(b=c.length;b--;)if(d.fields.get(c[b]).persist){e=true;break}e&&a.sync()}a.fireEvent("update",a,d,Ext.data.Model.EDIT,c)},afterReject:function(a){this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a){this.fireEvent("update",this,a,Ext.data.Model.COMMIT,null)},destroyStore:function(){var a=this;if(!a.isDestroyed){a.storeId&&Ext.data.StoreManager.unregister(a);a.clearData();a.data=a.tree=a.sorters=a.filters=a.groupers=null;a.reader&&a.reader.destroyReader();a.proxy=a.reader=a.writer=null;a.clearListeners();a.isDestroyed=true;if(a.implicitModel)Ext.destroy(a.model);else a.model=null}},doSort:function(b){var a=this;if(a.remoteSort)a.load();else{a.data.sortBy(b);a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=true},resumeAutoSync:function(){this.autoSyncSuspended=false}});Ext.define("Ext.data.Errors",{extend:"Ext.util.MixedCollection",isValid:function(){return this.length===0},getByField:function(d){for(var c=[],a,e,b=0;b<this.length;b++){a=this.items[b];a.field==d&&c.push(a)}return c}});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ModelManager","Ext.data.IdGenerator","Ext.data.Field","Ext.data.Errors","Ext.data.Operation","Ext.data.validations","Ext.util.MixedCollection"],compareConvertFields:function(a,b){var d=a.convert&&a.type&&a.convert!==a.type.convert,c=b.convert&&b.type&&b.convert!==b.type.convert;return d&&!c?1:!d&&c?-1:0},itemNameFn:function(a){return a.name},onClassExtended:function(c,d,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(e,c){var z=this,k=Ext.getClassName(e),m=e.prototype,s=e.prototype.superclass,p=c.validations||[],n=c.fields||[],g=c.associations||[],o=function(b,e){var c=0,d,a;if(b){b=Ext.Array.from(b);for(d=b.length;c<d;++c){a=b[c];if(!Ext.isObject(a))a={model:a};a.type=e;g.push(a)}}},w=c.idgen,f=new Ext.util.MixedCollection(false,m.itemNameFn),y=new Ext.util.MixedCollection(false,m.itemNameFn),v=s.validations,t=s.fields,u=s.associations,h,d,i,r=[],l=c.idProperty||e.prototype.idProperty,x=function(d,c,e){var a,b;if(f.events.add.firing){b=d;a=c}else{a=e;b=c.originalIndex}a.originalIndex=b;if(a.mapping===l||a.mapping==null&&a.name===l)a.defaultValue=undefined},j=c.proxy||e.prototype.proxy||e.prototype.defaultProxyType,q=function(){f.sortBy(m.compareConvertFields)};e.modelName=k;m.modelName=k;if(v)p=v.concat(p);c.validations=p;if(t)n=t.items.concat(n);f.on({add:x,replace:x});for(d=0,i=n.length;d<i;++d)f.add(new Ext.data.Field(n[d]));!f.get(l)&&f.add(new Ext.data.Field(l));q();f.on({add:q,replace:q});c.fields=f;if(w)c.idgen=Ext.data.IdGenerator.get(w);o(c.belongsTo,"belongsTo");delete c.belongsTo;o(c.hasMany,"hasMany");delete c.hasMany;o(c.hasOne,"hasOne");delete c.hasOne;if(u)g=u.items.concat(g);for(d=0,i=g.length;d<i;++d)r.push("association."+g[d].type.toLowerCase());j&&!j.isProxy&&r.push("proxy."+(typeof j==="string"?j:j.type));Ext.require(r,function(){Ext.ModelManager.registerType(k,e);for(d=0,i=g.length;d<i;++d){h=g[d];Ext.apply(h,{ownerModel:k,associatedModel:h.model});if(Ext.ModelManager.getModel(h.model)===undefined)Ext.ModelManager.registerDeferredAssociation(h);else y.add(Ext.data.association.Association.create(h))}c.associations=y;b.call(z,e,c,a);e.setProxy(j);Ext.ModelManager.onModelDefined(e)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){if(typeof a=="string")a={type:a};a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this);this.proxy=this.prototype.proxy=a;return a},getProxy:function(){return this.proxy},setFields:function(c,g,f){var e=this,b=e.prototype,a=b.fields,h=c?c.length:0,d=0;if(g)b.idProperty=g;if(f)b.clientIdProperty=f;if(a)a.clear();else a=e.prototype.fields=new Ext.util.MixedCollection(false,function(a){return a.name});for(;d<h;d++)a.add(new Ext.data.Field(c[d]));!a.get(b.idProperty)&&a.add(new Ext.data.Field(b.idProperty));e.fields=a;return a},getFields:function(){return this.prototype.fields.items},load:function(f,a){a=Ext.apply({},a);a=Ext.applyIf(a,{action:"read",id:f});var e=new Ext.data.Operation(a),c=a.scope||this,b=null,d;d=function(d){if(d.wasSuccessful()){b=d.getRecords()[0];Ext.callback(a.success,c,[b,d])}else Ext.callback(a.failure,c,[b,d]);Ext.callback(a.callback,c,[b,d])};this.proxy.read(e,d,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");a.phantom=true;a.internalId=b;return b}},idgen:{isGenerator:true,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:false,dirty:false,persistenceProperty:"data",evented:false,isModel:true,phantom:false,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",constructor:function(f,i,m,l){f=f||{};var a=this,g,j,c,e,b,k,h,d;a.internalId=i||i===0?i:Ext.data.Model.id(a);a.raw=m;if(!a.data)a.data={};a.modified={};if(a.persistanceProperty)a.persistenceProperty=a.persistanceProperty;a[a.persistenceProperty]=l||{};a.mixins.observable.constructor.call(a);if(!l){g=a.fields.items;j=g.length;d=0;h=a[a.persistenceProperty];if(Ext.isArray(f))for(;d<j;d++){c=g[d];e=c.name;b=f[d];if(b===undefined)b=c.defaultValue;if(c.convert)b=c.convert(b,a);if(b!==undefined)h[e]=b}else for(;d<j;d++){c=g[d];e=c.name;b=f[e];if(b===undefined)b=c.defaultValue;if(c.convert)b=c.convert(b,a);if(b!==undefined)h[e]=b}}a.stores=[];if(a.getId())a.phantom=false;else if(a.phantom){k=a.idgen.generate();k!==null&&a.setId(k)}a.dirty=false;a.modified={};typeof a.init=="function"&&a.init();a.id=a.idgen.getRecId(a)},"get":function(a){return this[this.persistenceProperty][a]},_singleProp:{},"set":function(i,q){var a=this,m=a[a.persistenceProperty],n=a.fields,e=a.modified,p=typeof i=="string",h,g,l,o,f,b,j,k,c,d;if(p){d=a._singleProp;d[i]=q}else d=i;for(b in d)if(d.hasOwnProperty(b)){c=d[b];if(n&&(g=n.get(b))&&g.convert)c=g.convert(c,a);h=m[b];if(a.isEqual(h,c))continue;m[b]=c;(f||(f=[])).push(b);if(g&&g.persist)if(e.hasOwnProperty(b)){if(a.isEqual(e[b],c)){delete e[b];a.dirty=false;for(o in e)if(e.hasOwnProperty(o)){a.dirty=true;break}}}else{a.dirty=true;e[b]=h}if(b==a.idProperty){l=true;j=h;k=c}}if(p)delete d[i];l&&a.fireEvent("idchanged",a,j,k);!a.editing&&f&&a.afterEdit(f);return f||null},copyFrom:function(b){if(b){for(var a=this,f=a.fields.items,i=f.length,d,c=0,h=a[a.persistenceProperty],g=b[b.persistenceProperty],e;c<i;c++){d=f[c];e=g[d.name];if(e!==undefined)h[d.name]=e}a.phantom&&!b.phantom&&a.setId(b.getId())}},isEqual:function(b,a){return Ext.isDate(b)&&Ext.isDate(a)?Ext.Date.isEqual(b,a):b===a},beginEdit:function(){var a=this;if(!a.editing){a.editing=true;a.dirtySave=a.dirty;a.dataSave=Ext.apply({},a[a.persistenceProperty]);a.modifiedSave=Ext.apply({},a.modified)}},cancelEdit:function(){var a=this;if(a.editing){a.editing=false;a.modified=a.modifiedSave;a[a.persistenceProperty]=a.dataSave;a.dirty=a.dirtySave;delete a.modifiedSave;delete a.dataSave;delete a.dirtySave}},endEdit:function(d,b){var a=this,c;if(a.editing){a.editing=false;if(!b)b=a.getModifiedFieldNames();c=a.dirty||b.length>0;delete a.modifiedSave;delete a.dataSave;delete a.dirtySave;c&&d!==true&&a.afterEdit(b)}},getModifiedFieldNames:function(){var b=this,e=b.dataSave,c=b[b.persistenceProperty],d=[],a;for(a in c)if(c.hasOwnProperty(a))!b.isEqual(c[a],e[a])&&d.push(a);return d},getChanges:function(){var b=this.modified,c={},a;for(a in b)if(b.hasOwnProperty(a))c[a]=this.get(a);return c},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a=this,e=a.fields.items,f=e.length,d,c,b;a.dirty=true;for(b=0;b<f;b++){d=e[b];if(d.persist){c=d.name;a.modified[c]=a.get(c)}}},reject:function(d){var a=this,c=a.modified,b;for(b in c)if(c.hasOwnProperty(b))if(typeof c[b]!="function")a[a.persistenceProperty][b]=c[b];a.dirty=false;a.editing=false;a.modified={};d!==true&&a.afterReject()},commit:function(b){var a=this;a.phantom=a.dirty=a.editing=false;a.modified={};b!==true&&a.afterCommit()},copy:function(b){var a=this;return new a.self(Ext.apply({},a[a.persistenceProperty]),b)},setProxy:function(a){if(!a.isProxy){if(typeof a==="string")a={type:a};a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this.self);this.proxy=a;return a},getProxy:function(){return this.proxy},validate:function(){var i=new Ext.data.Errors,c=this.validations,h=Ext.data.validations,g,a,e,f,d,b;if(c){g=c.length;for(b=0;b<g;b++){a=c[b];e=a.field||a.name;d=a.type;f=h[d](a,this.get(e));!f&&i.add({field:e,message:a.message||h[d+"Message"]})}}return i},isValid:function(){return this.validate().isValid()},save:function(b){b=Ext.apply({},b);var a=this,h=a.phantom?"create":"update",f=b.scope||a,j=a.stores,e=0,i,c,d,g,k;Ext.apply(b,{records:[a],action:h});g=new Ext.data.Operation(b);k=function(g){d=[a,g];if(g.wasSuccessful()){for(i=j.length;e<i;e++){c=j[e];c.fireEvent("write",c,g);c.fireEvent("datachanged",c)}Ext.callback(b.success,f,d)}else Ext.callback(b.failure,f,d);Ext.callback(b.callback,f,d)};a.getProxy()[h](g,k,a);return a},destroy:function(b){b=Ext.apply({},b);var a=this,f=b.scope||a,i=a.stores,e=0,h,c,d,g,j;Ext.apply(b,{records:[a],action:"destroy"});g=new Ext.data.Operation(b);j=function(g){d=[a,g];if(g.wasSuccessful()){for(h=i.length;e<h;e++){c=i[e];c.fireEvent("write",c,g);c.fireEvent("datachanged",c)}a.clearListeners();Ext.callback(b.success,f,d)}else Ext.callback(b.failure,f,d);Ext.callback(b.callback,f,d)};a.getProxy().destroy(g,j,a);return a},getId:function(){return this.get(this.idProperty)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a);this.phantom=!(a||a===0)},join:function(a){Ext.Array.include(this.stores,a);this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(c){var d=Ext.Array.clone(arguments),f=this.stores,e=0,g=f.length,a,b;d[0]=this;for(;e<g;++e){a=f[e];a&&typeof a[c]=="function"&&a[c].apply(a,d);b=a.treeStore;b&&typeof b[c]=="function"&&b[c].apply(b,d)}},getData:function(f){for(var b=this,e=b.fields.items,g=e.length,d={},a,c=0;c<g;c++){a=e[c].name;d[a]=b.get(a)}f===true&&Ext.apply(d,b.getAssociatedData());return d},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(s,u){for(var t=this,v=t.associations.items,w=v.length,f={},j=[],r=[],o=[],i,k,a,p,l,n,m,q,h,d,e,g,c,b=0;b<w;b++){d=v[b];q=d.associationId;m=s[q];if(m&&m!==u)continue;s[q]=u;g=d.type;c=d.name;if(g=="hasMany"){i=t[d.storeName];f[c]=[];if(i&&i.getCount()>0){k=i.data.items;h=k.length;for(e=0;e<h;e++){a=k[e];f[c][e]=a.getData();j.push(a);r.push(c);o.push(e)}}}else if(g=="belongsTo"||g=="hasOne"){a=t[d.instanceName];if(a!==undefined){f[c]=a.getData();j.push(a);r.push(c);o.push(-1)}}}for(b=0,h=j.length;b<h;++b){a=j[b];p=f[r[b]];l=o[b];n=a.prepareAssociatedData(s,u+1);if(l===-1)Ext.apply(p,n);else Ext.apply(p[l],n)}return f}});Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,uses:["Ext.data.ArrayStore"],register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var e=["field1"],f=!Ext.isArray(a[0]),d=a,b,c;if(f){d=[];for(b=0,c=a.length;b<c;++b)d.push([a[b]])}else for(b=2,c=a[0].length;b<=c;++b)e.push("field"+b);return new Ext.data.ArrayStore({data:d,fields:e,autoDestroy:true,autoCreated:true,expanded:f})}return Ext.isString(a)?this.get(a):Ext.data.AbstractStore.create(a)},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(c,a){var b;if(Ext.isObject(c))a=c;else a.storeId=c;if(a instanceof Ext.data.Store)b=a;else b=new Ext.data.Store(a);return Ext.data.StoreManager.register(b)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});Ext.define("Ext.data.TreeStore",{extend:"Ext.data.AbstractStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.Tree","Ext.data.NodeInterface"],clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootProperty:"children",folderSort:false,constructor:function(b){var a=this,c,d;b=Ext.apply({},b);d=b.fields||a.fields;if(!d)b.fields=[{name:"text",type:"string"}];a.callParent([b]);a.tree=new Ext.data.Tree;a.relayEvents(a.tree,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]);a.tree.on({scope:a,remove:a.onNodeRemove,beforeexpand:a.onBeforeNodeExpand,beforecollapse:a.onBeforeNodeCollapse,append:a.onNodeAdded,insert:a.onNodeAdded,sort:a.onNodeSort});a.onBeforeSort();c=a.root;if(c){delete a.root;a.setRootNode(c)}if(Ext.isDefined(a.nodeParameter)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.");a.nodeParam=a.nodeParameter;delete a.nodeParameter}},setProxy:function(b){var a,c;if(b instanceof Ext.data.proxy.Proxy)c=Ext.isEmpty(b.getReader().root);else if(Ext.isString(b))c=true;else{a=b.reader;c=!(a&&!Ext.isEmpty(a.root))}b=this.callParent(arguments);if(c){a=b.getReader();a.root=this.defaultRootProperty;a.buildExtractors(true)}},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",false)},onBeforeNodeExpand:function(a,c,b){if(a.isLoaded())Ext.callback(c,b||a,[a.childNodes]);else if(a.isLoading())this.on("load",function(){Ext.callback(c,b||a,[a.childNodes])},this,{single:true});else this.read({node:a,callback:function(){Ext.callback(c,b||a,[a.childNodes])}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onBeforeNodeCollapse:function(a,c,b){c.call(b||a,a.childNodes)},onNodeRemove:function(e,b,d){var a=this,c=a.removed;!b.isReplace&&Ext.Array.indexOf(c,b)==-1&&c.push(b);a.autoSync&&!a.autoSyncSuspended&&!d&&a.sync()},onNodeAdded:function(g,a){var b=this,f=b.getProxy(),c=f.getReader(),e=a.raw||a[a.persistenceProperty],d;Ext.Array.remove(b.removed,a);if(!a.isLeaf()){d=c.getRoot(e);if(d){b.fillNode(a,c.extractData(d));delete e[c.root]}}b.autoSync&&!b.autoSyncSuspended&&(a.phantom||a.dirty)&&b.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(a,c){var b=this;a=a||{};if(!a.isModel){Ext.applyIf(a,{id:b.defaultRootId,text:"Root",allowDrag:false});Ext.data.NodeInterface.decorate(b.model);a=Ext.ModelManager.create(a,b.model)}else a.isModel&&!a.isNode&&Ext.data.NodeInterface.decorate(b.model);b.getProxy().getReader().buildExtractors(true);b.tree.setRootNode(a);c!==true&&!a.isLoaded()&&(b.autoLoad===true||a.isExpanded())&&b.load({node:a});return a},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},load:function(c){c=c||{};c.params=c.params||{};var a=this,b=c.node||a.tree.getRootNode(),d;if(!b)b=a.setRootNode({expanded:true},true);if(a.clearOnLoad){a.clearRemovedOnLoad&&a.clearRemoved(b);a.tree.un("remove",a.onNodeRemove,a);b.removeAll(false);a.tree.on("remove",a.onNodeRemove,a)}Ext.applyIf(c,{node:b});c.params[a.nodeParam]=b?b.getId():"root";b&&b.set("loading",true);return a.callParent([c])},clearRemoved:function(h){var d=this,e=d.removed,l=h.getId(),f=e.length,b=f,k={},i=[],j={},a,c,g;if(h===d.getRootNode()){d.removed=[];return}for(;b--;){a=e[b];j[a.getId()]=a}for(b=f;b--;){a=e[b];c=a;while(c&&c.getId()!==l){g=c.get("parentId");c=c.parentNode||d.getNodeById(g)||j[g]}if(c)k[a.getId()]=a}for(b=0;b<f;b++){a=e[b];!k[a.getId()]&&i.push(a)}d.removed=i},fillNode:function(j,a){for(var b=this,f=a?a.length:0,g=b.sorters,e,d=false,k=f&&b.sortOnLoad&&!b.remoteSort&&g&&g.items&&g.items.length,i,h,c=1;c<f;c++){i=a[c];h=a[c-1];d=i[i.persistenceProperty].index!=h[h.persistenceProperty].index;if(d)break}if(k){d&&b.sorters.insert(0,b.indexSorter);e=new Ext.util.MixedCollection;e.addAll(a);e.sort(b.sorters.items);a=e.items;b.sorters.remove(b.indexSorter)}else d&&Ext.Array.sort(a,b.sortByIndex);j.set("loaded",true);for(c=0;c<f;c++)j.appendChild(a[c],undefined,true);return a},sortByIndex:function(b,a){return b[b.persistenceProperty].index-a[a.persistenceProperty].index},onProxyLoad:function(b){var a=this,d=b.wasSuccessful(),c=b.getRecords(),e=b.node,h,i,g,f;a.loading=false;e.set("loading",false);if(d){if(!a.clearOnLoad)c=a.cleanRecords(e,c);c=a.fillNode(e,c)}a.fireEvent("read",a,b.node,c,d);a.fireEvent("load",a,b.node,c,d);Ext.callback(b.callback,b.scope||a,[c,b,d])},cleanRecords:function(h,d){for(var f={},g=h.childNodes,a=0,b=g.length,e=[],c;a<b;++a)f[g[a].getId()]=true;for(a=0,b=d.length;a<b;++a){c=d[a];!f[c.getId()]&&e.push(c)}return e},removeAll:function(){var a=this.getRootNode();a&&a.destroy(true);this.fireEvent("clear",this)},doSort:function(b){var a=this;if(a.remoteSort)a.load();else{a.tree.sort(b,true);a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}a.fireEvent("sort",a)}},function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.util.MixedCollection","Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},doRequest:function(b,d,c){var e=this.getWriter(),a=this.buildRequest(b,d,c);if(b.allowWrite())a=e.write(a);Ext.apply(a,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(a,b,d,c),method:this.getMethod(a),disableCaching:false});Ext.Ajax.request(a);return a},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(d,a,e,b){var c=this;return function(h,g,f){c.processResponse(g,a,d,f,e,b)}}},function(){Ext.data.HttpProxy=this});Ext.define("Ext.data.Store",{extend:"Ext.data.AbstractStore",alias:"store.store",requires:["Ext.data.StoreManager","Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.proxy.Memory","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.LruCache"],uses:["Ext.ModelManager","Ext.util.Grouper"],remoteSort:false,remoteFilter:false,remoteGroup:false,groupField:undefined,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:undefined,currentPage:1,clearOnPageLoad:true,loading:false,sortOnFilter:true,buffered:false,purgePageCount:5,clearRemovedOnLoad:true,defaultPageSize:25,statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index}},onClassExtended:function(e,d,a){var b=d.model,c;if(typeof b=="string"){c=a.onBeforeCreated;a.onBeforeCreated=function(){var d=this,a=arguments;Ext.require(b,function(){c.apply(d,a)})}}},constructor:function(b){b=Ext.Object.merge({},b);var a=this,e=b.groupers||a.groupers,f=b.groupField||a.groupField,d,c;c=b.data||a.data;a.data=new Ext.util.MixedCollection(false,Ext.data.Store.recordIdFn);if(c){a.inlineData=c;delete b.data}if(!e&&f)e=[{property:f,direction:b.groupDir||a.groupDir}];delete b.groupers;a.groupers=new Ext.util.MixedCollection;a.groupers.addAll(a.decodeGroupers(e));this.callParent([b]);if(a.buffered){a.pageMap=new a.PageMap({pageSize:a.pageSize,maxSize:a.purgePageCount,listeners:{clear:a.cancelAllPrefetches,scope:a}});a.pageRequests={};a.sortOnLoad=false;a.filterOnLoad=false}a.groupers.items.length&&a.sort(a.groupers.items,"prepend",false);d=a.proxy;c=a.inlineData;if(!a.buffered&&!a.pageSize)a.pageSize=a.defaultPageSize;if(c){if(d instanceof Ext.data.proxy.Memory){d.data=c;a.read()}else a.add.apply(a,[c]);a.sort();delete a.inlineData}else a.autoLoad&&Ext.defer(a.load,10,a,[typeof a.autoLoad==="object"?a.autoLoad:undefined])},destroy:function(){this.pageMap&&this.pageMap.clear();this.callParent(arguments)},onBeforeSort:function(){var a=this.groupers;a.getCount()>0&&this.sort(a.items,"prepend",false)},decodeGroupers:function(b){if(!Ext.isArray(b))if(b===undefined)b=[];else b=[b];for(var f=b.length,e=Ext.util.Grouper,a,c=[],d=0;d<f;d++){a=b[d];if(!(a instanceof e)){if(Ext.isString(a))a={property:a};a=Ext.apply({root:"data",direction:"ASC"},a);if(a.fn)a.sorterFn=a.fn;if(typeof a=="function")a={sorterFn:a};c.push(new e(a))}else c.push(a)}return c},group:function(c,e){var a=this,f=false,d,b;if(Ext.isArray(c))b=c;else if(Ext.isObject(c))b=[c];else if(Ext.isString(c)){d=a.groupers.get(c);if(!d){d={property:c,direction:e};b=[d]}else if(e===undefined)d.toggle();else d.setDirection(e)}if(b&&b.length){f=true;b=a.decodeGroupers(b);a.groupers.clear();a.groupers.addAll(b)}if(a.remoteGroup)a.load({scope:a,callback:a.fireGroupChange});else{a.sort(null,null,null,f);a.fireGroupChange()}},clearGrouping:function(){for(var a=this,d=a.groupers.items,e=d.length,c,b=0;b<e;b++){c=d[b];a.sorters.remove(c)}a.groupers.clear();if(a.remoteGroup)a.load({scope:a,callback:a.fireGroupChange});else{a.sort();a.fireEvent("groupchange",a,a.groupers)}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(f){for(var h=this.data.items,i=h.length,g=[],e={},d,b,a,c=0;c<i;c++){d=h[c];b=this.getGroupString(d);a=e[b];if(a===undefined){a={name:b,children:[]};g.push(a);e[b]=a}a.children.push(d)}return f?e[f]:g},getGroupsForGrouper:function(h,f){for(var i=h.length,g=[],e,a,c,d,b=0;b<i;b++){c=h[b];a=f.getGroupString(c);if(a!==e){d={name:a,grouper:f,records:[]};g.push(d)}d.records.push(c);e=a}return g},getGroupsForGrouperIndex:function(h,c){var d=this,f=d.groupers,g=f.getAt(c),b=d.getGroupsForGrouper(h,g),e=b.length,a;if(c+1<f.length)for(a=0;a<e;a++)b[a].children=d.getGroupsForGrouperIndex(b[a].records,c+1);for(a=0;a<e;a++)b[a].depth=c;return b},getGroupData:function(b){var a=this;b!==false&&a.sort();return a.getGroupsForGrouperIndex(a.data.items,0)},getGroupString:function(b){var a=this.groupers.first();return a?b.get(a.property):""},insert:function(g,b){var a=this,e=false,d,c,f;b=[].concat(b);for(d=0,f=b.length;d<f;d++){c=a.createModel(b[d]);c.set(a.modelDefaults);b[d]=c;a.data.insert(g+d,c);c.join(a);e=e||c.phantom===true}a.snapshot&&a.snapshot.addAll(b);if(a.requireSort){a.suspendEvents();a.sort();a.resumeEvents()}a.fireEvent("add",a,b,g);a.fireEvent("datachanged",a);a.autoSync&&e&&!a.autoSyncSuspended&&a.sync()},add:function(a){if(!Ext.isArray(a))a=Array.prototype.slice.apply(arguments);else a=a.slice(0);var b=this,c=0,e=a.length,d,f=b.sorters&&b.sorters.items.length;if(f&&e===1)return[b.addSorted(b.createModel(a[0]))];for(;c<e;c++){d=b.createModel(a[c]);a[c]=d}if(f)b.requireSort=true;b.insert(b.data.length,a);delete b.requireSort;return a},addSorted:function(a){var b=this,c=b.data.findInsertionIndex(a,b.generateComparator());b.insert(c,a);return a},createModel:function(a){if(!a.isModel)a=Ext.ModelManager.create(a,this.model);return a},each:function(f,e){for(var d=this.data.items,c=d.length,b,a=0;a<c;a++){b=d[a];if(f.call(e||b,b,a,c)===false)break}},remove:function(c,d){if(!Ext.isArray(c))c=[c];d=d===true;for(var a=this,g=false,e=0,i=c.length,h,f,b;e<i;e++){b=c[e];f=a.data.indexOf(b);a.snapshot&&a.snapshot.remove(b);if(f>-1){h=b.phantom===true;!d&&!h&&a.removed.push(b);b.unjoin(a);a.data.remove(b);g=g||!h;a.fireEvent("remove",a,b,f)}}a.fireEvent("datachanged",a);!d&&a.autoSync&&g&&!a.autoSyncSuspended&&a.sync()},removeAt:function(b){var a=this.getAt(b);a&&this.remove(a)},load:function(a){var b=this;a=a||{};if(typeof a=="function")a={callback:a};a.groupers=a.groupers||b.groupers.items;a.page=a.page||b.currentPage;a.start=a.start!==undefined?a.start:(b.currentPage-1)*b.pageSize;a.limit=a.limit||b.pageSize;a.addRecords=a.addRecords||false;return b.buffered?b.loadToPrefetch(a):b.callParent([a])},onProxyLoad:function(a){var b=this,e=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful();if(e)b.totalCount=e.total;d&&b.loadRecords(c,a);b.loading=false;b.fireEvent("load",b,c,d);b.fireEvent("read",b,c,a.wasSuccessful());Ext.callback(a.callback,a.scope||b,[c,a,d])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(b,f){if(Ext.isString(b))b={property:b,value:f};for(var a=this,d=a.decodeFilters(b),c=0,g=a.sorters.length&&a.sortOnFilter&&!a.remoteSort,e=d.length;c<e;c++)a.filters.replace(d[c]);if(a.remoteFilter)if(a.buffered){a.pageMap.clear();a.loadPage(1)}else{a.currentPage=1;a.load()}else if(a.filters.getCount()){a.snapshot=a.snapshot||a.data.clone();a.data=a.data.filter(a.filters.items);if(g)a.sort();else{a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}}},clearFilter:function(b){var a=this;a.filters.clear();if(a.remoteFilter){if(b)return;if(a.buffered){a.pageMap.clear();a.loadPage(1)}else{a.currentPage=1;a.load()}}else if(a.isFiltered()){a.data=a.snapshot.clone();delete a.snapshot;if(b!==true){a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}}},isFiltered:function(){var a=this.snapshot;return!!a&&a!==this.data},filterBy:function(c,b){var a=this;a.snapshot=a.snapshot||a.data.clone();a.data=a.queryBy(c,b||a);a.fireEvent("datachanged",a);a.fireEvent("refresh",a)},queryBy:function(c,b){var a=this,d=a.snapshot||a.data;return d.filterBy(c,b||a)},loadData:function(d,e){for(var f=this.model,g=d.length,c=[],a,b=0;b<g;b++){a=d[b];if(!(a instanceof Ext.data.Model))a=Ext.ModelManager.create(a,f);c.push(a)}this.loadRecords(c,{addRecords:e})},loadRawData:function(e,d){var a=this,b=a.proxy.reader.read(e),c=b.records;if(b.success){a.totalCount=b.total;a.loadRecords(c,{addRecords:d});a.fireEvent("load",a,c,true)}},loadRecords:function(c,d){var a=this,b=0,f=c.length,g=(d=d||{}).start,e=a.snapshot;if(!d.addRecords){delete a.snapshot;a.clearData(true)}else e&&e.addAll(c);a.data.addAll(c);if(typeof g!="undefined")for(;b<f;b++){c[b].index=g+b;c[b].join(a)}else for(;b<f;b++)c[b].join(a);a.suspendEvents();a.filterOnLoad&&!a.remoteFilter&&a.filter();a.sortOnLoad&&!a.remoteSort&&a.sort();a.resumeEvents();a.fireEvent("datachanged",a);a.fireEvent("refresh",a)},loadPage:function(c,b){var a=this;a.currentPage=c;b=Ext.apply({page:c,start:(c-1)*a.pageSize,limit:a.pageSize,addRecords:!a.clearOnPageLoad},b);if(a.buffered)return a.loadToPrefetch(b);a.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(d){var a=this,b=a.data.items,c=b.length;while(c--)b[c].unjoin(a);a.data.clear();if(d!==true||a.clearRemovedOnLoad)a.removed=[]},loadToPrefetch:function(b){var a=this,c=function(){if(a.rangeCached(b.start,b.limit-1)){a.pageMap.un("pageAdded",c);a.guaranteeRange(b.start,(a.viewSize||a.pageSize)-1)}};a.pageMap.on("pageAdded",c);return a.prefetch(b||{})},prefetch:function(b){var a=this,c=a.pageSize,d;if(c){a.lastPageSize&&c!=a.lastPageSize&&Ext.error.raise("pageSize cannot be dynamically altered");if(!a.pageMap.pageSize)a.pageMap.pageSize=c}else a.pageSize=a.pageMap.pageSize=c=b.limit;a.lastPageSize=c;if(!b.page){b.page=a.getPageFromRecordIndex(b.start);b.start=(b.page-1)*c;b.limit=Math.ceil(b.limit/c)*c}if(!a.pageRequests[b.page]){b=Ext.apply({action:"read",filters:a.filters.items,sorters:a.sorters.items,generation:a.pageMap.generation},b);d=new Ext.data.Operation(b);if(a.fireEvent("beforeprefetch",a,d)!==false){a.loading=true;a.pageRequests[b.page]=a.proxy.read(d,a.onProxyPrefetch,a)}}return a},cancelAllPrefetches:function(){var c=this,a=c.pageRequests,d,b;c.pageMap.events.pageadded&&c.pageMap.events.pageadded.clearListeners();for(b in a)if(a.hasOwnProperty(b)){d=a[b];delete a[b];delete d.callback}},prefetchPage:function(c,e){var a=this,d=a.pageSize||a.defaultPageSize,f=(c-1)*a.pageSize,b=a.totalCount;if(b!==undefined&&a.getCount()===b)return;a.prefetch(Ext.apply({page:c,start:f,limit:d},e))},onProxyPrefetch:function(a){var b=this,e=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful(),f=a.page;if(a.generation===b.pageMap.generation){if(e){b.totalCount=e.total;b.fireEvent("totalcountchange",b.totalCount)}if(f!==undefined)delete b.pageRequests[f];d&&b.cachePage(c,a.page);b.loading=false;b.fireEvent("prefetch",b,c,d,a);Ext.callback(a.callback,a.scope||b,[c,a,d])}},cachePage:function(b,c){var a=this;if(!Ext.isDefined(a.totalCount)){a.totalCount=b.length;a.fireEvent("totalcountchange",a.totalCount)}a.pageMap.addPage(c,b)},rangeCached:function(b,a){return this.pageMap&&this.pageMap.hasRange(b,a)},pageCached:function(a){return this.pageMap&&this.pageMap.hasPage(a)},rangeSatisfied:function(b,a){return this.rangeCached(b,a)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(a){var c=this,f=c.getTotalCount(),e=a.prefetchStart,b=f-1<a.prefetchEnd?f-1:a.prefetchEnd,d;b=Math.max(0,b);d=c.pageMap.getRange(e,b);c.fireEvent("guaranteedrange",d,e,b);a.cb&&a.cb.call(a.scope||c,d,e,b)},prefetchRange:function(f,e){var a=this,d,c,b;if(!a.rangeCached(f,e)){d=a.getPageFromRecordIndex(f);c=a.getPageFromRecordIndex(e);a.pageMap.maxSize=a.purgePageCount?c-d+1+a.purgePageCount:0;for(b=d;b<=c;b++)!a.pageCached(b)&&a.prefetchPage(b)}},guaranteeRange:function(c,b,f,h){b=b>this.totalCount?this.totalCount-1:b;var a=this,g=a.lastRequestStart,d={prefetchStart:c,prefetchEnd:b,cb:f,scope:h},e;a.lastRequestStart=c;if(a.rangeCached(c,b)){if(c<g){c=Math.max(c-a.leadingBufferZone,0);b=Math.min(b+a.trailingBufferZone,a.totalCount-1)}else{c=Math.max(Math.min(c-a.trailingBufferZone,a.totalCount-a.pageSize),0);b=Math.min(b+a.leadingBufferZone,a.totalCount-1)}!a.rangeCached(c,b)&&a.prefetchRange(c,b);a.onGuaranteedRange(d)}else{a.fireEvent("cachemiss",a,c,b);c=Math.min(Math.max(Math.floor(c-(a.leadingBufferZone+a.trailingBufferZone)/2),0),a.totalCount-a.pageSize);b=Math.min(Math.max(Math.ceil(b+(a.leadingBufferZone+a.trailingBufferZone)/2),0),a.totalCount-1);e=function(){if(a.rangeCached(d.prefetchStart,d.prefetchEnd)){a.fireEvent("cachefilled",a,c,b);a.pageMap.un("pageAdded",e);a.onGuaranteedRange(d)}};a.pageMap.on("pageAdded",e);a.prefetchRange(d.prefetchStart,d.prefetchEnd);a.prefetchRange(c,b)}},sort:function(){var a=this,b=a.pageMap;if(a.buffered)if(a.remoteSort){b.clear();a.callParent(arguments)}else a.callParent(arguments);else a.callParent(arguments)},doSort:function(e){var a=this,c,d,b;if(a.remoteSort)if(a.buffered){a.pageMap.clear();a.loadPage(1)}else a.load();else{a.data.sortBy(e);if(!a.buffered){c=a.getRange();d=c.length;b=0;for(;b<d;b++)c[b].index=b}a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}},find:function(e,d,g,f,b,c){var a=this.createFilterFn(e,d,f,b,c);return a?this.data.findIndexBy(a,null,g):-1},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return b!==-1?a.getAt(b):null},createFilterFn:function(d,a,e,b,c){if(Ext.isEmpty(a))return false;a=this.data.createValueMatcher(a,e,b,c);return function(b){return a.test(b.data[d])}},findExact:function(b,a,c){return this.data.findIndexBy(function(c){return c.isEqual(c.get(b),a)},this,c)},findBy:function(b,a,c){return this.data.findIndexBy(b,a,c)},collect:function(c,b,d){var a=this,e=d===true&&a.snapshot?a.snapshot:a.data;return e.collect(c,"data",b)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(b,a){return this.data.getRange(b,a)},getById:function(a){return(this.snapshot||this.data).findBy(function(b){return b.getId()===a})},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(b){var a=b.index;return a||a===0?a:this.indexOf(b)},indexOfId:function(a){return this.indexOf(this.getById(a))},removeAll:function(b){var a=this;a.clearData();a.snapshot&&a.snapshot.clear();a.pageMap&&a.pageMap.clear();b!==true&&a.fireEvent("clear",a)},first:function(b){var a=this;return b&&a.isGrouped()?a.aggregate(function(a){return a.length?a[0]:undefined},a,true):a.data.first()},last:function(b){var a=this;return b&&a.isGrouped()?a.aggregate(function(b){var a=b.length;return a?b[a-1]:undefined},a,true):a.data.last()},sum:function(b,c){var a=this;return c&&a.isGrouped()?a.aggregate(a.getSum,a,true,[b]):a.getSum(a.data.items,b)},getSum:function(b,e){for(var c=0,a=0,d=b.length;a<d;++a)c+=b[a].get(e);return c},count:function(b){var a=this;return b&&a.isGrouped()?a.aggregate(function(a){return a.length},a,true):a.getCount()},min:function(b,c){var a=this;return c&&a.isGrouped()?a.aggregate(a.getMin,a,true,[b]):a.getMin(a.data.items,b)},getMin:function(b,f){var c=1,e=b.length,d,a;if(e>0)a=b[0].get(f);for(;c<e;++c){d=b[c].get(f);if(d<a)a=d}return a},max:function(b,c){var a=this;return c&&a.isGrouped()?a.aggregate(a.getMax,a,true,[b]):a.getMax(a.data.items,b)},getMax:function(b,f){var c=1,e=b.length,d,a;if(e>0)a=b[0].get(f);for(;c<e;++c){d=b[c].get(f);if(d>a)a=d}return a},average:function(b,c){var a=this;return c&&a.isGrouped()?a.aggregate(a.getAverage,a,true,[b]):a.getAverage(a.data.items,b)},getAverage:function(a,e){var b=0,c=a.length,d=0;if(a.length>0){for(;b<c;++b)d+=a[b].get(e);return d/c}return 0},aggregate:function(f,g,i,a){a=a||[];if(i&&this.isGrouped()){for(var d=this.getGroups(),b=0,h=d.length,e={},c;b<h;++b){c=d[b];e[c.name]=f.apply(g||this,[c.children].concat(a))}return e}else return f.apply(g||this,[this.data.items].concat(a))},commitChanges:function(){for(var b=this,c=b.getModifiedRecords(),d=c.length,a=0;a<d;a++)c[a].commit();b.removed.length=0},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){var a=this.data.filterBy(this.filterNewOnly).items;return a.concat(this.getUpdatedRecords())},rejectChanges:function(){for(var c=this,d=c.getRejectRecords(),e=d.length,b=0,a;b<e;b++){a=d[b];a.reject();a.phantom&&c.remove(a)}d=c.removed;e=d.length;for(b=0;b<e;b++){a=d[b];c.insert(a.index||0,a);a.reject()}c.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"});this.prototype.PageMap=new Ext.Class({extend:"Ext.util.LruCache",clear:function(){this.generation=(this.generation||0)+1;this.callParent(arguments)},getPageFromRecordIndex:this.prototype.getPageFromRecordIndex,addPage:function(b,a){this.add(b,a);this.fireEvent("pageAdded",b,a)},getPage:function(a){return this.get(a)},hasRange:function(d,c){for(var a=this.getPageFromRecordIndex(d),b=this.getPageFromRecordIndex(c);a<=b;a++)if(!this.hasPage(a))return false;return true},hasPage:function(a){return!!this.map[a]},getRange:function(d,f){!this.hasRange(d,f)&&Ext.Error.raise("PageMap asked for range which it does not have");for(var a=this,h=a.getPageFromRecordIndex(d),j=a.getPageFromRecordIndex(f),m=(h-1)*a.pageSize,n=j*a.pageSize-1,b=h,c=[],i,l,e,g=0,k;b<=j;b++){if(b==h){i=d-m;e=true}else{i=0;e=false}if(b==j){l=a.pageSize-(n-f);e=true}if(e)Ext.Array.push(c,Ext.Array.slice(a.getPage(b),i,l));else Ext.Array.push(c,a.getPage(b))}for(k=c.length;g<k;g++)c[g].index=d++;return c}})});Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a);this.callParent([a])},loadData:function(a,d){if(this.expandData===true){for(var c=[],b=0,e=a.length;b<e;b++)c[c.length]=[a[b]];a=c}this.callParent([a,d])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.define("Ext.data.BufferStore",{extend:"Ext.data.Store",alias:"store.buffer",sortOnLoad:false,filterOnLoad:false,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}});Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a);this.callParent([a])}});Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a);this.callParent([a])}});Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],node:null,recursive:false,rootVisible:false,constructor:function(a){var b=this,c;a=a||{};Ext.apply(b,a);a.proxy={type:"proxy"};b.callParent([a]);c=b.node;if(c){b.node=null;b.setNode(c)}},setNode:function(b){var a=this;if(a.node&&a.node!=b){a.mun(a.node,{expand:a.onNodeExpand,collapse:a.onNodeCollapse,append:a.onNodeAppend,insert:a.onNodeInsert,remove:a.onNodeRemove,sort:a.onNodeSort,scope:a});a.node=null}if(b){Ext.data.NodeInterface.decorate(b.self);a.removeAll();if(a.rootVisible)a.add(b);else!b.isExpanded()&&a.treeStore.autoLoad!==false&&b.expand();a.mon(b,{expand:a.onNodeExpand,collapse:a.onNodeCollapse,append:a.onNodeAppend,insert:a.onNodeInsert,remove:a.onNodeRemove,sort:a.onNodeSort,scope:a});a.node=b;if(b.isExpanded()&&b.isLoaded())a.onNodeExpand(b,b.childNodes,true)}},onNodeSort:function(b,c){var a=this;if(a.indexOf(b)!==-1||b===a.node&&!a.rootVisible&&b.isExpanded()){a.onNodeCollapse(b,c,true);a.onNodeExpand(b,c,true)}},onNodeExpand:function(d,c,g){var a=this,f=a.indexOf(d)+1,h=c?c.length:0,e,b;if(!a.recursive&&d!==a.node)return;if(d!==this.node&&!a.isVisible(d))return;if(!g&&a.fireEvent("beforeexpand",d,c,f)===false)return;if(h){a.insert(f,c);for(e=0;e<h;e++){b=c[e];if(b.isExpanded())if(b.isLoaded())a.onNodeExpand(b,b.childNodes,true);else{b.set("expanded",false);b.expand()}}}!g&&a.fireEvent("expand",d,c)},onNodeCollapse:function(e,c,f){var a=this,h=c.length,g=a.indexOf(e)+1,d,b;if(!a.recursive&&e!==a.node)return;if(!f&&a.fireEvent("beforecollapse",e,c,g)===false)return;for(d=0;d<h;d++){b=c[d];a.remove(b);if(b.isExpanded())a.onNodeCollapse(b,b.childNodes,true)}!f&&a.fireEvent("collapse",e,c,g)},onNodeAppend:function(f,a,e){var c=this,d,b;if(c.isVisible(a)){if(e===0)d=f;else{b=a.previousSibling;while(b.isExpanded()&&b.lastChild)b=b.lastChild;d=b}c.insert(c.indexOf(d)+1,a);if(!a.isLeaf()&&a.isExpanded())if(a.isLoaded())c.onNodeExpand(a,a.childNodes,true);else{a.set("expanded",false);a.expand()}}},onNodeInsert:function(e,a,d){var b=this,c=this.indexOf(d);if(c!=-1&&b.isVisible(a)){b.insert(c,a);if(!a.isLeaf()&&a.isExpanded())if(a.isLoaded())b.onNodeExpand(a,a.childNodes,true);else{a.set("expanded",false);a.expand()}}},onNodeRemove:function(d,a){var b=this;if(b.indexOf(a)!=-1){if(!a.isLeaf()&&a.isExpanded())b.onNodeCollapse(a,a.childNodes,true);b.remove(a)}},isVisible:function(b){var a=b.parentNode;while(a){if(a===this.node&&!this.rootVisible&&a.isExpanded())return true;if(this.indexOf(a)===-1||!a.isExpanded())return false;a=a.parentNode}return true}});Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a);this.callParent([a])}});Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",appendId:true,batchActions:false,buildUrl:function(c){var b=this,e=c.operation,h=e.records||[],d=h[0],f=b.format,a=b.getUrl(c),g=d?d.getId():e.id;if(b.appendId&&g){if(!a.match(/\/$/))a+="/";a+=g}if(f){if(!a.match(/\.$/))a+=".";a+=f}c.url=a;return b.callParent(arguments)}},function(){Ext.apply(this.prototype,{actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}})});Ext.define("Ext.direct.Manager",{singleton:true,mixins:{observable:"Ext.util.Observable"},requires:["Ext.util.MixedCollection"],statics:{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"}},constructor:function(){var a=this;a.addEvents("event","exception");a.transactions=new Ext.util.MixedCollection;a.providers=new Ext.util.MixedCollection;a.mixins.observable.constructor.call(a)},addProvider:function(a){var b=this,c=arguments,d=0,e;if(c.length>1){for(e=c.length;d<e;++d)b.addProvider(c[d]);return}if(!a.isProvider)a=Ext.create("direct."+a.type+"provider",a);b.providers.add(a);a.on("data",b.onProviderData,b);!a.isConnected()&&a.connect();return a},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var b=this,c=b.providers;a=a.isProvider?a:c.get(a);if(a){a.un("data",b.onProviderData,b);c.remove(a);return a}return null},addTransaction:function(a){this.transactions.add(a);return a},removeTransaction:function(a){a=this.getTransaction(a);this.transactions.remove(a);return a},getTransaction:function(a){return Ext.isObject(a)?a:this.transactions.get(a)},onProviderData:function(e,a){var b=this,c=0,d;if(Ext.isArray(a)){for(d=a.length;c<d;++c)b.onProviderData(e,a[c]);return}if(a.name&&a.name!="event"&&a.name!="exception")b.fireEvent(a.name,a);else a.status===false&&b.fireEvent("exception",a);b.fireEvent("event",a,e)},parseMethod:function(b){if(Ext.isString(b)){var d=b.split("."),c=0,e=d.length,a=window;while(a&&c<e){a=a[d[c]];++c}b=Ext.isFunction(a)?a:null}return b||null}},function(){Ext.Direct=Ext.direct.Manager});Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],paramOrder:undefined,paramsAsHash:true,directFn:undefined,paramOrderRe:/[\s,|]/,constructor:function(){var b=this,d,a,c;b.callParent(arguments);d=b.paramOrder;if(Ext.isString(d))b.paramOrder=d.split(b.paramOrderRe);a=b.directFn;if(a)b.directFn=Ext.direct.Manager.parseMethod(a);c=b.api;for(a in c)if(c.hasOwnProperty(a))c[a]=Ext.direct.Manager.parseMethod(c[a])},doRequest:function(d,g,h){var a=this,i=a.getWriter(),b=a.buildRequest(d,g,h),e=a.api[b.action]||a.directFn,j=b.params,c=[],f;if(d.allowWrite())b=i.write(b);if(d.action=="read"){f=e.directCfg.method;c=f.getArgs(j,a.paramOrder,a.paramsAsHash)}else c.push(b.jsonData);Ext.apply(b,{args:c,directFn:e});c.push(a.createRequestCallback(b,d,g,h),a);e.apply(window,c)},applyEncoding:function(a){return a},createRequestCallback:function(d,a,e,b){var c=this;return function(g,f){c.processResponse(f.status,a,d,f,e,b)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(b,a){b.setException(a.message)},buildUrl:function(){return""}});Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(a){a=Ext.apply({},a);if(!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode");Ext.copyTo(b.reader,a,"totalProperty,root,idProperty");a.proxy=b}this.callParent([a])}});Ext.define("Ext.direct.Event",{alias:"direct.event",requires:["Ext.direct.Manager"],status:true,constructor:function(a){Ext.apply(this,a)},getData:function(){return this.data}});Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}});Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:false});Ext.define("Ext.direct.RemotingProvider",{alias:"direct.remotingprovider",extend:"Ext.direct.JsonProvider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod"],enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(){var a=this;a.callParent(arguments);a.addEvents("beforecall","call");a.namespace=Ext.isString(a.namespace)?Ext.ns(a.namespace):a.namespace||window;a.transactions=new Ext.util.MixedCollection;a.callBuffer=[]},initAPI:function(){var e=this.actions,h=this.namespace,a,b,d,c,g,f;for(a in e)if(e.hasOwnProperty(a)){b=h[a];if(!b)b=h[a]={};d=e[a];for(c=0,g=d.length;c<g;++c){f=new Ext.direct.RemotingMethod(d[c]);b[f.name]=this.createHandler(a,f)}}},createHandler:function(c,b){var d=this,a;if(!b.formHandler)a=function(){d.configureRequest(c,b,Array.prototype.slice.call(arguments,0))};else a=function(e,f,a){d.configureFormRequest(c,b,e,f,a)};a.directCfg={action:c,method:b};return a},isConnected:function(){return!!this.connected},connect:function(){var a=this;if(a.url){a.initAPI();a.connected=true;a.fireEvent("connect",a)}else!a.url},disconnect:function(){var a=this;if(a.connected){a.connected=false;a.fireEvent("disconnect",a)}},runCallback:function(e,a){var d=!!a.status,f=d?"success":"failure",b,c;if(e&&e.callback){b=e.callback;c=Ext.isDefined(a.result)?a.result:a.data;if(Ext.isFunction(b))b(c,a,d);else{Ext.callback(b[f],b.scope,[c,a,d]);Ext.callback(b.callback,b.scope,[c,a,d])}}},onData:function(j,i,h){var b=this,d=0,e,g,c,a,f;if(i){g=b.createEvents(h);for(e=g.length;d<e;++d){c=g[d];a=b.getTransaction(c);b.fireEvent("data",b,c);if(a){b.runCallback(a,c,true);Ext.direct.Manager.removeTransaction(a)}}}else{f=[].concat(j.transaction);for(e=f.length;d<e;++d){a=b.getTransaction(f[d]);if(a&&a.retryCount<b.maxRetries)a.retry();else{c=new Ext.direct.ExceptionEvent({data:null,transaction:a,code:Ext.direct.Manager.self.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:h});b.fireEvent("data",b,c);if(a){b.runCallback(a,c,false);Ext.direct.Manager.removeTransaction(a)}}}}},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},configureRequest:function(h,c,f){var a=this,d=c.getCallData(f),i=d.data,e=d.callback,g=d.scope,b;b=new Ext.direct.Transaction({provider:a,args:f,action:h,method:c.name,data:i,callback:g&&Ext.isFunction(e)?Ext.Function.bind(e,g):e});if(a.fireEvent("beforecall",a,b,c)!==false){Ext.direct.Manager.addTransaction(b);a.queueTransaction(b);a.fireEvent("call",a,b,c)}},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.id}},sendRequest:function(c){var a=this,f={url:a.url,callback:a.onData,scope:a,transaction:c,timeout:a.timeout},b,e=a.enableUrlEncode,d=0,h,g;if(Ext.isArray(c)){b=[];for(h=c.length;d<h;++d)b.push(a.getCallData(c[d]))}else b=a.getCallData(c);if(e){g={};g[Ext.isString(e)?e:"data"]=Ext.encode(b);f.params=g}else f.jsonData=b;Ext.Ajax.request(f)},queueTransaction:function(c){var a=this,b=a.enableBuffer;if(c.form){a.sendFormRequest(c);return}a.callBuffer.push(c);if(b){if(!a.callTask)a.callTask=new Ext.util.DelayedTask(a.combineAndSend,a);a.callTask.delay(Ext.isNumber(b)?b:10)}else a.combineAndSend()},combineAndSend:function(){var a=this.callBuffer,b=a.length;if(b>0){this.sendRequest(b==1?a[0]:a);this.callBuffer=[]}},configureFormRequest:function(i,d,e,a,h){var c=this,b=new Ext.direct.Transaction({provider:c,action:i,method:d.name,args:[e,a,h],callback:h&&Ext.isFunction(a)?Ext.Function.bind(a,h):a,isForm:true}),g,f;if(c.fireEvent("beforecall",c,b,d)!==false){Ext.direct.Manager.addTransaction(b);g=String(e.getAttribute("enctype")).toLowerCase()=="multipart/form-data";f={extTID:b.id,extAction:i,extMethod:d.name,extType:"rpc",extUpload:String(g)};Ext.apply(b,{form:Ext.getDom(e),isUpload:g,params:a&&Ext.isObject(a.params)?Ext.apply(f,a.params):f});c.fireEvent("call",c,b,d);c.sendFormRequest(b)}},sendFormRequest:function(a){Ext.Ajax.request({url:this.url,params:a.params,callback:this.onData,scope:this,form:a.form,isUpload:a.isUpload,transaction:a})}});Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},autoDestroy:false,isCompositeSprite:true,constructor:function(b){var a=this;b=b||{};Ext.apply(a,b);a.addEvents("mousedown","mouseup","mouseover","mouseout","click");a.id=Ext.id(null,"ext-sprite-group-");a.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(b){var a=this;b.on({scope:a,mousedown:a.onMouseDown,mouseup:a.onMouseUp,mouseover:a.onMouseOver,mouseout:a.onMouseOut,click:a.onClick})},add:function(){var a=this.callParent(arguments);this.attachEvents(a);return a},insert:function(){return this.callParent(arguments)},remove:function(b){var a=this;b.un({scope:a,mousedown:a.onMouseDown,mouseup:a.onMouseUp,mouseover:a.onMouseOver,mouseout:a.onMouseOut,click:a.onClick});return a.callParent(arguments)},getBBox:function(){for(var f=0,e,a,j=this.items,i=this.length,d=Infinity,c=d,h=-d,b=d,g=-d,l,k;f<i;f++){e=j[f];if(e.el&&!e.bboxExcluded){a=e.getBBox();c=Math.min(c,a.x);b=Math.min(b,a.y);h=Math.max(h,a.height+a.y);g=Math.max(g,a.width+a.x)}}return{x:c,y:b,height:h-b,width:g-c}},setAttributes:function(d,e){for(var a=0,c=this.items,b=this.length;a<b;a++)c[a].setAttributes(d,e);return this},hide:function(d){for(var a=0,c=this.items,b=this.length;a<b;a++)c[a].hide(d);return this},show:function(d){for(var a=0,c=this.items,b=this.length;a<b;a++)c[a].show(d);return this},redraw:function(){var a=this,b=0,e=a.items,c=a.getSurface(),d=a.length;if(c)for(;b<d;b++)c.renderItem(e[b]);return a},setStyle:function(f){for(var a=0,e=this.items,d=this.length,c,b;a<d;a++){c=e[a];b=c.el;b&&b.setStyle(f)}},addCls:function(e){var a=0,d=this.items,b=this.getSurface(),c=this.length;if(b)for(;a<c;a++)b.addCls(d[a],e)},removeCls:function(e){var a=0,d=this.items,b=this.getSurface(),c=this.length;if(b)for(;a<c;a++)b.removeCls(d[a],e)},getSurface:function(){var a=this.first();return a?a.surface:null},destroy:function(){var a=this,c=a.getSurface(),d=a.autoDestroy,b;if(c)while(a.getCount()>0){b=a.first();a.remove(b);c.remove(b,d)}a.clearListeners()}});Ext.define("Ext.chart.LegendItem",{extend:"Ext.draw.CompositeSprite",requires:["Ext.chart.Shape"],x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(a){this.callParent(arguments);this.createLegend(a)},createLegend:function(p){var a=this,c=p.yFieldIndex,b=a.series,j=b.type,o=a.yFieldIndex,d=a.legend,i=a.surface,s=d.x+a.x,r=d.y+a.y,g,h=a.zIndex,f,e,m,q,k=false,n=Ext.apply(b.seriesStyle,b.style);function l(c){var a=b[c];return Ext.isArray(a)?a[o]:a}e=a.add("label",i.add({type:"text",x:20,y:0,zIndex:(h||0)+2,fill:d.labelColor,font:d.labelFont,text:l("title")||l("yField"),style:{cursor:"pointer"}}));if(j==="line"||j==="scatter"){j==="line"&&a.add("line",i.add({type:"path",path:"M0.5,0.5L16.5,0.5",zIndex:(h||0)+2,"stroke-width":b.lineWidth,"stroke-linejoin":"round","stroke-dasharray":b.dash,stroke:n.stroke||b.getLegendColor(c)||"#000",style:{cursor:"pointer"}}));if(b.showMarkers||j==="scatter"){f=Ext.apply(b.markerStyle,b.markerConfig||{},{fill:b.getLegendColor(c)});a.add("marker",Ext.chart.Shape[f.type](i,{fill:f.fill,x:8.5,y:.5,zIndex:(h||0)+2,radius:f.radius||f.size,style:{cursor:"pointer"}}))}}else a.add("box",i.add({type:"rect",zIndex:(h||0)+2,x:0,y:0,width:12,height:12,fill:b.getLegendColor(c),style:{cursor:"pointer"}}));a.setAttributes({hidden:false},true);g=a.getBBox();m=a.add("mask",i.add({type:"rect",x:g.x,y:g.y,width:g.width||20,height:g.height||20,zIndex:(h||0)+1,fill:a.legend.boxFill,style:{cursor:"pointer"}}));a.on("mouseover",function(){e.setStyle({"font-weight":"bold"});m.setStyle({cursor:"pointer"});b._index=c;b.highlightItem()},a);a.on("mouseout",function(){e.setStyle({"font-weight":d.labelFont&&a.boldRe.test(d.labelFont)?"bold":"normal"});b._index=c;b.unHighlightItem()},a);if(!b.visibleInLegend(c)){k=true;e.setAttributes({opacity:.5},true)}a.on("mousedown",function(){if(!k){b.hideAll(c);e.setAttributes({opacity:.5},true)}else{b.showAll(c);e.setAttributes({opacity:1},true)}k=!k},a);a.updatePosition({x:0,y:0})},updatePosition:function(a){var b=this,e=b.items,f=e.length,d=0,c;if(!a)a=b.legend;for(;d<f;d++){c=e[d];switch(c.type){case"text":c.setAttributes({x:20+a.x+b.x,y:a.y+b.y},true);break;case"rect":c.setAttributes({translate:{x:a.x+b.x,y:a.y+b.y-6}},true);break;default:c.setAttributes({translate:{x:a.x+b.x,y:a.y+b.y}},true)}}}});Ext.define("Ext.chart.Legend",{requires:["Ext.chart.LegendItem"],visible:true,update:true,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(b){var a=this;b&&Ext.apply(a,b);a.items=[];a.isVertical="left|right|float".indexOf(a.position)!==-1;a.origX=a.x;a.origY=a.y},create:function(){var a=this,c=a.chart.series.items,b,e,d;a.createBox();a.rebuild!==false&&a.createItems();if(!a.created&&a.isDisplayed()){a.created=true;for(b=0,e=c.length;b<e;b++){d=c[b];d.on("titlechange",function(){a.create();a.updatePosition()})}}},isDisplayed:function(){return this.visible&&this.chart.series.findIndex("showInLegend",true)!==-1},createItems:function(){var b=this,q=b.chart,t=q.series.items,z,k,C=q.surface,g=b.items,f=b.padding,B=b.itemSpacing,y=2,n=0,l=0,p=0,o=0,c=b.isVertical,v=Math,j=v.floor,x=v.max,D=0,a=0,u=g?g.length:0,F,E,d,h,m,i,s,r,A,w,e;if(u)for(;a<u;a++)g[a].destroy();g.length=[];for(a=0,z=t.length;a<z;a++){k=t[a];if(k.showInLegend){r=[].concat(k.yField);for(e=0,w=r.length;e<w;e++){A=r[e];h=new Ext.chart.LegendItem({legend:this,series:k,surface:q.surface,yFieldIndex:e});m=h.getBBox();s=m.width;i=m.height;if(a+e===0)d=c?f+i/2:f;else d=B/(c?2:1);h.x=j(c?f:p+d);h.y=j(c?o+d:f+i/2);p+=s+d;o+=i+d;n=x(n,s);l=x(l,i);g.push(h)}}}b.width=j((c?n:p)+f*2);if(c&&g.length===1)y=1;b.height=j((c?o-y*d:l)+f*2);b.itemHeight=l},getBBox:function(){var a=this;return{x:Math.round(a.x)-a.boxStrokeWidth/2,y:Math.round(a.y)-a.boxStrokeWidth/2,width:a.width,height:a.height}},createBox:function(){var a=this,c,b;a.boxSprite&&a.boxSprite.destroy();b=a.getBBox();if(isNaN(b.width)||isNaN(b.height)){a.boxSprite=false;return}c=a.boxSprite=a.chart.surface.add(Ext.apply({type:"rect",stroke:a.boxStroke,"stroke-width":a.boxStrokeWidth,fill:a.boxFill,zIndex:a.boxZIndex},b));c.redraw()},updatePosition:function(){var a=this,p=a.items,h,o,e,d,j=a.width||0,i=a.height||0,s=a.padding,k=a.chart,g=k.chartBBox,b=k.insetPadding,r=g.width-b*2,l=g.height-b*2,n=g.x+b,m=g.y+b,q=k.surface,c=Math.floor,f;if(a.isDisplayed()){switch(a.position){case"left":e=b;d=c(m+l/2-i/2);break;case"right":e=c(q.width-j)-b;d=c(m+l/2-i/2);break;case"top":e=c(n+r/2-j/2);d=b;break;case"bottom":e=c(n+r/2-j/2);d=c(q.height-i)-b;break;default:e=c(a.origX)+b;d=c(a.origY)+b}a.x=e;a.y=d;for(h=0,o=p.length;h<o;h++)p[h].updatePosition();f=a.getBBox();if(isNaN(f.width)||isNaN(f.height))a.boxSprite&&a.boxSprite.hide(true);else{!a.boxSprite&&a.createBox();a.boxSprite.setAttributes(f,true);a.boxSprite.show(true)}}},toggle:function(c){var a=this,b=0,d=a.items,e=d.length;if(a.boxSprite)if(c)a.boxSprite.show(true);else a.boxSprite.hide(true);for(;b<e;++b)if(c)d[b].show(true);else d[b].hide(true);a.visible=c}});Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml","Ext.draw.engine.SvgExporter","Ext.draw.engine.ImageExporter"],separatorRe:/[, ]+/,statics:{create:function(d,a){a=a||["Svg","Vml"];for(var b=0,c=a.length,e;b<c;b++)if(Ext.supports[a[b]]!==false)return Ext.create("Ext.draw.engine."+a[b],d);return false},save:function(a,b){var d={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},c=d[a.type]||"Svg";return Ext.draw.engine[c+"Exporter"].self.generate(a,b)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:false,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:undefined,height:352,width:512,x:0,y:0,orderSpritesByZIndex:true,constructor:function(b){var a=this;b=b||{};Ext.apply(a,b);a.domRef=Ext.getDoc().dom;a.customAttributes={};a.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick");a.mixins.observable.constructor.call(a);a.getId();a.initGradients();a.initItems();if(a.renderTo){a.render(a.renderTo);delete a.renderTo}a.initBackground(b.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(b,d,c,a){if(isFinite(b)&&isFinite(d)&&isFinite(c)&&isFinite(a)){this.viewBox={x:b,y:d,width:c,height:a};this.applyViewBox()}},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var b=this.gradients,c=b.length,d=this.addGradient,a;if(b)for(a=0;a<c;a++)if(d.call(this,b[a],a,c)===false)break}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite;this.items.autoDestroy=true;this.groups=new Ext.draw.CompositeSprite;a&&this.add(a)},initBackground:function(a){var b=this,d=b.width,c=b.height,f,e,g;if(Ext.isString(a))a={fill:a};if(a){if(a.gradient){e=a.gradient;f=e.id;b.addGradient(e);b.background=b.add({type:"rect",x:0,y:0,width:d,height:c,fill:"url(#"+f+")",zIndex:-1})}else if(a.fill)b.background=b.add({type:"rect",x:0,y:0,width:d,height:c,fill:a.fill,zIndex:-1});else if(a.image)b.background=b.add({type:"image",x:0,y:0,width:d,height:c,src:a.image,zIndex:-1});b.background.bboxExcluded=true}},setSize:function(){this.applyViewBox()},scrubAttrs:function(e){var a,b={},d={},c=e.attr;for(a in c)if(this.translateAttrs.hasOwnProperty(a)){b[this.translateAttrs[a]]=c[a];d[this.translateAttrs[a]]=true}else if(this.availableAttrs.hasOwnProperty(a)&&!d[a])b[a]=c[a];return b},onClick:function(a){this.processEvent("click",a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a=Array.prototype.slice.call(arguments),c,i,g=a.length>1,f,e,b,h,d;if(g||Ext.isArray(a[0])){f=g?a:a[0];e=[];for(b=0,h=f.length;b<h;b++){d=f[b];d=this.add(d);e.push(d)}return e}c=this.prepareItems(a[0],true)[0];this.insertByZIndex(c);this.onAdd(c);return c},insertByZIndex:function(i){var h=this,c=h.items.items,f=c.length,j=Math.ceil,d=i.attr.zIndex,a=f,b=a-1,g=0,e;if(h.orderSpritesByZIndex&&f&&d<c[b].attr.zIndex){while(g<=b){a=j((g+b)/2);e=c[a].attr.zIndex;if(e>d)b=a-1;else if(e<d)g=a+1;else break}while(a<f&&c[a].attr.zIndex<=d)a++}h.items.insert(a,i);return a},onAdd:function(a){var c=a.group,f=a.draggable,d,e,b;if(c){d=[].concat(c);e=d.length;for(b=0;b<e;b++){c=d[b];this.getGroup(c).add(a)}delete a.group}f&&a.initDraggable()},remove:function(a,e){if(a){this.items.remove(a);for(var c=[].concat(this.groups.items),d=c.length,b=0;b<d;b++)c[b].remove(a);a.onRemove();e===true&&a.destroy()}},removeAll:function(d){for(var b=this.items.items,c=b.length,a=c-1;a>-1;a--)this.remove(b[a],d)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var b=this,e=b.viewBox,c=b.width||1,d=b.height||1,h,g,i,f,k,j,a;if(e&&(c||d)){h=e.x;g=e.y;i=e.width;f=e.height;k=d/f;j=c/i;a=Math.min(j,k);if(i*a<c)h-=(c-i*a)/2/a;if(f*a<d)g-=(d-f*a)/2/a;b.viewBoxShift={dx:-h,dy:-g,scale:a};b.background&&b.background.setAttributes(Ext.apply({},{x:h,y:g,width:c/a,height:d/a},{hidden:false}),true)}else b.background&&c&&d&&b.background.setAttributes(Ext.apply({x:0,y:0,width:c,height:d},{hidden:false}),true)},getBBox:function(a,c){var b=this["getPath"+a.type](a);if(c){a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(b);return a.bbox.plain}a.dirtyTransform&&this.applyTransformations(a,true);a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(b,a.matrix));return a.bbox.transform},transformToViewBox:function(b,c){if(this.viewBoxShift){var d=this,a=d.viewBoxShift;return[b/a.scale-a.dx,c/a.scale-a.dy]}else return[b,c]},applyTransformations:function(a,d){if(a.type=="text"){a.bbox.transform=0;this.transform(a,false)}a.dirtyTransform=false;var c=this,b=a.attr;(b.translation.x!=null||b.translation.y!=null)&&c.translate(a);(b.scaling.x!=null||b.scaling.y!=null)&&c.scale(a);b.rotation.degrees!=null&&c.rotate(a);a.bbox.transform=0;this.transform(a,d);a.transformations=[]},rotate:function(a){var d,e=a.attr.rotation.degrees,c=a.attr.rotation.x,b=a.attr.rotation.y;if(!Ext.isNumber(c)||!Ext.isNumber(b)){d=this.getBBox(a,true);c=!Ext.isNumber(c)?d.x+d.width/2:c;b=!Ext.isNumber(b)?d.y+d.height/2:b}a.transformations.push({type:"rotate",degrees:e,x:c,y:b})},translate:function(a){var b=a.attr.translation.x||0,c=a.attr.translation.y||0;a.transformations.push({type:"translate",x:b,y:c})},scale:function(a){var d,e=a.attr.scaling.x||1,f=a.attr.scaling.y||1,c=a.attr.scaling.centerX,b=a.attr.scaling.centerY;if(!Ext.isNumber(c)||!Ext.isNumber(b)){d=this.getBBox(a,true);c=!Ext.isNumber(c)?d.x+d.width/2:c;b=!Ext.isNumber(b)?d.y+d.height/2:b}a.transformations.push({type:"scale",x:e,y:f,centerX:c,centerY:b})},rectPath:function(d,e,b,c,a){return a?[["M",d+a,e],["l",b-a*2,0],["a",a,a,0,0,1,a,a],["l",0,c-a*2],["a",a,a,0,0,1,-a,a],["l",a*2-b,0],["a",a,a,0,0,1,-a,-a],["l",0,a*2-c],["a",a,a,0,0,1,a,-a],["z"]]:[["M",d,e],["l",b,0],["l",0,c],["l",-b,0],["z"]]},ellipsePath:function(c,d,b,a){if(a==null)a=b;return[["M",c,d],["m",0,-a],["a",b,a,0,1,1,0,2*a],["a",b,a,0,1,1,0,-2*a],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(b){var a=b.attr;return this.ellipsePath(a.x,a.y,a.radius,a.radius)},getPathellipse:function(b){var a=b.attr;return this.ellipsePath(a.x,a.y,a.radiusX||a.width/2||0,a.radiusY||a.height/2||0)},getPathrect:function(b){var a=b.attr;return this.rectPath(a.x||0,a.y||0,a.width||0,a.height||0,a.r||0)},getPathimage:function(b){var a=b.attr;return this.rectPath(a.x||0,a.y||0,a.width,a.height)},getPathtext:function(b){var a=this.getBBoxText(b);return this.rectPath(a.x,a.y,a.width,a.height)},createGroup:function(b){var a=this.groups.get(b);if(!a){a=new Ext.draw.CompositeSprite({surface:this});a.id=b||Ext.id(null,"ext-surface-group-");this.groups.add(a)}return a},getGroup:function(b){var a;if(typeof b=="string"){a=this.groups.get(b);if(!a)a=this.createGroup(b)}else a=b;return a},prepareItems:function(a){a=[].concat(a);var c,b,d;for(b=0,d=a.length;b<d;b++){c=a[b];if(!(c instanceof Ext.draw.Sprite)){c.surface=this;a[b]=this.createItem(c)}else c.surface=this}return a},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var a=this;delete a.domRef;a.background&&a.background.destroy();a.removeAll(true);Ext.destroy(a.groups.items)}});Ext.define("Ext.fx.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){this.items=new Ext.util.MixedCollection;this.mixins.queue.constructor.call(this)},interval:16,forceJS:true,createTarget:function(a){var d=this,c=!d.forceJS&&Ext.supports.Transitions,b;d.useCSS3=c;if(a){if(a.tagName||Ext.isString(a)||a.isFly){a=Ext.get(a);b=new Ext.fx.target["Element"+(c?"CSS":"")](a)}else if(a.dom)b=new Ext.fx.target["Element"+(c?"CSS":"")](a);else if(a.isComposite)b=new Ext.fx.target["CompositeElement"+(c?"CSS":"")](a);else if(a.isSprite)b=new Ext.fx.target.Sprite(a);else if(a.isCompositeSprite)b=new Ext.fx.target.CompositeSprite(a);else if(a.isComponent)b=new Ext.fx.target.Component(a);else return a.isAnimTarget?a:null;d.targets.add(b);return b}else return null},addAnim:function(c){var b=this.items,a=this.task;b.add(c.id,c);if(!a&&b.length){a=this.task={run:this.runner,interval:this.interval,scope:this};Ext.TaskManager.start(a)}},removeAnim:function(d){var a=this,c=a.items,b=a.task;c.removeAtKey(d.id);if(b&&!c.length){Ext.TaskManager.stop(b);delete a.task}},runner:function(){var b=this,d=b.items.getRange(),a=0,e=d.length,c;b.targetArr={};b.timestamp=new Date;for(;a<e;a++){c=d[a];c.isReady()&&b.startAnim(c)}for(a=0;a<e;a++){c=d[a];c.isRunning()&&b.runAnim(c)}b.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(!a)return;var d=this,h=a.target.getId(),e=d.useCSS3&&a.target.type=="element",f=d.timestamp-a.startTime,g=f>=a.duration,b,c;b=this.collectTargetData(a,f,e,g);if(e){a.target.setAttr(b.anims[a.id].attributes,true);d.collectTargetData(a,a.duration,e,g);a.paused=true;b=a.target.target;if(a.target.isComposite)b=a.target.target.last();c={};c[Ext.supports.CSS3TransitionEnd]=a.lastFrame;c.scope=a;c.single=true;b.on(c)}},collectTargetData:function(a,d,e,f){var c=a.target.getId(),b=this.targetArr[c];if(!b)b=this.targetArr[c]={id:c,el:a.target,anims:{}};b.anims[a.id]={id:a.id,anim:a,elapsed:d,isLastFrame:f,attributes:[{duration:a.duration,easing:e&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(d)}]};return b},applyPendingAttrs:function(){var f=this.targetArr,b,d,a,e,c;for(d in f)if(f.hasOwnProperty(d)){b=f[d];for(c in b.anims)if(b.anims.hasOwnProperty(c)){a=b.anims[c];e=a.anim;if(a.attributes&&e.isRunning()){b.el.setAttr(a.attributes,false,a.isLastFrame);a.isLastFrame&&e.lastFrame()}}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(b){var a=this;b=Ext.apply(a,b||{});a.config=b;a.id=Ext.id(null,"ext-animator-");a.addEvents("beforeanimate","keyframe","afteranimate");a.mixins.observable.constructor.call(a,b);a.timeline=[];a.createTimeline(a.keyframes);if(a.target){a.applyAnimator(a.target);Ext.fx.Manager.addAnim(a)}},sorter:function(b,a){return b.pct-a.pct},createTimeline:function(e){var d=this,c=[],k=d.to||{},h=d.duration,j,g,b,i,a,l,m,f;for(a in e)if(e.hasOwnProperty(a)&&d.animKeyFramesRE.test(a)){f={attrs:Ext.apply(e[a],k)};if(a=="from")a=0;else if(a=="to")a=100;f.pct=parseInt(a,10);c.push(f)}Ext.Array.sort(c,d.sorter);i=c.length;for(b=0;b<i;b++){j=c[b-1]?h*(c[b-1].pct/100):0;g=h*(c[b].pct/100);d.timeline.push({duration:g-j,attrs:c[b].attrs})}},applyAnimator:function(j){var b=this,e=[],i=b.timeline,l=b.reverse,f=i.length,a,h,g,k,d,m,c;if(b.fireEvent("beforeanimate",b)!==false){for(c=0;c<f;c++){a=i[c];d=a.attrs;h=d.easing||b.easing;g=d.damper||b.damper;delete d.easing;delete d.damper;a=new Ext.fx.Anim({target:j,easing:h,damper:g,duration:a.duration,paused:true,to:d});e.push(a)}b.animations=e;b.target=a.target;for(c=0;c<f-1;c++){a=e[c];a.nextAnim=e[c+1];a.on("afteranimate",function(){this.nextAnim.paused=false});a.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},b)}e[f-1].on("afteranimate",function(){this.lastFrame()},b)}},start:function(b){var a=this,d=a.delay,c=a.delayStart,e;if(d)if(!c){a.delayStart=b;return}else{e=b-c;if(e<d)return;else b=new Date(c.getTime()+d)}if(a.fireEvent("beforeanimate",a)!==false){a.startTime=b;a.running=true;a.animations[a.keyframeStep].paused=false}},lastFrame:function(){var a=this,c=a.iterations,b=a.currentIteration;b++;if(b<c){a.startTime=new Date;a.currentIteration=b;a.keyframeStep=0;a.applyAnimator(a.target);a.animations[a.keyframeStep].paused=false}else{a.currentIteration=0;a.end()}},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date-a.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(b){var a=this,c;b=b||{};if(b.keyframes)return new Ext.fx.Animator(b);Ext.apply(a,b);if(a.from===undefined)a.from={};a.propHandlers={};a.config=b;a.target=Ext.fx.Manager.createTarget(a.target);a.easingFn=Ext.fx.Easing[a.easing];a.target.dynamic=a.dynamic;if(!a.easingFn){a.easingFn=String(a.easing).match(a.bezierRE);if(a.easingFn&&a.easingFn.length==5){c=a.easingFn;a.easingFn=Ext.fx.CubicBezier.cubicBezier(+c[1],+c[2],+c[3],+c[4])}}a.id=Ext.id(null,"ext-anim-");a.addEvents("beforeanimate","afteranimate","lastframe");a.mixins.observable.constructor.call(a);Ext.fx.Manager.addAnim(a)},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var b=this,i=b.from,e=b.to,h=b.initialFrom||{},g={},f,d,c,a;for(a in e)if(e.hasOwnProperty(a)){f=b.target.getAttr(a,i[a]);d=e[a];if(!Ext.fx.PropertyHandler[a])if(Ext.isObject(d))c=b.propHandlers[a]=Ext.fx.PropertyHandler.object;else c=b.propHandlers[a]=Ext.fx.PropertyHandler.defaultHandler;else c=b.propHandlers[a]=Ext.fx.PropertyHandler[a];g[a]=c.get(f,d,b.damper,h[a],a)}b.currentAttrs=g},start:function(b){var a=this,d=a.delay,c=a.delayStart,e;if(d)if(!c){a.delayStart=b;return}else{e=b-c;if(e<d)return;else b=new Date(c.getTime()+d)}if(a.fireEvent("beforeanimate",a)!==false){a.startTime=b;!a.paused&&!a.currentAttrs&&a.initAttrs();a.running=true;a.frameCount=0}},runAnim:function(c){var a=this,e=a.currentAttrs,d=a.duration,k=a.easingFn,j=a.propHandlers,g={},h,i,b,f;if(c>=d){c=d;f=true}if(a.reverse)c=d-c;for(b in e)if(e.hasOwnProperty(b)){i=e[b];h=f?1:k(c/d);g[b]=j[b].set(i,h)}a.frameCount++;return g},lastFrame:function(){var a=this,c=a.iterations,b=a.currentIteration;b++;if(b<c){if(a.alternate)a.reverse=!a.reverse;a.startTime=new Date;a.currentIteration=b;a.paused=false}else{a.currentIteration=0;a.end();a.fireEvent("lastframe",a,a.startTime)}},endWasCalled:0,end:function(){if(this.endWasCalled++)return;var a=this;a.startTime=0;a.paused=false;a.running=false;Ext.fx.Manager.removeAnim(a);a.fireEvent("afteranimate",a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime])},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true;Ext.define("Ext.chart.Highlight",{requires:["Ext.fx.Anim"],highlight:false,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(a){if(a.highlight)if(a.highlight!==true)this.highlightCfg=Ext.merge(this.highlightCfg,a.highlight)},highlightItem:function(h){if(!h)return;var g=this,b=h.sprite,e=Ext.merge({},g.highlightCfg,g.highlight),j=g.chart.surface,i=g.chart.animate,a,f,d,c;if(!g.highlight||!b||b._highlighted)return;if(b._anim)b._anim.paused=true;b._highlighted=true;if(!b._defaults){b._defaults=Ext.apply({},b.attr);f={};d={};for(a in e){if(!(a in b._defaults))b._defaults[a]=j.availableAttrs[a];f[a]=b._defaults[a];d[a]=e[a];if(Ext.isObject(e[a])){f[a]={};d[a]={};Ext.apply(b._defaults[a],b.attr[a]);Ext.apply(f[a],b._defaults[a]);for(c in b._defaults[a])if(!(c in e[a]))d[a][c]=f[a][c];else d[a][c]=e[a][c];for(c in e[a])if(!(c in d[a]))d[a][c]=e[a][c]}}b._from=f;b._to=d;b._endStyle=d}if(i)b._anim=new Ext.fx.Anim({target:b,from:b._from,to:b._to,duration:150});else b.setAttributes(b._to,true)},unHighlightItem:function(){if(!this.highlight||!this.items)return;for(var e=this,f=e.items,i=f.length,g=Ext.merge({},e.highlightCfg,e.highlight),h=e.chart.animate,d=0,c,b,a;d<i;d++){if(!f[d])continue;a=f[d].sprite;if(a&&a._highlighted){if(a._anim)a._anim.paused=true;c={};for(b in g)if(Ext.isObject(a._defaults[b])){c[b]={};Ext.apply(c[b],a._defaults[b])}else c[b]=a._defaults[b];if(h){a._endStyle=c;a._anim=new Ext.fx.Anim({target:a,to:c,duration:150})}else a.setAttributes(c,true);delete a._highlighted}}},cleanHighlights:function(){if(!this.highlight)return;for(var d=this.group,c=this.markerGroup,a=0,b=d.getCount();a<b;a++)delete d.getAt(a)._defaults;if(c)for(b=c.getCount();a<b;a++)delete c.getAt(a)._defaults}});Ext.define("Ext.layout.Context",{requires:["Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],currentOwnerCtContext:null,remainingLayouts:0,state:0,constructor:function(b){var a=this;Ext.apply(a,b);a.items={};a.layouts={};a.blockCount=0;a.cycleCount=0;a.flushCount=0;a.calcCount=0;a.animateQueue=a.newQueue();a.completionQueue=a.newQueue();a.finalizeQueue=a.newQueue();a.finishQueue=a.newQueue();a.flushQueue=a.newQueue();a.invalidateData={};a.layoutQueue=a.newQueue();a.invalidQueue=[];a.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a;var c=this.getCmp(a.owner);a[b](c)},cancelComponent:function(a,n){for(var d=this,k=a,l=!a.isComponent,o=l?k.length:1,e,g,c,b,m,h,i,j,f=0;f<o;++f){if(l)a=k[f];if(!n){h=d.invalidQueue;g=h.length;if(g){d.invalidQueue=m=[];for(e=0;e<g;++e){i=h[e];j=i.item.target;j!=a&&!j.isDescendant(a)&&m.push(i)}}}b=a.componentLayout;d.cancelLayout(b);if(b.getLayoutItems){c=b.getLayoutItems();c.length&&d.cancelComponent(c,true)}if(a.isContainer&&!a.collapsed){b=a.layout;d.cancelLayout(b);c=b.getVisibleItems();c.length&&d.cancelComponent(c,true)}}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a);b.finalizeQueue.remove(a);b.finishQueue.remove(a);b.layoutQueue.remove(a);a.running&&b.layoutDone(a);a.ownerContext=null},clearTriggers:function(i,g){for(var e=i.id,c=this.triggers[g?"dom":"data"][e],h=c&&c.length||0,f,d,a,b=0;b<h;++b){a=c[b];d=a.item;f=g?d.domTriggers:d.triggers;delete f[a.prop][e]}},finishInvalidate:function(a,e,c){if(a[c]){var b=this,d=b.currentLayout;b.currentLayout=a.layout||null;a[c](e,a);b.currentLayout=d}},flush:function(){var d=this,b=d.flushQueue.clear(),c=b.length,a;if(c){++d.flushCount;for(a=0;a<c;++a)b[a].flush()}},flushAnimations:function(){var d=this,b=d.animateQueue.clear(),c=b.length,a;if(c){for(a=0;a<c;a++)b[a].target.animate!==false&&b[a].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var c=this,d=c.invalidQueue,g=d&&d.length,a,f,e,b;c.invalidQueue=[];if(g){f=[];for(b=0;b<g;++b){a=(e=d[b]).item.target;if(!a.container.isDetachedBody){f.push(a);if(e.options)c.invalidateData[a.id]=e.options}}c.invalidate(f,null)}},flushLayouts:function(e,g,h){var b=this,f=h?b[e].items:b[e].clear(),d=f.length,a,c;if(d){for(a=0;a<d;++a){c=f[a];!c.running&&b.callLayout(c,g)}b.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(b,c){var a=this.getItem(c,c);if(!a.parent){a.parent=b;if(b.children.length)b.children.push(a);else b.children=[a]}return a},getItem:function(e,b){var c=b.id,a=this.items,d=a[c]||(a[c]=new Ext.layout.ContextItem({context:this,target:e,el:b,ownerCtContext:this.currentOwnerCtContext}));return d},handleFailure:function(){var c=this.layouts,b,a;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(a in c){b=c[a];if(c.hasOwnProperty(a)){b.running=false;b.ownerContext=null}}},invalidate:function(j,k,v){var b=this,r=!j.isComponent,t=b.items,u=b.state>0,w=b.currentOwnerCtContext,o,m,n,s,h,l,p,c,a,d,q,g,f,i,e;b.currentOwnerCtContext=k;for(l=0,q=r?j.length:1;l<q;++l){c=r?j[l]:j;if(c.rendered&&!c.hidden){h=!c.componentLayout.ownerContext;a=b.getCmp(c);if(h){c.beforeLayout&&c.beforeLayout();if(u&&!k&&(s=c.ownerCt))k=t[s.el.id];a.init(k)}o=m=n=true;g=c.componentLayout;g.ownerContext=a;if(g.getLayoutItems){g.renderChildren();d=g.getLayoutItems();if(d.length){b.invalidate(d,a,true);o=false}}if(c.isContainer&&!c.collapsed){f=c.layout;f.ownerContext=a;f.renderChildren();n=false;d=f.getVisibleItems();if(d.length){b.invalidate(d,a,true);m=false}}else f=null;if(h){a.hasRawContent=true;if(a.target.isContainer)if(a.target.items.items.length||!a.target.getTargetEl().dom.firstChild)a.hasRawContent=false}else{a.doInvalidate(v);d=a.children;for(p=d.length;p--;)d[p].doInvalidate(true)}i=a.props;if(o){i.componentChildrenDone=true;if(m)i.childrenDone=true}if(m)i.containerChildrenDone=true;if(n)i.containerLayoutDone=true;e=b.invalidateData[a.id];if(e){delete b.invalidateData[a.id];e.state&&Ext.apply(a.state,e.state);b.finishInvalidate(e,a,"before")}b.resetLayout(g,a,h);f&&b.resetLayout(f,a,h);e&&b.finishInvalidate(e,a,"after");if(a.boxChildren&&a.widthModel.shrinkWrap){a.el.setWidth(1e4);a.state.blocks=(a.state.blocks||0)+1}h&&a.initAnimatePolicy()}}b.currentOwnerCtContext=w},layoutDone:function(c){var b=c.ownerContext,a;c.running=false;if(c.isComponentLayout){b.measuresBox&&b.onBoxMeasured();b.setProp("done",true);a=b.ownerCtContext;if(a){if(b.target.ownerLayout.isComponentLayout)!--a.remainingComponentChildLayouts&&a.setProp("componentChildrenDone",true);else!--a.remainingContainerChildLayouts&&a.setProp("containerChildrenDone",true);!--a.remainingChildLayouts&&a.setProp("childrenDone",true)}}else b.setProp("containerLayoutDone",true);--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,d){var c=a[d],e=b[d];return function(d){c&&c.call(a.scope||a,d,a);e.call(b.scope||b,d,b)}},queueInvalidate:function(f,a){var e=this,h=[],k=e.invalidQueue,j=k.length,d,c,g,b,i;if(f.isComponent)f=e.getCmp(d=f);else d=f.target;while(j--){c=k[j];g=c.item.target;if(d.isDescendant(g))return;if(g==d){if(!(b=c.options))c.options=a;else if(a){if(!(i=b.state))b.state=a.state;else a.state&&Ext.apply(i,a.state);if(a.before)b.before=e.chainFns(b,a,"before");if(a.after)b.after=e.chainFns(b,a,"after")}return}!g.isDescendant(d)&&h.push(c)}h.push({item:f,options:a});e.invalidQueue=h},queueItemLayouts:function(b){var c=b.isComponent?b:b.target,a=c.componentLayout;!a.pending&&!a.invalid&&!a.done&&this.queueLayout(a);a=c.layout;a&&!a.pending&&!a.invalid&&!a.done&&this.queueLayout(a)},queueLayout:function(a){this.layoutQueue.add(a);a.pending=true},resetLayout:function(a,d,e){var c=this,b;c.currentLayout=a;a.done=false;a.pending=true;a.firedTriggers=0;c.layoutQueue.add(a);if(e){c.layouts[a.id]=a;a.running=true;a.finishedLayout&&c.finishQueue.add(a);++c.remainingLayouts;++a.layoutCount;a.beginCount=0;a.blockCount=0;a.calcCount=0;a.triggerCount=0;if(a.isComponentLayout&&(b=d.ownerCtContext)){if(d.target.ownerLayout.isComponentLayout)++b.remainingComponentChildLayouts;else++b.remainingContainerChildLayouts;++b.remainingChildLayouts}!a.initialized&&a.initLayout();a.beginLayout(d)}else{++a.beginCount;if(!a.running){++c.remainingLayouts;a.running=true;if(a.isComponentLayout){d.unsetProp("done");b=d.ownerCtContext;if(b){if(d.target.ownerLayout.isComponentLayout)++b.remainingComponentChildLayouts==1&&b.unsetProp("componentChildrenDone");else++b.remainingContainerChildLayouts==1&&b.unsetProp("containerChildrenDone");++b.remainingChildLayouts==1&&b.unsetProp("childrenDone")}}c.completionQueue.remove(a);c.finalizeQueue.remove(a)}}a.beginLayoutCycle(d,e)},run:function(){var a=this,b=false,c=100;a.flushInvalidates();a.state=1;a.totalCount=a.layoutQueue.getCount();a.flush();while((a.remainingLayouts||a.invalidQueue.length)&&c--){a.invalidQueue.length&&a.flushInvalidates();if(a.runCycle())b=false;else if(!b){a.flush();b=true;a.flushLayouts("completionQueue","completeLayout")}else{a.state=2;break}if(!(a.remainingLayouts||a.invalidQueue.length)){a.flush();a.flushLayouts("completionQueue","completeLayout");a.flushLayouts("finalizeQueue","finalizeLayout")}}return a.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return false}a.flush();a.flushLayouts("finishQueue","finishedLayout",true);a.flushLayouts("finishQueue","notifyOwner");a.flush();a.flushAnimations();return true},runCycle:function(){var a=this,c=a.layoutQueue.clear(),d=c.length,b;++a.cycleCount;a.progressCount=0;for(b=0;b<d;++b)a.runLayout(a.currentLayout=c[b]);a.currentLayout=null;return a.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=false;if(c.state.blocks)return;a.done=true;++a.calcCount;++b.calcCount;a.calculate(c);if(a.done){b.layoutDone(a);a.completeLayout&&b.queueCompletion(a);a.finalizeLayout&&b.queueFinalize(a)}else!a.pending&&!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers)&&b.queueLayout(a)},setItemSize:function(a,g,f){var b=a,c=1,e,d;if(a.isComposite){b=a.elements;c=b.length;a=b[0]}else if(!a.dom&&!a.el){c=b.length;a=b[0]}for(d=0;d<c;){e=this.get(a);e.setSize(g,f);a=b[++d]}}});Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:{bindable:"Ext.util.Bindable"},allowDeselect:false,selected:null,pruneRemoved:true,constructor:function(b){var a=this;b=b||{};Ext.apply(a,b);a.addEvents("selectionchange","focuschange");a.modes={SINGLE:true,SIMPLE:true,MULTI:true};a.setSelectionMode(b.mode||a.mode);a.selected=new Ext.util.MixedCollection;a.callParent(arguments)},bindStore:function(c,b){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);a.store&&!b&&a.refresh()},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,remove:a.onStoreRemove,update:a.onStoreUpdate}},selectAll:function(e){var a=this,c=a.store.getRange(),b=0,d=c.length,f=a.getSelection().length;a.bulkChange=true;for(;b<d;b++)a.doSelect(c[b],true,e);delete a.bulkChange;a.maybeFireSelectionChange(a.getSelection().length!==f)},deselectAll:function(e){var a=this,c=a.getSelection(),b=0,d=c.length,f=a.getSelection().length;a.bulkChange=true;for(;b<d;b++)a.doDeselect(c[b],e);delete a.bulkChange;a.maybeFireSelectionChange(a.getSelection().length!==f)},selectWithEvent:function(b,c,d){var a=this;switch(a.selectionMode){case"MULTI":if(c.ctrlKey&&a.isSelected(b))a.doDeselect(b,false);else if(c.shiftKey&&a.lastFocused)a.selectRange(a.lastFocused,b,c.ctrlKey);else if(c.ctrlKey)a.doSelect(b,true,false);else if(a.isSelected(b)&&!c.shiftKey&&!c.ctrlKey&&a.selected.getCount()>1)a.doSelect(b,d,false);else a.doSelect(b,false);break;case"SIMPLE":if(a.isSelected(b))a.doDeselect(b);else a.doSelect(b,true);break;case"SINGLE":if(a.allowDeselect&&a.isSelected(b))a.doDeselect(b);else a.doSelect(b,false)}},selectRange:function(c,a,k,h){var d=this,e=d.store,i=0,b,j,f,g=[];if(d.isLocked())return;!k&&d.deselectAll(true);if(!Ext.isNumber(c))c=e.indexOf(c);if(!Ext.isNumber(a))a=e.indexOf(a);if(c>a){j=a;a=c;c=j}for(b=c;b<=a;b++)if(d.isSelected(e.getAt(b)))i++;if(!h)f=-1;else f=h=="up"?c:a;for(b=c;b<=a;b++)if(i==a-c+1)b!=f&&d.doDeselect(b,true);else g.push(e.getAt(b));d.doMultiSelect(g,true)},select:function(a,c,b){Ext.isDefined(a)&&this.doSelect(a,c,b)},deselect:function(b,a){this.doDeselect(b,a)},doSelect:function(a,e,d){var b=this,c;if(b.locked||!b.store)return;if(typeof a==="number")a=[b.store.getAt(a)];if(b.selectionMode=="SINGLE"&&a){c=a.length?a[0]:a;b.doSingleSelect(c,d)}else b.doMultiSelect(a,e,d)},doMultiSelect:function(b,i,d){var a=this,f=a.selected,h=false,e=0,g,c;if(a.locked)return;b=!Ext.isArray(b)?[b]:b;g=b.length;if(!i&&f.getCount()>0)if(a.doDeselect(a.getSelection(),d)===false)return;function j(){f.add(c);h=true}for(;e<g;e++){c=b[e];if(i&&a.isSelected(c))continue;a.lastSelected=c;a.onSelectChange(c,true,d,j)}!a.preventFocus&&a.setLastFocused(c,d);a.maybeFireSelectionChange(h&&!d)},doDeselect:function(b,h){var a=this,f=a.selected,d=0,g,c,i=0,e=0;if(a.locked||!a.store)return false;if(typeof b==="number")b=[a.store.getAt(b)];else if(!Ext.isArray(b))b=[b];function j(){++e;f.remove(c)}g=b.length;for(;d<g;d++){c=b[d];if(a.isSelected(c)){if(a.lastSelected==c)a.lastSelected=f.last();++i;a.onSelectChange(c,false,h,j)}}a.maybeFireSelectionChange(e>0&&!h);return e===i},doSingleSelect:function(b,c){var a=this,e=false,d=a.selected;if(a.locked)return;if(a.isSelected(b))return;function f(){a.bulkChange=true;if(d.getCount()>0&&a.doDeselect(a.lastSelected,c)===false){delete a.bulkChange;return false}delete a.bulkChange;d.add(b);a.lastSelected=b;e=true}a.onSelectChange(b,true,c,f);if(e){!c&&a.setLastFocused(b);a.maybeFireSelectionChange(!c)}},setLastFocused:function(a,d){var b=this,c=b.lastFocused;b.lastFocused=a;if(a!==c)b.onLastFocusChanged(c,a,d)},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(b){var a=this;b&&!a.bulkChange&&a.fireEvent("selectionchange",a,a.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){for(var a=this,b=[],f=a.getSelection(),h=f.length,d,g,c=0,e=this.getLastFocused();c<h;c++){d=f[c];(!this.pruneRemoved||a.store.indexOf(d)!==-1)&&b.push(d)}if(a.selected.getCount()!=b.length)g=true;a.clearSelections();a.store.indexOf(e)!==-1&&this.setLastFocused(e,true);b.length&&a.doSelect(b,false,true);a.maybeFireSelectionChange(g)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:function(){},onStoreClear:function(){if(this.selected.getCount>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(d,b){var a=this,c=a.selected;if(a.locked||!a.pruneRemoved)return;if(c.remove(b)){if(a.lastSelected==b)a.lastSelected=null;a.getLastFocused()==b&&a.setLastFocused(null);a.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},destroy:function(){},onStoreUpdate:function(){},onSelectChange:function(){},onLastFocusChanged:function(b,a){this.fireEvent("focuschange",this,b,a)},onEditorKey:function(){},bindComponent:function(){}});Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:true,enableKeyNav:true,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(b){var a=this,c={refresh:a.refresh,scope:a};a.view=b;a.bindStore(b.getStore());c[b.triggerEvent]=a.onItemClick;c[b.triggerCtEvent]=a.onContainerClick;b.on(c);a.enableKeyNav&&a.initKeyNav(b)},onItemClick:function(c,a,e,d,b){this.selectWithEvent(a,b)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(b){var a=this;if(!b.rendered){b.on({render:Ext.Function.bind(a.initKeyNav,a,[b]),single:true});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav(b.el,{down:Ext.pass(a.onNavKey,[1],a),right:Ext.pass(a.onNavKey,[1],a),left:Ext.pass(a.onNavKey,[-1],a),up:Ext.pass(a.onNavKey,[-1],a),scope:a})},onNavKey:function(c){c=c||1;var b=this,d=b.view,f=b.getSelection()[0],e=b.view.store.getCount(),a;if(f)a=d.indexOf(d.getNode(f))+c;else a=0;if(a<0)a=e-1;else if(a>=e)a=0;b.select(a)},onSelectChange:function(b,f,e,g){var a=this,c=a.view,d=f?"select":"deselect";if((e||a.fireEvent("before"+d,a,b))!==false&&g()!==false){if(c)if(f)c.onItemSelect(b);else c.onItemDeselect(b);!e&&a.fireEvent(d,a,b)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",requires:["Ext.util.DelayedTask"],uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:false,toFrontOnShow:true,hideMode:"display",hideParent:false,bubbleEvents:[],actionMode:"el",monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,constructor:function(a){var b=this;a=a||{};if(a.initialConfig){if(a.isAction)b.baseAction=a;a=a.initialConfig}else if(a.tagName||a.dom||Ext.isString(a))a={applyTo:a,id:a.id||a};b.callParent([a]);b.baseAction&&b.baseAction.addComponent(b)},initComponent:function(){var a=this;a.callParent();if(a.listeners){a.on(a.listeners);a.listeners=null}a.enableBubble(a.bubbleEvents);a.mons=[]},afterRender:function(){var a=this;a.callParent();!(a.x&&a.y)&&(a.pageX||a.pageY)&&a.setPagePosition(a.pageX,a.pageY)},setAutoScroll:function(b){var a=this;a.autoScroll=!!b;a.rendered&&a.getTargetEl().setStyle(a.getOverflowStyle());a.updateLayout();return a},setOverflowXY:function(d,c){var a=this,b=arguments.length;if(b){a.overflowX=d||"";if(b>1)a.overflowY=c||""}a.rendered&&a.getTargetEl().setStyle(a.getOverflowStyle());a.updateLayout();return a},beforeRender:function(){var a=this,c=a.floating,b;if(c){a.addCls(Ext.baseCSSPrefix+"layer");b=c.cls;b&&a.addCls(b)}return a.callParent()},afterComponentLayout:function(){this.callParent(arguments);this.floating&&this.onAfterFloatLayout()},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){if(this.floating)this.makeFloating(a);else this.callParent(arguments)},initResizable:function(b){var a=this;b=Ext.apply({target:a,dynamic:false,constrainTo:a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():null),handles:a.resizeHandles},b);b.target=a;a.resizer=new Ext.resizer.Resizer(b)},getDragEl:function(){return this.el},initDraggable:function(){var a=this,c=a.resizer&&a.resizer.el!==a.el?(a.resizerComponent=new Ext.Component({el:a.resizer.el,rendered:true,container:a.container})):a,b=Ext.applyIf({el:c.getDragEl(),constrainTo:a.constrain?a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():a.el.getScopeParent()):undefined},a.draggable);if(a.constrain||a.constrainDelegate){b.constrain=a.constrain;b.constrainDelegate=a.constrainDelegate}a.dd=new Ext.util.ComponentDragger(c,b)},scrollBy:function(){var a;(a=this.getTargetEl())&&a.dom&&a.scrollBy.apply(a,arguments)},setLoading:function(c,d){var a=this,b;if(a.rendered){Ext.destroy(a.loadMask);a.loadMask=null;if(c!==false&&!a.collapsed){if(Ext.isObject(c))b=Ext.apply({},c);else if(Ext.isString(c))b={msg:c};else b={};d&&Ext.applyIf(b,{useTargetEl:true});a.loadMask=new Ext.LoadMask(a,b);a.loadMask.show()}}return a.loadMask},beforeSetPosition:function(){var c=this,a=c.callParent(arguments),b;if(a){b=c.adjustPosition(a.x,a.y);a.x=b.x;a.y=b.y}return a||null},afterSetPosition:function(b,a){this.onPosition(b,a);this.fireEvent("move",this,b,a)},showAt:function(b,d,c){var a=this;!a.rendered&&(a.autoRender||a.floating)&&a.doAutoRender();if(a.floating)a.setPosition(b,d,c);else a.setPagePosition(b,d,c);a.show()},setPagePosition:function(a,c,f){var b=this,d,e;if(Ext.isArray(a)){c=a[1];a=a[0]}b.pageX=a;b.pageY=c;if(b.floating){if(b.isContainedFloater()){e=b.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(a)&&Ext.isNumber(e.left))a-=e.left;if(Ext.isNumber(c)&&Ext.isNumber(e.top))c-=e.top}else{d=b.el.translatePoints(a,c);a=d.left;c=d.top}b.setPosition(a,c,f)}else{d=b.el.translatePoints(a,c);b.setPosition(d.left,d.top,f)}return b},isContainedFloater:function(){return this.floating&&this.floatParent},getBox:function(b){var c=b?this.getPosition(b):this.el.getXY(),a=this.getSize();a.x=c[0];a.y=c[1];return a},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(b,d){var c=this,a;if(c.isContainedFloater()){a=c.floatParent.getTargetEl().getViewRegion();b+=a.left;d+=a.top}return{x:b,y:d}},getPosition:function(f){var a=this,d=a.el,b,e=a.isContainedFloater(),c;if(f===true||!e)return[d.getLeft(true),d.getTop(true)];if(a.x!==undefined&&a.y!==undefined)b=[a.x,a.y];else{b=a.el.getXY();if(e){c=a.floatParent.getTargetEl().getViewRegion();b[0]-=c.left;b[1]-=c.top}}return b},getId:function(){var b=this,a;if(!b.id){a=b.getXType();if(a)a=a.replace(Ext.Component.INVALID_ID_CHARS_Re,"-");else a=Ext.name.toLowerCase()+"-comp";b.id=a+"-"+b.getAutoId()}return b.id},show:function(){var a=this,b=a.rendered;if(b&&a.isVisible())a.toFrontOnShow&&a.floating&&a.toFront();else if(a.fireEvent("beforeshow",a)!==false){a.hidden=false;if(!b&&(a.autoRender||a.floating)){a.doAutoRender();b=a.rendered}if(b){a.beforeShow();a.onShow.apply(a,arguments);a.afterShow.apply(a,arguments)}}return a},beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show();a.callParent(arguments);a.floating&&a.constrain&&a.doConstrain()},afterShow:function(b,e,g){var a=this,d,f,c;b=b||a.animateTarget;if(!a.ghost)b=null;if(b){b=b.el?b.el:Ext.get(b);f=a.el.getBox();d=b.getBox();a.el.addCls(Ext.baseCSSPrefix+"hide-offsets");c=a.ghost();c.el.stopAnimation();c.el.setX(-1e4);c.el.animate({from:d,to:f,listeners:{afteranimate:function(){delete c.componentLayout.lastComponentSize;a.unghost();a.el.removeCls(Ext.baseCSSPrefix+"hide-offsets");a.onShowComplete(e,g)}}})}else a.onShowComplete(e,g)},onShowComplete:function(b,c){var a=this;if(a.floating){a.toFront();a.onFloatShow()}Ext.callback(b,c||a);a.fireEvent("show",a);delete a.hiddenByLayout},hide:function(){var a=this;a.showOnParentShow=false;if(!(a.rendered&&!a.isVisible())&&a.fireEvent("beforehide",a)!==false){a.hidden=true;a.rendered&&a.onHide.apply(a,arguments)}return a},onHide:function(a,e,f){var b=this,c,d;a=a||b.animateTarget;if(!b.ghost)a=null;if(a){a=a.el?a.el:Ext.get(a);c=b.ghost();c.el.stopAnimation();d=a.getBox();d.width+="px";d.height+="px";c.el.animate({to:d,listeners:{afteranimate:function(){delete c.componentLayout.lastComponentSize;c.el.hide();b.afterHide(e,f)}}})}b.el.hide();!a&&b.afterHide(e,f)},afterHide:function(b,c){var a=this;delete a.hiddenByLayout;Ext.AbstractComponent.prototype.onHide.call(this);Ext.callback(b,c||a);a.fireEvent("hide",a)},onDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.proxy,a.proxyWrap,a.resizer,a.resizerComponent);(a.actionMode=="container"||a.removeMode=="container")&&a.container.remove()}delete a.focusTask;a.callParent()},deleteMembers:function(){for(var b=arguments,c=b.length,a=0;a<c;++a)delete this[b[a]]},focus:function(d,c){var a=this,b,e;if(a.rendered&&!a.isDestroyed&&a.isVisible(true)&&(b=a.getFocusEl())){if(b.isComponent)return b.focus(d,c);if(c){if(!a.focusTask)a.focusTask=new Ext.util.DelayedTask(a.focus);a.focusTask.delay(Ext.isNumber(c)?c:10,null,a,[d,false]);return a}if(e=b.dom){if(b.needsTabIndex())e.tabIndex=-1;b.focus();d===true&&e.select()}a.floating&&a.toFront(true)}return a},cancelFocus:function(){var a=this.focusTask;a&&a.cancel()},blur:function(){var a;this.rendered&&(a=this.getFocusEl())&&a.blur();return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:Ext.emptyFn,getBubbleTarget:function(){return this.ownerCt||this.floatParent},getContentTarget:function(){return this.el},cloneConfig:function(a){a=a||{};var d=a.id||Ext.id(),b=Ext.applyIf(a,this.initialConfig),c;b.id=d;c=Ext.getClass(this);return new c(b)},getXType:function(){return this.self.xtype},findParentBy:function(b){for(var a=this.getBubbleTarget();a&&!b(a,this);a=a.getBubbleTarget());return a||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(d,c,b){var a=this;while(a){if(d.apply(c||a,b||[a])===false)break;a=a.getBubbleTarget()}return this},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();if(Ext.scopeResetCSS)a.proxyWrap=b=Ext.getBody().createChild({cls:Ext.resetCls});a.proxy=a.el.createProxy(Ext.baseCSSPrefix+"proxy-el",b,true)}return a.proxy}});Ext.define("Ext.app.EventBus",{requires:["Ext.util.Event","Ext.Component"],mixins:{observable:"Ext.util.Observable"},constructor:function(){this.mixins.observable.constructor.call(this);this.bus={};var a=this;Ext.override(Ext.Component,{fireEvent:function(b){return Ext.util.Observable.prototype.fireEvent.apply(this,arguments)!==false?a.dispatch.call(a,b,this,arguments):false}})},dispatch:function(l,i,k){var j=this.bus,d=j[l],b,a,f,g,e,c,h;if(d)for(b in d)if(d.hasOwnProperty(b)&&i.is(b)){a=d[b];for(f in a)if(a.hasOwnProperty(f)){g=a[f];for(c=0,h=g.length;c<h;c++){e=g[c];if(e.fire.apply(e,Array.prototype.slice.call(k,1))===false)return false}}}return true},control:function(a,n,e){var l=this.bus,m,f,k,b,d,g,j,i,h,c;if(Ext.isString(a)){b=a;a={};a[b]=n;this.control(a,null,e);return}m=Ext.util.Observable.HasListeners.prototype;for(b in a)if(a.hasOwnProperty(b)){h=a[b]||{};for(c in h)if(h.hasOwnProperty(c)){d={};g=h[c];j=e;i=new Ext.util.Event(e,c);if(Ext.isObject(g)){d=g;g=d.fn;j=d.scope||e;delete d.fn;delete d.scope}i.addListener(g,j,d);m[c]=1;f=l[c]||(l[c]={});f=f[b]||(f[b]={});k=f[e.id]||(f[e.id]=[]);k.push(i)}}}});Ext.define("Ext.chart.MaskLayer",{extend:"Ext.Component",constructor:function(a){a=Ext.apply(a||{},{style:"position:absolute;background-color:#888;cursor:move;opacity:0.6;border:1px solid #222;"});this.callParent([a])},initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments);this.dd.onStart=function(){var a=this,b=a.comp;this.startPosition=b.getPosition(true);if(b.ghost&&!b.liveDrag){a.proxy=b.ghost();a.dragTarget=a.proxy.header.el}if(a.constrain||a.constrainDelegate)a.constrainTo=a.calculateConstrainRegion()}}});Ext.define("Ext.chart.Mask",{requires:["Ext.chart.MaskLayer"],constructor:function(b){var a=this,c;a.addEvents("select");b&&Ext.apply(a,b);if(a.enableMask)a.on("afterrender",function(){var b=new Ext.chart.MaskLayer({renderTo:a.el,hidden:true});b.el.on({mousemove:function(b){a.onMouseMove(b)},mouseup:function(b){a.resized(b)}});c=new Ext.resizer.Resizer({el:b.el,handles:"all",pinned:true});c.on({resize:function(b){a.resized(b)}});b.initDraggable();a.maskType=a.mask;a.mask=b;a.maskSprite=a.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.7,hidden:true,stroke:"#444"})},a,{single:true})},resized:function(){var b=this,e=b.bbox||b.chartBBox,i=e.x,h=e.y,j=e.width,k=e.height,a=b.mask.getBox(true),g=Math.max,f=Math.min,d=a.x-i,c=a.y-h;d=g(d,i);c=g(c,h);d=f(d,j);c=f(c,k);a.x=d;a.y=c;b.fireEvent("select",b,a)},onMouseUp:function(d){var a=this,c=a.bbox||a.chartBBox,b=a.maskSelection;a.maskMouseDown=false;a.mouseDown=false;if(a.mouseMoved){a.onMouseMove(d);a.mouseMoved=false;a.fireEvent("select",a,{x:b.x-c.x,y:b.y-c.y,width:b.width,height:b.height})}},onMouseDown:function(b){var a=this;a.mouseDown=true;a.mouseMoved=false;a.maskMouseDown={x:b.getPageX()-a.el.getX(),y:b.getPageY()-a.el.getY()}},onMouseMove:function(r){var a=this,k=a.maskType,f=a.bbox||a.chartBBox,i=f.x,h=f.y,l=Math,q=l.floor,n=l.abs,o=l.min,p=l.max,e=q(h+f.height),d=q(i+f.width),s=r.getPageX(),m=r.getPageY(),c=s-a.el.getX(),b=m-a.el.getY(),g=a.maskMouseDown,j;a.mouseMoved=a.mouseDown;c=p(c,i);b=p(b,h);c=o(c,d);b=o(b,e);if(g&&a.mouseDown){if(k=="horizontal"){b=h;g.y=e;m=a.el.getY()+f.height+a.insetPadding}else if(k=="vertical"){c=i;g.x=d}d=g.x-c;e=g.y-b;j=["M",c,b,"l",d,0,0,e,-d,0,"z"];a.maskSelection={x:d>0?c:c+d,y:e>0?b:b+e,width:n(d),height:n(e)};a.mask.updateBox(a.maskSelection);a.mask.show();a.maskSprite.setAttributes({hidden:true},true)}else{if(k=="horizontal")j=["M",c,h,"L",c,e];else if(k=="vertical")j=["M",i,b,"L",d,b];else j=["M",c,h,"L",c,e,"M",i,b,"L",d,b];a.maskSprite.setAttributes({path:j,fill:a.maskMouseDown?a.maskSprite.stroke:false,"stroke-width":k===true?1:3,hidden:false},true)}},onMouseLeave:function(){var a=this;a.mouseMoved=false;a.mouseDown=false;a.maskMouseDown=false;a.mask.hide();a.maskSprite.hide(true)}});Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:true,shrinkWrap:3,autoSize:false,initComponent:function(){this.callParent(arguments);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var a=this,i=a.viewBox,h=a.autoSize,b,d,c,g,f,e;a.callParent(arguments);if(a.createSurface()!==false){d=a.surface.items;if(i||h){b=d.getBBox();c=b.width;g=b.height;f=b.x;e=b.y;if(a.viewBox)a.surface.setViewBox(f,e,c,g);else a.autoSizeSurface()}}},autoSizeSurface:function(){var a=this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(b,a){this.surface.setSize(b,a);if(this.autoSize){var c=this.surface.items.getBBox();this.surface.setViewBox(c.x,c.y-+Ext.isOpera,b,a)}},createSurface:function(){var a=this,d=Ext.applyIf({renderTo:a.el,height:a.height,width:a.width,items:a.items},a.initialConfig),c;delete d.listeners;c=Ext.draw.Surface.create(d);if(!c)return false;a.surface=c;function b(b){return function(c){a.fireEvent(b,c)}}c.on({scope:a,mouseup:b("mouseup"),mousedown:b("mousedown"),mousemove:b("mousemove"),mouseenter:b("mouseenter"),mouseleave:b("mouseleave"),click:b("click"),dblclick:b("dblclick")})},onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}});Ext.define("Ext.chart.Chart",{alias:"widget.chart",extend:"Ext.draw.Component",mixins:{themeManager:"Ext.chart.theme.Theme",mask:"Ext.chart.Mask",navigation:"Ext.chart.Navigation",bindable:"Ext.util.Bindable"},uses:["Ext.chart.series.Series"],requires:["Ext.util.MixedCollection","Ext.data.StoreManager","Ext.chart.Legend","Ext.chart.theme.Base","Ext.chart.theme.Theme","Ext.util.DelayedTask"],viewBox:false,animate:false,legend:false,insetPadding:10,enginePriority:["Svg","Vml"],background:false,constructor:function(a){var b=this,c;a=Ext.apply({},a);b.initTheme(a.theme||b.theme);b.gradients&&Ext.apply(a,{gradients:b.gradients});b.background&&Ext.apply(a,{background:b.background});if(a.animate){c={easing:"ease",duration:500};if(Ext.isObject(a.animate))a.animate=Ext.applyIf(a.animate,c);else a.animate=c}a.enableMask&&b.mixins.mask.constructor.call(b,a);b.mixins.navigation.constructor.call(b,a);b.callParent([a])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var a=this,c,b;a.callParent();a.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");Ext.applyIf(a,{zoom:{width:1,height:1,x:0,y:0}});a.maxGutter=[0,0];a.store=Ext.data.StoreManager.lookup(a.store);c=a.axes;a.axes=new Ext.util.MixedCollection(false,function(a){return a.position});c&&a.axes.addAll(c);b=a.series;a.series=new Ext.util.MixedCollection(false,function(a){return a.seriesId||(a.seriesId=Ext.id(null,"ext-chart-series-"))});b&&a.series.addAll(b);if(a.legend!==false)a.legend=new Ext.chart.Legend(Ext.applyIf({chart:a},a.legend));a.on({mousemove:a.onMouseMove,mouseleave:a.onMouseLeave,mousedown:a.onMouseDown,mouseup:a.onMouseUp,click:a.onClick,dblclick:a.onDblClick,scope:a})},afterComponentLayout:function(c,b){var a=this;if(Ext.isNumber(c)&&Ext.isNumber(b)){a.curWidth=c;a.curHeight=b;a.redraw(true)}this.callParent(arguments)},redraw:function(i){var b=this,f=b.series.items,g=f.length,d=b.axes.items,e=d.length,a,h=b.chartBBox={x:0,y:0,height:b.curHeight,width:b.curWidth},c=b.legend;b.surface.setSize(h.width,h.height);for(a=0;a<g;a++)b.initializeSeries(f[a],a);for(a=0;a<e;a++)b.initializeAxis(d[a]);for(a=0;a<e;a++)d[a].processView();for(a=0;a<e;a++)d[a].drawAxis(true);if(c!==false&&c.visible)(c.update||!c.created)&&c.create();b.alignAxes();c!==false&&c.visible&&c.updatePosition();b.getMaxGutter();b.resizing=!!i;for(a=0;a<e;a++)d[a].drawAxis();for(a=0;a<g;a++)b.drawCharts(f[a]);b.resizing=false},afterRender:function(){var b,a=this;this.callParent();a.categoryNames&&a.setCategoryNames(a.categoryNames);if(a.tipRenderer){b=a.getFunctionRef(a.tipRenderer);a.setTipRenderer(b.fn,b.scope)}a.bindStore(a.store,true);a.refresh()},getEventXY:function(d){var f=this,a=this.surface.getRegion(),b=d.getXY(),c=b[0]-a.left,e=b[1]-a.top;return[c,e]},onClick:function(a){this.handleClick("itemclick",a)},onDblClick:function(a){this.handleClick("itemdblclick",a)},handleClick:function(h,i){var g=this,c=g.getEventXY(i),e=g.series.items,b,f,a,d;for(b=0,f=e.length;b<f;b++){a=e[b];if(Ext.draw.Draw.withinBox(c[0],c[1],a.bbox))if(a.getItemForPoint){d=a.getItemForPoint(c[0],c[1]);d&&a.fireEvent(h,d)}}},onMouseDown:function(h){var b=this,c=b.getEventXY(h),f=b.series.items,d,g,a,e;b.enableMask&&b.mixins.mask.onMouseDown.call(b,h);for(d=0,g=f.length;d<g;d++){a=f[d];if(Ext.draw.Draw.withinBox(c[0],c[1],a.bbox))if(a.getItemForPoint){e=a.getItemForPoint(c[0],c[1]);e&&a.fireEvent("itemmousedown",e)}}},onMouseUp:function(h){var b=this,c=b.getEventXY(h),f=b.series.items,d,g,a,e;b.enableMask&&b.mixins.mask.onMouseUp.call(b,h);for(d=0,g=f.length;d<g;d++){a=f[d];if(Ext.draw.Draw.withinBox(c[0],c[1],a.bbox))if(a.getItemForPoint){e=a.getItemForPoint(c[0],c[1]);e&&a.fireEvent("itemmouseup",e)}}},onMouseMove:function(i){var d=this,f=d.getEventXY(i),g=d.series.items,e,j,a,b,c,h,k;d.enableMask&&d.mixins.mask.onMouseMove.call(d,i);for(e=0,j=g.length;e<j;e++){a=g[e];if(Ext.draw.Draw.withinBox(f[0],f[1],a.bbox)){if(a.getItemForPoint){b=a.getItemForPoint(f[0],f[1]);c=a._lastItemForPoint;h=a._lastStoreItem;k=a._lastStoreField;if(b!==c||b&&(b.storeItem!=h||b.storeField!=k)){if(c){a.fireEvent("itemmouseout",c);delete a._lastItemForPoint;delete a._lastStoreField;delete a._lastStoreItem}if(b){a.fireEvent("itemmouseover",b);a._lastItemForPoint=b;a._lastStoreItem=b.storeItem;a._lastStoreField=b.storeField}}}}else{c=a._lastItemForPoint;if(c){a.fireEvent("itemmouseout",c);delete a._lastItemForPoint;delete a._lastStoreField;delete a._lastStoreItem}}}},onMouseLeave:function(f){var b=this,c=b.series.items,a,e,d;b.enableMask&&b.mixins.mask.onMouseLeave.call(b,f);for(a=0,e=c.length;a<e;a++){d=c[a];delete d._lastItemForPoint}},delayRefresh:function(){var a=this;if(!a.refreshTask)a.refreshTask=new Ext.util.DelayedTask(a.refresh,a);a.refreshTask.delay(a.refreshBuffer)},refresh:function(){var a=this;if(a.rendered&&a.curWidth!==undefined&&a.curHeight!==undefined)if(a.fireEvent("beforerefresh",a)!==false){a.redraw();a.fireEvent("refresh",a)}},bindStore:function(c,b){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);a.store&&!b&&a.refresh()},getStoreListeners:function(){var b=this.refresh,a=this.delayRefresh;return{refresh:b,add:a,remove:a,update:a,clear:b}},initializeAxis:function(d){var f=this,g=f.chartBBox,e=g.width,c=g.height,h=g.x,i=g.y,b=f.themeAttrs,a={chart:f};if(b){a.axisStyle=Ext.apply({},b.axis);a.axisLabelLeftStyle=Ext.apply({},b.axisLabelLeft);a.axisLabelRightStyle=Ext.apply({},b.axisLabelRight);a.axisLabelTopStyle=Ext.apply({},b.axisLabelTop);a.axisLabelBottomStyle=Ext.apply({},b.axisLabelBottom);a.axisTitleLeftStyle=Ext.apply({},b.axisTitleLeft);a.axisTitleRightStyle=Ext.apply({},b.axisTitleRight);a.axisTitleTopStyle=Ext.apply({},b.axisTitleTop);a.axisTitleBottomStyle=Ext.apply({},b.axisTitleBottom)}switch(d.position){case"top":Ext.apply(a,{length:e,width:c,x:h,y:i});break;case"bottom":Ext.apply(a,{length:e,width:c,x:h,y:c});break;case"left":Ext.apply(a,{length:c,width:e,x:h,y:c});break;case"right":Ext.apply(a,{length:c,width:e,x:e,y:c})}if(!d.chart){Ext.apply(a,d);d=f.axes.replace(Ext.createByAlias("axis."+d.type.toLowerCase(),a))}else Ext.apply(d,a)},alignAxes:function(){var f=this,l=f.axes,n=l.items,b,m=f.legend,o=["top","right","bottom","left"],d,e,j,a,k=f.insetPadding,c={top:k,right:k,bottom:k,left:k},g,h,i;function p(b){var a=l.findIndex("position",b);return a<0?null:l.getAt(a)}for(e=0,j=o.length;e<j;e++){d=o[e];g=d==="left"||d==="right";b=p(d);if(m!==false)if(m.position===d){h=m.getBBox();c[d]+=(g?h.width:h.height)+c[d]}if(b&&b.bbox){h=b.bbox;c[d]+=g?h.width:h.height}}a={x:c.left,y:c.top,width:f.curWidth-c.left-c.right,height:f.curHeight-c.top-c.bottom};f.chartBBox=a;for(e=0,j=n.length;e<j;e++){b=n[e];i=b.position;g=i==="left"||i==="right";b.x=i==="right"?a.x+a.width:a.x;b.y=i==="top"?a.y:a.y+a.height;b.width=g?a.width:a.height;b.length=g?a.height:a.width}},initializeSeries:function(c,i){var h=this,b=h.themeAttrs,l,m,d,e,j,f=[],g=0,k,a={chart:h,seriesId:c.seriesId};if(b){d=b.seriesThemes;j=b.markerThemes;l=Ext.apply({},b.series);m=Ext.apply({},b.marker);a.seriesStyle=Ext.apply(l,d[i%d.length]);a.seriesLabelStyle=Ext.apply({},b.seriesLabel);a.markerStyle=Ext.apply(m,j[i%j.length]);if(b.colors)a.colorArrayStyle=b.colors;else{f=[];for(k=d.length;g<k;g++){e=d[g];(e.fill||e.stroke)&&f.push(e.fill||e.stroke)}if(f.length)a.colorArrayStyle=f}a.seriesIdx=i}if(c instanceof Ext.chart.series.Series)Ext.apply(c,a);else{Ext.applyIf(a,c);c=h.series.replace(Ext.createByAlias("series."+c.type.toLowerCase(),a))}c.initialize&&c.initialize()},getMaxGutter:function(){var g=this,e=g.series.items,b,f,c,a=[0,0],d;for(b=0,f=e.length;b<f;b++){c=e[b];d=c.getGutters&&c.getGutters()||[0,0];a[0]=Math.max(a[0],d[0]);a[1]=Math.max(a[1],d[1])}g.maxGutter=a},drawAxis:function(a){a.drawAxis()},drawCharts:function(a){a.triggerafterrender=false;a.drawSeries();!this.animate&&a.fireEvent("afterrender")},save:function(a){return Ext.draw.Surface.save(a,this.surface)},destroy:function(){Ext.destroy(this.surface);this.bindStore(null);this.callParent(arguments)}});Ext.define("Ext.chart.TipSurface",{extend:"Ext.draw.Component",spriteArray:false,renderFirst:true,constructor:function(a){this.callParent([a]);if(a.sprites){this.spriteArray=[].concat(a.sprites);delete a.sprites}},onRender:function(){var a=this,c=0,d=0,e,b;this.callParent(arguments);b=a.spriteArray;if(a.renderFirst&&b){a.renderFirst=false;for(d=b.length;c<d;c++){e=a.surface.add(b[c]);e.setAttributes({hidden:false},true)}}}});Ext.define("Ext.chart.axis.Abstract",{requires:["Ext.chart.Chart"],constructor:function(a){a=a||{};var b=this,c=a.position||"left";c=c.charAt(0).toUpperCase()+c.substring(1);a.label=Ext.apply(a["axisLabel"+c+"Style"]||{},a.label||{});a.axisTitleStyle=Ext.apply(a["axisTitle"+c+"Style"]||{},a.labelTitle||{});Ext.apply(b,a);b.fields=Ext.Array.from(b.fields);this.callParent();b.labels=[];b.getId();b.labelGroup=b.chart.surface.getGroup(b.axisId+"-labels")},alignment:null,grid:false,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn});Ext.define("Ext.chart.axis.Axis",{extend:"Ext.chart.axis.Abstract",alternateClassName:"Ext.chart.Axis",requires:["Ext.draw.Draw"],forceMinMax:false,dashSize:3,position:"bottom",skipFirst:false,length:0,width:0,adjustEnd:true,majorTickSteps:false,applyData:Ext.emptyFn,getRange:function(){var e=this,y=e.chart,z=y.getChartStore(),w=z.data.items,d=y.series.items,s=e.position,l,m=Ext.chart.series,j=[],i=Infinity,f=-Infinity,p=e.position==="left"||e.position==="right",b,r,t,a,g,A=w.length,q,v={},k={},n=true,c,u,x,o,h;c=e.fields;for(a=0,r=c.length;a<r;a++)k[c[a]]=true;for(b=0,r=d.length;b<r;b++){if(d[b].seriesIsHidden)continue;if(!d[b].getAxesForXAndYFields)continue;l=d[b].getAxesForXAndYFields();if(l.xAxis&&l.xAxis!==s&&l.yAxis&&l.yAxis!==s)continue;if(m.Bar&&d[b]instanceof m.Bar&&!d[b].column)c=p?Ext.Array.from(d[b].xField):Ext.Array.from(d[b].yField);else c=p?Ext.Array.from(d[b].yField):Ext.Array.from(d[b].xField);if(e.fields.length){for(a=0,t=c.length;a<t;a++)if(k[c[a]])break;if(a==t)continue}if(q=d[b].stacked)if(m.Bar&&d[b]instanceof m.Bar){if(d[b].column!=p){q=false;n=false}}else if(!p){q=false;n=false}if(q){u={};for(a=0;a<c.length;a++){if(n&&d[b].__excludes&&d[b].__excludes[a])continue;!k[c[a]]&&Ext.Logger.warn("Field `"+c[a]+"` is not included in the "+s+" axis config.");k[c[a]]=u[c[a]]=true}j.push({fields:u,value:0})}else{if(!c||c.length==0)c=e.fields;for(a=0;a<c.length;a++){if(n&&d[b].__excludes&&d[b].__excludes[a])continue;k[c[a]]=v[c[a]]=true}}}for(b=0;b<A;b++){x=w[b];for(g=0;g<j.length;g++)j[g].value=0;for(o in k){h=x.get(o);if(isNaN(h))continue;if(h===undefined)h=0;if(v[o]){if(i>h)i=h;if(f<h)f=h}for(g=0;g<j.length;g++)if(j[g].fields[o]){j[g].value+=h;if(i>0)i=0;if(f<j[g].value)f=j[g].value}}}if(!isFinite(f))f=e.prevMax||0;if(!isFinite(i))i=e.prevMin||0;if(i!=f&&f!=Math.floor(f))f=Math.floor(f)+1;if(!isNaN(e.minimum))i=e.minimum;if(!isNaN(e.maximum))f=e.maximum;return{min:i,max:f}},calcEnds:function(){var b=this,h=b.fields,e=b.getRange(),d=e.min,c=e.max,f,g,a;a=Ext.draw.Draw.snapEnds(d,c,b.majorTickSteps!==false?b.majorTickSteps+1:b.steps,b.majorTickSteps===false);f=a.from;g=a.to;if(b.forceMinMax){if(!isNaN(c))a.to=c;if(!isNaN(d))a.from=d}if(!isNaN(b.maximum))a.to=b.maximum;if(!isNaN(b.minimum))a.from=b.minimum;a.step=(a.to-a.from)/(g-f)*a.step;if(b.adjustMaximumByMajorUnit){a.to=Math.ceil(a.to/a.step)*a.step;a.steps=(a.to-a.from)/a.step}if(b.adjustMinimumByMajorUnit){a.from=Math.floor(a.from/a.step)*a.step;a.steps=(a.to-a.from)/a.step}b.prevMin=d==c?0:d;b.prevMax=c;return a},drawAxis:function(z){var a=this,d,B,i=a.x,h=a.y,m=a.chart.maxGutter[0],l=a.chart.maxGutter[1],e=a.dashSize,x=a.minorTickSteps||0,w=a.minorTickSteps||0,j=a.length,p=a.position,n=[],q=false,k=a.applyData(),r=k.step,u=k.steps,y=k.from,v=k.to,o,c,b,f,A,t,s,g;if(a.hidden||isNaN(r)||y>v)return;a.from=k.from;a.to=k.to;if(p=="left"||p=="right"){c=Math.floor(i)+.5;f=["M",c,h,"l",0,-j];o=j-l*2}else{b=Math.floor(h)+.5;f=["M",i,b,"l",j,0];o=j-m*2}g=u&&o/u;t=Math.max(x+1,0);s=Math.max(w+1,0);if(a.type=="Numeric"||a.type=="Time"){q=true;a.labels=[k.from]}if(p=="right"||p=="left"){b=h-l;c=i-(p=="left")*e*2;while(b>=h-l-o){f.push("M",c,Math.floor(b)+.5,"l",e*2+1,0);if(b!=h-l)for(d=1;d<s;d++)f.push("M",c+e,Math.floor(b+g*d/s)+.5,"l",e+1,0);n.push([Math.floor(i),Math.floor(b)]);b-=g;q&&a.labels.push(a.labels[a.labels.length-1]+r);if(g===0)break}if(Math.round(b+g-(h-l-o))){f.push("M",c,Math.floor(h-j+l)+.5,"l",e*2+1,0);for(d=1;d<s;d++)f.push("M",c+e,Math.floor(h-j+l+g*d/s)+.5,"l",e+1,0);n.push([Math.floor(i),Math.floor(b)]);q&&a.labels.push(a.labels[a.labels.length-1]+r)}}else{c=i+m;b=h-(p=="top")*e*2;while(c<=i+m+o){f.push("M",Math.floor(c)+.5,b,"l",0,e*2+1);if(c!=i+m)for(d=1;d<t;d++)f.push("M",Math.floor(c-g*d/t)+.5,b,"l",0,e+1);n.push([Math.floor(c),Math.floor(h)]);c+=g;q&&a.labels.push(a.labels[a.labels.length-1]+r);if(g===0)break}if(Math.round(c-g-(i+m+o))){f.push("M",Math.floor(i+j-m)+.5,b,"l",0,e*2+1);for(d=1;d<t;d++)f.push("M",Math.floor(i+j-m-g*d/t)+.5,b,"l",0,e+1);n.push([Math.floor(c),Math.floor(h)]);q&&a.labels.push(a.labels[a.labels.length-1]+r)}}if(q)a.labels[n.length-1]=+a.labels[n.length-1].toFixed(10);if(!a.axis)a.axis=a.chart.surface.add(Ext.apply({type:"path",path:f},a.axisStyle));a.axis.setAttributes({path:f},true);a.inflections=n;!z&&a.grid&&a.drawGrid();a.axisBBox=a.axis.getBBox();a.drawLabel()},drawGrid:function(){var c=this,r=c.chart.surface,o=c.grid,i=o.odd,j=o.even,n=c.inflections,q=n.length-(i||j?0:1),g=c.position,p=c.chart.maxGutter,f=c.width-2,t=false,b,d,h=1,e=[],m,a,s,k=[],l=[];if(p[1]!==0&&(g=="left"||g=="right")||p[0]!==0&&(g=="top"||g=="bottom")){h=0;q++}for(;h<q;h++){b=n[h];d=n[h-1];if(i||j){e=h%2?k:l;m=(h%2?i:j)||{};a=(m.lineWidth||m["stroke-width"]||0)/2;s=2*a;if(g=="left")e.push("M",d[0]+1+a,d[1]+.5-a,"L",d[0]+1+f-a,d[1]+.5-a,"L",b[0]+1+f-a,b[1]+.5+a,"L",b[0]+1+a,b[1]+.5+a,"Z");else if(g=="right")e.push("M",d[0]-a,d[1]+.5-a,"L",d[0]-f+a,d[1]+.5-a,"L",b[0]-f+a,b[1]+.5+a,"L",b[0]-a,b[1]+.5+a,"Z");else if(g=="top")e.push("M",d[0]+.5+a,d[1]+1+a,"L",d[0]+.5+a,d[1]+1+f-a,"L",b[0]+.5-a,b[1]+1+f-a,"L",b[0]+.5-a,b[1]+1+a,"Z");else e.push("M",d[0]+.5+a,d[1]-a,"L",d[0]+.5+a,d[1]-f+a,"L",b[0]+.5-a,b[1]-f+a,"L",b[0]+.5-a,b[1]-a,"Z")}else if(g=="left")e=e.concat(["M",b[0]+.5,b[1]+.5,"l",f,0]);else if(g=="right")e=e.concat(["M",b[0]-.5,b[1]+.5,"l",-f,0]);else if(g=="top")e=e.concat(["M",b[0]+.5,b[1]+.5,"l",0,f]);else e=e.concat(["M",b[0]+.5,b[1]-.5,"l",0,-f])}if(i||j){if(k.length){if(!c.gridOdd&&k.length)c.gridOdd=r.add({type:"path",path:k});c.gridOdd.setAttributes(Ext.apply({path:k,hidden:false},i||{}),true)}if(l.length){if(!c.gridEven)c.gridEven=r.add({type:"path",path:l});c.gridEven.setAttributes(Ext.apply({path:l,hidden:false},j||{}),true)}}else if(e.length){if(!c.gridLines)c.gridLines=c.chart.surface.add({type:"path",path:e,"stroke-width":c.lineWidth||1,stroke:c.gridColor||"#ccc"});c.gridLines.setAttributes({hidden:false,path:e},true)}else c.gridLines&&c.gridLines.hide(true)},getOrCreateLabel:function(f,c){var b=this,e=b.labelGroup,a=e.getAt(f),d=b.chart.surface;if(a){if(c!=a.attr.text){a.setAttributes(Ext.apply({text:c},b.label),true);a._bbox=a.getBBox()}}else{a=d.add(Ext.apply({group:e,type:"text",x:0,y:0,text:c},b.label));d.renderItem(a);a._bbox=a.getBBox()}if(b.label.rotation){a.setAttributes({rotation:{degrees:0}},true);a._ubbox=a.getBBox();a.setAttributes(b.label,true)}else a._ubbox=a._bbox;return a},rect2pointArray:function(k){var l=this.chart.surface,b=l.getBBox(k,true),f=[b.x,b.y],i=f.slice(),e=[b.x+b.width,b.y],g=e.slice(),d=[b.x+b.width,b.y+b.height],j=d.slice(),c=[b.x,b.y+b.height],h=c.slice(),a=k.matrix;f[0]=a.x.apply(a,i);f[1]=a.y.apply(a,i);e[0]=a.x.apply(a,g);e[1]=a.y.apply(a,g);d[0]=a.x.apply(a,j);d[1]=a.y.apply(a,j);c[0]=a.x.apply(a,h);c[1]=a.y.apply(a,h);return[f,e,d,c]},intersect:function(c,a){var d=this.rect2pointArray(c),b=this.rect2pointArray(a);return!!Ext.draw.Draw.intersect(d,b).length},drawHorizontalLabels:function(){var a=this,o=a.label,v=Math.floor,u=Math.max,n=a.chart.axes,x=a.chart.insetPadding,y=a.position,g=a.inflections,r=g.length,p=a.labels,G=a.labelGroup,k=0,q,B=a.chart.maxGutter[1],C,d,c,D,j,l,A=0,w=a.adjustEnd,t=n.findIndex("position","left")!=-1,z=n.findIndex("position","right")!=-1,e,H,F,s,E,i,f,h,b,m;i=r-1;c=g[0];m=a.getOrCreateLabel(0,a.label.renderer(p[0]));q=Math.floor(Math.abs(Math.sin(o.rotate&&o.rotate.degrees*Math.PI/180||0)));for(b=0;b<r;b++){c=g[b];s=a.label.renderer(p[b]);e=a.getOrCreateLabel(b,s);d=e._bbox;k=u(k,d.height+a.dashSize+a.label.padding);f=v(c[0]-(q?d.height:d.width)/2);if(w&&a.chart.maxGutter[0]==0)if(b==0&&!t)f=c[0];else if(b==i&&!z)f=Math.min(f,c[0]-d.width+x);if(y=="top")h=c[1]-a.dashSize*2-a.label.padding-d.height/2;else h=c[1]+a.dashSize*2+a.label.padding+d.height/2;e.setAttributes({hidden:false,x:f,y:h},true);if(b!=0&&(a.intersect(e,j)||a.intersect(e,m)))if(b===i&&l!==0)j.hide(true);else{e.hide(true);continue}j=e;l=b}return k},drawVerticalLabels:function(){var a=this,m=a.inflections,u=a.position,v=m.length,x=a.chart,r=x.insetPadding,t=a.labels,h=0,y=Math.max,z=Math.floor,q=Math.ceil,o=a.chart.axes,l=a.chart.maxGutter[1],B,c,g,i,k,A=0,w=o.findIndex("position","top")!=-1,p=o.findIndex("position","bottom")!=-1,s=a.adjustEnd,d,E,D,n,C,f,j,e,b;f=v;for(b=0;b<f;b++){g=m[b];n=a.label.renderer(t[b]);d=a.getOrCreateLabel(b,n);c=d._bbox;h=y(h,c.width+a.dashSize+a.label.padding);e=g[1];if(s&&l<c.height/2)if(b==f-1&&!w)e=Math.max(e,a.y-a.length+q(c.height/2)-r);else if(b==0&&!p)e=a.y+l-z(c.height/2);if(u=="left")j=g[0]-c.width-a.dashSize-a.label.padding-2;else j=g[0]+a.dashSize+a.label.padding+2;d.setAttributes(Ext.apply({hidden:false,x:j,y:e},a.label),true);if(b!=0&&a.intersect(d,i))if(b===f-1&&k!==0)i.hide(true);else{d.hide(true);continue}i=d;k=b}return h},drawLabel:function(){var a=this,e=a.position,f=a.labelGroup,h=a.inflections,d=0,c=0,g,b;if(e=="left"||e=="right")d=a.drawVerticalLabels();else c=a.drawHorizontalLabels();g=f.getCount();b=h.length;for(;b<g;b++)f.getAt(b).hide(true);a.bbox={};Ext.apply(a.bbox,a.axisBBox);a.bbox.height=c;a.bbox.width=d;Ext.isString(a.title)&&a.drawTitle(d,c)},elipsis:function(b,a,e,f,d){var c,g;if(e<f){b.hide(true);return false}while(a.length>4){a=a.substr(0,a.length-4)+"...";b.setAttributes({text:a},true);c=b.getBBox();if(c.width<e){typeof d=="number"&&b.setAttributes({x:Math.floor(d-c.width/2)},true);break}}return true},setTitle:function(a){this.title=a;this.drawLabel()},drawTitle:function(k,l){var a=this,e=a.position,i=a.chart.surface,c=a.displaySprite,j=a.title,m=e=="left"||e=="right",g=a.x,f=a.y,h,b,d;if(c)c.setAttributes({text:j},true);else{h={type:"text",x:0,y:0,text:j};c=a.displaySprite=i.add(Ext.apply(h,a.axisTitleStyle,a.labelTitle));i.renderItem(c)}b=c.getBBox();d=a.dashSize+a.label.padding;if(m){f-=a.length/2-b.height/2;if(e=="left")g-=k+d+b.width/2;else g+=k+d+b.width-b.width/2;a.bbox.width+=b.width+10}else{g+=a.length/2-b.width*.5;if(e=="top")f-=l+d+b.height*.3;else f+=l+d+b.height*.8;a.bbox.height+=b.height+10}c.setAttributes({translate:{x:g,y:f}},true)}});Ext.define("Ext.chart.axis.Category",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:false,setLabels:function(){var g=this.chart.getChartStore(),f=g.data.items,b,e,d,c=this.fields,h=c.length,a;this.labels=[];for(b=0,e=f.length;b<e;b++){d=f[b];for(a=0;a<h;a++)this.labels.push(d.get(c[a]))}},applyData:function(){this.callParent();this.setLabels();var a=this.chart.getChartStore().getCount();return{from:0,to:a-1,power:1,step:1,steps:a-1}}});Ext.define("Ext.chart.axis.Gauge",{extend:"Ext.chart.axis.Abstract",position:"gauge",alias:"axis.gauge",drawAxis:function(){var l=this.chart,n=l.surface,e=l.chartBBox,h=e.x+e.width/2,g=e.y+e.height,f=this.margin||10,d=Math.min(e.width,2*e.height)/2+f,i=[],m,c=this.steps,b,a=Math.PI,k=Math.cos,j=Math.sin;if(this.sprites&&!l.resizing){this.drawLabel();return}if(this.margin>=0)if(!this.sprites)for(b=0;b<=c;b++){m=n.add({type:"path",path:["M",h+(d-f)*k(b/c*a-a),g+(d-f)*j(b/c*a-a),"L",h+d*k(b/c*a-a),g+d*j(b/c*a-a),"Z"],stroke:"#ccc"});m.setAttributes({hidden:false},true);i.push(m)}else{i=this.sprites;for(b=0;b<=c;b++)i[b].setAttributes({path:["M",h+(d-f)*k(b/c*a-a),g+(d-f)*j(b/c*a-a),"L",h+d*k(b/c*a-a),g+d*j(b/c*a-a),"Z"],stroke:"#ccc"},true)}this.sprites=i;this.drawLabel();this.title&&this.drawTitle()},drawTitle:function(){var b=this,e=b.chart,f=e.surface,c=e.chartBBox,a=b.titleSprite,d;if(!a)b.titleSprite=a=f.add({type:"text",zIndex:2});a.setAttributes(Ext.apply({text:b.title},b.label||{}),true);d=a.getBBox();a.setAttributes({x:c.x+c.width/2-d.width/2,y:c.y+c.height-d.height/2-4},true)},setTitle:function(a){this.title=a;this.drawTitle()},drawLabel:function(){var n=this.chart,t=n.surface,d=n.chartBBox,m=d.x+d.width/2,l=d.y+d.height,s=this.margin||10,e=Math.min(d.width,2*d.height)/2+2*s,q=Math.round,g=[],i,p=this.maximum||0,f=this.minimum||0,b=this.steps,a=0,h,c=Math.PI,k=Math.cos,j=Math.sin,r=this.label,o=r.renderer||function(a){return a};if(!this.labelArray)for(a=0;a<=b;a++){h=a===0||a===b?7:0;i=t.add({type:"text",text:o(q(f+a/b*(p-f))),x:m+e*k(a/b*c-c),y:l+e*j(a/b*c-c)-h,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"});i.setAttributes({hidden:false},true);g.push(i)}else{g=this.labelArray;for(a=0;a<=b;a++){h=a===0||a===b?7:0;g[a].setAttributes({text:o(q(f+a/b*(p-f))),x:m+e*k(a/b*c-c),y:l+e*j(a/b*c-c)-h},true)}}this.labelArray=g}});Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.NumericAxis",type:"numeric",alias:"axis.numeric",uses:["Ext.data.Store"],constructor:function(a){var b=this,d=!!(a.label&&a.label.renderer),c;b.callParent([a]);c=b.label;if(a.constrain==null)b.constrain=a.minimum!=null&&a.maximum!=null;if(!d)c.renderer=function(a){return b.roundToDecimal(a,b.decimals)}},roundToDecimal:function(b,c){var a=Math.pow(10,c||0);return Math.floor(b*a)/a},minimum:NaN,maximum:NaN,constrain:true,decimals:2,scale:"linear",doConstrain:function(){var c=this,j=c.chart.store,l=j.data.items,e,p,f,g=c.chart.series.items,m=c.fields,q=m.length,k=c.getRange(),r=k.min,s=k.max,a,n,i=[],d=false,h,o=[],b;for(a=0,n=g.length;a<n;a++){i[a]=g[a].__excludes;d=d||g[a].stacked}for(e=0,p=l.length;e<p;e++){b=true;f=l[e];for(a=0;a<q;a++){b=true;if(i[a])continue;h=f.get(m[a]);if(!d&&+h<+r){b=false;break}if(!d&&+h>+s){b=false;break}}b&&o.push(f)}c.chart.substore=Ext.create("Ext.data.Store",{model:j.model,data:o})},position:"left",adjustMaximumByMajorUnit:false,adjustMinimumByMajorUnit:false,processView:function(){var a=this,b=a.constrain;b&&a.doConstrain()},applyData:function(){this.callParent();return this.calcEnds()}});Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Abstract",position:"radial",alias:"axis.radial",drawAxis:function(){var k=this.chart,m=k.surface,i=k.chartBBox,p=k.store,b=p.getCount(),e=i.x+i.width/2,c=i.y+i.height/2,g=Math.min(i.width,i.height)/2,f=[],h,l=this.steps,a,d,j=Math.PI*2,o=Math.cos,n=Math.sin;if(this.sprites&&!k.resizing){this.drawLabel();return}if(!this.sprites){for(a=1;a<=l;a++){h=m.add({type:"circle",x:e,y:c,radius:Math.max(g*a/l,0),stroke:"#ccc"});h.setAttributes({hidden:false},true);f.push(h)}for(a=0;a<b;a++){h=m.add({type:"path",path:["M",e,c,"L",e+g*o(a/b*j),c+g*n(a/b*j),"Z"],stroke:"#ccc"});h.setAttributes({hidden:false},true);f.push(h)}}else{f=this.sprites;for(a=0;a<l;a++)f[a].setAttributes({x:e,y:c,radius:Math.max(g*(a+1)/l,0),stroke:"#ccc"},true);for(d=0;d<b;d++)f[a+d].setAttributes({path:["M",e,c,"L",e+g*o(d/b*j),c+g*n(d/b*j),"Z"],stroke:"#ccc"},true)}this.sprites=f;this.drawLabel()},drawLabel:function(){var q=this.chart,x=q.series.items,t,w=q.surface,f=q.chartBBox,E=q.store,C=E.data.items,n,s,m=f.x+f.width/2,l=f.y+f.height/2,g=Math.min(f.width,f.height)/2,D=Math.max,B=Math.round,e=[],h,u=[],y,i=[],A,G=!this.maximum,k=this.maximum||0,c=this.steps,a=0,b,d,o,r=Math.PI*2,z=Math.cos,v=Math.sin,j=this.label.display,F=j!=="none",p=10;if(!F)return;for(a=0,n=x.length;a<n;a++){t=x[a];u.push(t.yField);A=t.xField}for(b=0,n=C.length;b<n;b++){s=C[b];if(G)for(a=0,y=u.length;a<y;a++)k=D(+s.get(u[a]),k);i.push(s.get(A))}if(!this.labelArray){if(j!="categories")for(a=1;a<=c;a++){h=w.add({type:"text",text:B(a/c*k),x:m,y:l-g*a/c,"text-anchor":"middle","stroke-width":.1,stroke:"#333"});h.setAttributes({hidden:false},true);e.push(h)}if(j!="scale")for(b=0,c=i.length;b<c;b++){d=z(b/c*r)*(g+p);o=v(b/c*r)*(g+p);h=w.add({type:"text",text:i[b],x:m+d,y:l+o,"text-anchor":d*d<=.001?"middle":d<0?"end":"start"});h.setAttributes({hidden:false},true);e.push(h)}}else{e=this.labelArray;if(j!="categories")for(a=0;a<c;a++)e[a].setAttributes({text:B((a+1)/c*k),x:m,y:l-g*(a+1)/c,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},true);if(j!="scale")for(b=0,c=i.length;b<c;b++){d=z(b/c*r)*(g+p);o=v(b/c*r)*(g+p);e[a+b]&&e[a+b].setAttributes({type:"text",text:i[b],x:m+d,y:l+o,"text-anchor":d*d<=.001?"middle":d<0?"end":"start"},true)}}this.labelArray=e}});Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alternateClassName:"Ext.chart.TimeAxis",alias:"axis.time",uses:["Ext.data.Store"],dateFormat:false,fromDate:false,toDate:false,step:[Ext.Date.DAY,1],constrain:false,constructor:function(e){var d=this,a,c,b;d.callParent([e]);a=d.label||{};b=this.dateFormat;if(b)if(a.renderer){c=a.renderer;a.renderer=function(a){a=c(a);return Ext.Date.format(new Date(c(a)),b)}}else a.renderer=function(a){return Ext.Date.format(new Date(a>>0),b)}},processView:function(){var a=this;if(a.fromDate)a.minimum=+a.fromDate;if(a.toDate)a.maximum=+a.toDate;a.constrain&&a.doConstrain()},calcEnds:function(){var b=this,a,c=b.step;if(c){a=b.getRange();a=Ext.draw.Draw.snapEndsByDateAndStep(new Date(a.min),new Date(a.max),Ext.isNumber(c)?[Date.MILLI,c]:c);if(b.minimum)a.from=b.minimum;if(b.maximum)a.to=b.maximum;a.step=(a.to-a.from)/a.steps;return a}else return b.callParent(arguments)}});Ext.define("Ext.draw.Text",{extend:"Ext.draw.Component",uses:["Ext.util.CSS"],alias:"widget.text",text:"",focusable:false,viewBox:false,autoSize:true,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var a=this;a.textConfig=Ext.apply({type:"text",text:a.text,rotate:{degrees:a.degrees||0}},a.textStyle);Ext.apply(a.textConfig,a.getStyles(a.styleSelectors||a.styleSelector));a.initialConfig.items=[a.textConfig];a.callParent(arguments)},getStyles:function(b){b=Ext.Array.from(b);for(var c=0,f=b.length,d,a,g,e={};c<f;c++){d=Ext.util.CSS.getRule(b[c]);if(d){a=d.style;a&&Ext.apply(e,{"font-family":a.fontFamily,"font-weight":a.fontWeight,"line-height":a.lineHeight,"font-size":a.fontSize,fill:a.color})}}return e},setAngle:function(b){var a=this,c,d;if(a.rendered){c=a.surface;d=c.items.items[0];a.degrees=b;d.setAttributes({rotate:{degrees:b}},true);(a.autoSize||a.viewBox)&&a.updateLayout()}else a.degrees=b},setText:function(d){var a=this,b,c;if(a.rendered){b=a.surface;c=b.items.items[0];a.text=d||"";b.remove(c);a.textConfig.type="text";a.textConfig.text=a.text;c=b.add(a.textConfig);c.setAttributes({rotate:{degrees:a.degrees}},true);(a.autoSize||a.viewBox)&&a.updateLayout()}else a.on({render:function(){a.setText(d)},single:true})}});Ext.define("Ext.FocusManager",{singleton:true,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:["Ext.AbstractComponent","Ext.Component","Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:false,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(b){var a=this,c=Ext.ComponentQuery;a.mixins.observable.constructor.call(a,b);a.addEvents("beforecomponentfocus","componentfocus","disable","enable");a.focusTask=new Ext.util.DelayedTask(a.handleComponentFocus,a);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);if(a.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);a.onComponentFocus.apply(a,arguments)}},onBlur:function(){this.callParent(arguments);if(a.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);a.onComponentBlur.apply(a,arguments)}},onDestroy:function(){this.callParent(arguments);if(a.enabled){Array.prototype.unshift.call(arguments,this);a.onComponentDestroy.apply(a,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(a.enabled){Array.prototype.unshift.call(arguments,this);a.onComponentHide.apply(a,arguments)}}});a.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:a,backspace:a.focusLast,enter:a.navigateIn,esc:a.navigateOut,tab:a.navigateSiblings,space:a.navigateIn,del:a.focusLast,left:a.navigateSiblings,right:a.navigateSiblings,down:a.navigateSiblings,up:a.navigateSiblings});a.focusData={};a.subscribers=new Ext.util.HashMap;a.focusChain={};Ext.apply(c.pseudos,{focusable:function(c){for(var e=c.length,d=[],a=0,b;a<e;a++){b=c[a];b.isFocusable()&&d.push(b)}return d},nextFocus:function(e,b,c){c=c||1;b=parseInt(b,10);for(var d=e.length,a=b,f;true;){if((a+=c)>=d)a=0;else if(a<0)a=d-1;if(a===b)return[];if((f=e[a]).isFocusable())return[f]}return[]},prevFocus:function(b,a){return this.nextFocus(b,a,-1)},root:function(c){for(var e=c.length,d=[],a=0,b;a<e;a++){b=c[a];!b.ownerCt&&d.push(b)}return d}})},addXTypeToWhitelist:function(b){var a=this;if(Ext.isArray(b)){Ext.Array.forEach(b,a.addXTypeToWhitelist,a);return}!Ext.Array.contains(a.whitelist,b)&&a.whitelist.push(b)},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);!a.isDestroyed&&a.blur()},disable:function(){var a=this;if(!a.enabled)return;delete a.options;a.enabled=false;a.removeDOM();a.keyNav.disable();a.fireEvent("disable",a)},enable:function(b){var a=this;if(b===true)b={focusFrame:true};a.options=b=b||{};if(a.enabled)return;a.enabled=true;a.initDOM(b);a.keyNav.enable();a.focusEl.focus();delete a.focusedCmp;a.fireEvent("enable",a)},focusLast:function(){var a=this;if(a.isWhitelisted(a.focusedCmp))return true;a.previousFocusedCmp&&a.previousFocusedCmp.focus()},getRootComponents:function(){var d=this,a=Ext.ComponentQuery,c=a.query(":focusable:root:not([floating])"),b=a.query(":focusable:root[floating]");b.sort(function(b,a){return b.el.getZIndex()>a.el.getZIndex()});return b.concat(c)},initDOM:function(f){var a=this,b=a.focusFrameCls,d=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),c=0,e=d.length;if(!Ext.isReady)return Ext.onReady(a.initDOM,a);for(;c<e;c++)d[c].addFocusListener();if(!a.focusEl){a.focusEl=Ext.getBody();a.focusEl.dom.tabIndex=-1}if(!a.focusFrame&&f.focusFrame){a.focusFrame=Ext.getBody().createChild({cls:b,children:[{cls:b+"-top"},{cls:b+"-bottom"},{cls:b+"-left"},{cls:b+"-right"}],style:"top: -100px; left: -100px;"});a.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);a.focusFrame.hide().setLeftTop(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(e){var b=this,a=b.focusedCmp,c,d;if(b.isWhitelisted(a))return true;if(!a){c=b.getRootComponents()[0];if(c){c.getFocusEl()===b.focusEl&&b.focusEl.blur();c.focus()}}else{d=a.hasFocus?Ext.ComponentQuery.query(">:focusable",a)[0]:a;if(d)d.focus();else if(Ext.isFunction(a.onClick)){e.button=0;a.onClick(e);if(a.isVisible(true))a.focus();else b.navigateOut()}}},navigateOut:function(){var a=this,b;if(!a.focusedCmp||!(b=a.focusedCmp.up(":focusable")))a.focusEl.focus();else b.focus();return true},navigateSiblings:function(i,k,f){var h=this,g=k||h,c=i.getKey(),b=Ext.EventObject,n=i.shiftKey||c==b.LEFT||c==b.UP,l=c==b.LEFT||c==b.RIGHT||c==b.UP||c==b.DOWN,m=n?"prev":"next",j,d,a,e;a=g.focusedCmp&&g.focusedCmp.comp||g.focusedCmp;if(!a&&!f)return true;if(l&&h.isWhitelisted(a))return true;if(!a||a.is(":root"))e=h.getRootComponents();else{f=f||a.up();if(f)e=f.getRefItems()}if(e){j=a?Ext.Array.indexOf(e,a):-1;d=Ext.ComponentQuery.query(":"+m+"Focus("+j+")",e)[0];if(d&&a!==d){d.focus();return d}}},onComponentBlur:function(b){var a=this;if(a.focusedCmp===b){a.previousFocusedCmp=b;delete a.focusedCmp}a.focusFrame&&a.focusFrame.hide()},onComponentFocus:function(a){var b=this,d=b.focusChain,c;if(!a.isFocusable()){b.clearComponent(a);if(d[a.id])return;c=a.up();if(c){d[a.id]=true;c.focus()}return}b.focusChain={};b.focusTask.delay(10,null,null,[a,a.getFocusEl()])},handleComponentFocus:function(e,n){var a=this,g,b,o,d,f,c,i,h,k,j,m,l;if(a.fireEvent("beforecomponentfocus",a,e,a.previousFocusedCmp)===false){a.clearComponent(e);return}a.focusedCmp=e;if(a.shouldShowFocusFrame(e)){g="."+a.focusFrameCls+"-";b=a.focusFrame;d=n.getPageBox();f=d.top;c=d.left;i=d.width;h=d.height;k=b.child(g+"top");j=b.child(g+"bottom");m=b.child(g+"left");l=b.child(g+"right");k.setWidth(i).setLeftTop(c,f);j.setWidth(i).setLeftTop(c,f+h-2);m.setHeight(h-2).setLeftTop(c,f+2);l.setHeight(h-2).setLeftTop(c+i-2,f+2);b.show()}a.fireEvent("componentfocus",a,e,a.previousFocusedCmp)},onComponentHide:function(a){var b=this,c=false,e=b.focusedCmp,d;if(e)c=a.hasFocus||a.isContainer&&a.isAncestor(b.focusedCmp);b.clearComponent(a);if(c&&(d=a.up(":focusable")))d.focus();else b.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var a=this;if(a.enabled||a.subscribers.length)return;Ext.destroy(a.focusFrame);delete a.focusEl;delete a.focusFrame},removeXTypeFromWhitelist:function(b){var a=this;if(Ext.isArray(b)){Ext.Array.forEach(b,a.removeXTypeFromWhitelist,a);return}Ext.Array.remove(a.whitelist,b)},setupSubscriberKeys:function(b,d){var a=this,f=b.getFocusEl(),e=d.scope,c={backspace:a.focusLast,enter:a.navigateIn,esc:a.navigateOut,scope:a},g=function(c){return a.focusedCmp===b?a.navigateSiblings(c,a,b):a.navigateSiblings(c)};Ext.iterate(d,function(d,a){c[d]=function(d){var c=g(d);return Ext.isFunction(a)&&a.call(e||b,d,c)===true?true:c}},a);return new Ext.util.KeyNav(f,c)},shouldShowFocusFrame:function(b){var a=this,c=a.options||{},d=b.getFocusEl(),e=Ext.getDom(d).tagName;return!a.focusFrame||!b?false:c.focusFrame?true:a.focusData[b.id].focusFrame?true:false}});Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",src:"",alt:"",imgCls:"",getElConfig:function(){var a=this,c=a.callParent(),b;if(a.autoEl=="img")b=c;else c.cn=[b={tag:"img",id:a.id+"-img"}];if(a.imgCls)b.cls=(b.cls?b.cls+" ":"")+a.imgCls;b.src=a.src||Ext.BLANK_IMAGE_URL;if(a.alt)b.alt=a.alt;return c},onRender:function(){var a=this,b;a.callParent(arguments);b=a.el;a.imgEl=a.autoEl=="img"?b:b.getById(a.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},setSrc:function(c){var a=this,b=a.imgEl;a.src=c;if(b)b.dom.src=c||Ext.BLANK_IMAGE_URL}});Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:{floating:"Ext.util.Floating",bindable:"Ext.util.Bindable"},uses:["Ext.data.StoreManager"],msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:true,useTargetEl:false,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl"],renderTpl:'<div id="{id}-msgEl" style="position:relative" class="{[values.$comp.msgCls]}"></div>',floating:{shadow:"frame"},focusOnToFront:false,bringParentToFront:false,constructor:function(b,c){var a=this;if(!b.isComponent){b=Ext.get(b);this.isElement=true}a.ownerCt=b;!this.isElement&&a.bindComponent(b);a.callParent([c]);a.store&&a.bindStore(a.store,true)},bindComponent:function(b){var a=this,c={scope:this,resize:a.sizeMask,added:a.onComponentAdded,removed:a.onComponentRemoved},d=Ext.container.Container.hierarchyEventSource;if(b.floating){c.move=a.sizeMask;if(b.zIndexManager.front!==b){a.restack=true;a.activeOwner=b}}else if(b.ownerCt)a.onComponentAdded(b.ownerCt);else a.preventBringToFront=true;a.mon(b,c);a.mon(d,{show:a.onContainerShow,hide:a.onContainerHide,expand:a.onContainerExpand,collapse:a.onContainerCollapse,scope:a})},onComponentAdded:function(b){var a=this;delete a.activeOwner;a.floatParent=b;if(!b.floating)b=b.up("[floating]");if(b){a.activeOwner=b;a.mon(b,"move",a.sizeMask,a)}b=a.floatParent.ownerCt;if(a.rendered&&a.isVisible()&&b){a.floatOwner=b;a.mon(b,"afterlayout",a.sizeMask,a,{single:true})}},onComponentRemoved:function(){var a=this,c=a.activeOwner,b=a.floatOwner;c&&a.mun(c,"move",a.sizeMask,a);b&&a.mun(b,"afterlayout",a.sizeMask,a);delete a.activeOwner;delete a.floatOwner},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){this.isActiveContainer(a)&&this.onComponentShow()},onContainerHide:function(a){this.isActiveContainer(a)&&this.onComponentHide()},onContainerExpand:function(a){this.isActiveContainer(a)&&this.onComponentShow()},onContainerCollapse:function(a){this.isActiveContainer(a)&&this.onComponentHide()},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=true}},onComponentShow:function(){this.showNext&&this.show();delete this.showNext},sizeMask:function(){var a=this,b;if(a.rendered&&a.isVisible()){a.center();b=a.getMaskTarget();a.getMaskEl().show().setSize(b.getSize()).alignTo(b,"tl-tl")}},bindStore:function(b){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);b=a.store;b&&b.isLoading()&&a.onBeforeLoad()},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad,cachemiss:this.onBeforeLoad,cachefilled:this.onLoad}},onDisable:function(){this.callParent(arguments);this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var b=this,a=b.getOwner(),c;if(!b.disabled){b.loading=true;if(a.componentLayoutCounter)b.maybeShow();else{c=a.afterComponentLayout;a.afterComponentLayout=function(){a.afterComponentLayout=c;c.apply(a,arguments);b.maybeShow()}}}},maybeShow:function(){var a=this,b=a.getOwner();if(!b.isVisible(true))a.showNext=true;else a.loading&&b.rendered&&a.show()},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var a=this,b=a.msgEl;a.callParent(arguments);a.loading=true;if(a.useMsg)b.show().update(a.msg);else b.parent().hide()},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this);return}delete this.showNext;return this.callParent(arguments)},onHide:function(){this.callParent();this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this);return}return this.callParent(arguments)},afterShow:function(){this.callParent(arguments);this.sizeMask()},setZIndex:function(b){var a=this;if(a.restack)b=parseInt(a.activeOwner.el.getStyle("zIndex"),10)+1;a.getMaskEl().setStyle("zIndex",b-1);return a.mixins.floating.setZIndex.apply(a,arguments)},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){var a=this;a.isElement&&a.ownerCt.unmask();Ext.destroy(a.maskEl);a.callParent()}});Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.DomQuery","Ext.selection.DataViewModel"],mixins:{bindable:"Ext.util.Bindable"},inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:true,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,last:false,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var a=this,d=Ext.isDefined,b=a.itemTpl,c={};if(b){if(Ext.isArray(b))b=b.join("");else if(Ext.isObject(b)){c=Ext.apply(c,b.initialConfig);b=b.html}if(!a.itemSelector)a.itemSelector="."+a.itemCls;b=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',a.itemCls,b);a.tpl=new Ext.XTemplate(b,c)}a.callParent();if(Ext.isString(a.tpl)||Ext.isArray(a.tpl))a.tpl=new Ext.XTemplate(a.tpl);a.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove");a.addCmpEvents();a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store");a.bindStore(a.store,true);a.all=new Ext.CompositeElementLite;a.scrollState={top:0,left:0};a.on({scroll:a.onViewScroll,element:"el",scope:a})},onRender:function(){var a=this,c=a.loadMask,b={msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg};a.callParent(arguments);if(c){if(Ext.isObject(c))b=Ext.apply(b,c);a.loadMask=new Ext.LoadMask(a,b);a.loadMask.on({scope:a,beforeshow:a.onMaskBeforeShow,hide:a.onMaskHide})}},onBoxReady:function(){var a=this,b=a.store;a.callParent(arguments);a.doFirstRefresh(a.store)},onMaskBeforeShow:function(){var a=this,b=a.loadingHeight;a.getSelectionModel().deselectAll();a.all.clear();if(b&&b>a.getHeight()){a.hasLoadingHeight=true;a.oldMinHeight=a.minHeight;a.minHeight=b;a.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b="SINGLE";if(!a.selModel)a.selModel={};if(a.simpleSelect)b="SIMPLE";else if(a.multiSelect)b="MULTI";Ext.applyIf(a.selModel,{allowDeselect:a.allowDeselect,mode:b});if(!a.selModel.events)a.selModel=new Ext.selection.DataViewModel(a.selModel);if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);a.selModel.hasRelaySetup=true}if(a.disableSelection)a.selModel.locked=true;return a.selModel},refresh:function(){var a=this,c,e,g,f,b,d;if(!a.rendered||a.isDestroyed)return;if(!a.hasListeners.beforerefresh||a.fireEvent("beforerefresh",a)!==false){c=a.getTargetEl();d=a.store.getRange();b=c.dom;if(!a.preserveScrollOnRefresh){e=b.parentNode;g=b.style.display;b.style.display="none";f=b.nextSibling;e.removeChild(b)}if(a.refreshCounter)a.clearViewEl();else{a.fixedNodes=c.dom.childNodes.length;a.refreshCounter=1}a.tpl.append(c,a.collectData(d,0));if(d.length<1){(!a.deferEmptyText||a.hasSkippedEmptyText)&&Ext.core.DomHelper.insertHtml("beforeEnd",c.dom,a.emptyText);a.all.clear()}else{a.all.fill(Ext.query(a.getItemSelector(),c.dom));a.updateIndexes(0)}a.selModel.refresh();a.hasSkippedEmptyText=true;if(!a.preserveScrollOnRefresh){e.insertBefore(b,f);b.style.display=g}this.refreshSize();a.fireEvent("refresh",a);if(!a.viewReady){a.viewReady=true;a.fireEvent("viewready",a)}}},refreshSize:function(){var a=this.getSizeModel();(a.height.shrinkWrap||a.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var a=this,b=a.getTargetEl();if(a.fixedNodes)while(b.dom.childNodes[a.fixedNodes])b.dom.removeChild(b.dom.childNodes[a.fixedNodes]);else b.update("");a.refreshCounter++},onViewScroll:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var b=this.el.dom,a=this.scrollState;a.left=b.scrollLeft;a.top=b.scrollTop}},restoreScrollState:function(){if(this.rendered){var b=this.el.dom,a=this.scrollState;b.scrollLeft=a.left;b.scrollTop=a.top}},prepareData:function(d,e,c){var b,a;if(c){b=c.getAssociatedData();for(a in b)if(b.hasOwnProperty(a))d[a]=b[a]}return d},collectData:function(c,f){for(var d=[],a=0,e=c.length,b;a<e;a++){b=c[a];d[a]=this.prepareData(b.data,f+a,b)}return d},bufferRender:function(c,d){var a=this,b=a.renderBuffer||(a.renderBuffer=document.createElement("div"));a.tpl.overwrite(b,a.collectData(c,d));return Ext.query(a.getItemSelector(),b)},onUpdate:function(e,c){var a=this,b,d;if(a.rendered){b=a.store.indexOf(c);if(b>-1){d=a.bufferRender([c],b)[0];if(a.getNode(c)){a.all.replaceElement(b,d,true);a.updateIndexes(b,b);a.selModel.refresh();a.hasListeners.itemupdate&&a.fireEvent("itemupdate",c,b,d);return d}}}},onAdd:function(e,d,b){var a=this,c;if(a.rendered){if(a.all.getCount()===0){a.refresh();return}c=a.bufferRender(d,b);a.doAdd(c,d,b);a.selModel.refresh();a.updateIndexes(b);this.refreshSize();a.hasListeners.itemadd&&a.fireEvent("itemadd",d,b,c)}},doAdd:function(a,e,b){var c=this.all,d=c.getCount();if(d===0){this.clearViewEl();this.getTargetEl().appendChild(a)}else if(b<d)if(b===0)c.item(b).insertSibling(a,"before",true);else c.item(b-1).insertSibling(a,"after",true);else c.last().insertSibling(a,"after",true);Ext.Array.insert(c.elements,b,a)},onRemove:function(d,c,b){var a=this;if(a.rendered){if(a.store.getCount()===0)a.refresh();else{a.doRemove(c,b);a.updateIndexes(b)}this.refreshSize();a.hasListeners.itemremove&&a.fireEvent("itemremove",c,b)}},doRemove:function(b,a){this.all.removeElement(a,true)},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(d,c){var b=this.all.elements,e=this.store.getRange(),a;d=d||0;c=c||(c===0?0:b.length-1);for(a=d;a<=c;a++){b[a].viewIndex=a;b[a].viewRecordId=e[a].internalId;if(!b[a].boundView)b[a].boundView=this.id}},getStore:function(){return this.store},bindStore:function(b){var a=this;a.mixins.bindable.bindStore.apply(a,arguments);a.getSelectionModel().bindStore(a.store);a.componentLayoutCounter&&a.doFirstRefresh(b)},doFirstRefresh:function(b){var a=this;if(b&&!b.loading)if(a.deferInitialRefresh)Ext.Function.defer(function(){!a.isDestroyed&&a.refresh()},1);else a.refresh()},onUnbindStore:function(){this.setMaskBind(null)},onBindStore:function(a){this.setMaskBind(a)},setMaskBind:function(b){var a=this.loadMask;a&&a.bindStore&&a.bindStore(b)},getStoreListeners:function(){var a=this;return{refresh:a.onDataRefresh,add:a.onAdd,remove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){this.blockRefresh!==true&&this.refresh.apply(this,arguments)},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var c=[],b=this.selModel.getSelection(),d=b.length,a=0;a<d;a++)c.push(this.getNode(b[a]));return c},getRecords:function(c){for(var a=[],b=0,d=c.length,e=this.store.data;b<d;b++)a[a.length]=e.getByKey(c[b].viewRecordId);return a},getRecord:function(a){return this.store.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(b){var a=this.getRecord(b);return this.selModel.isSelected(a)},select:function(b,c,a){this.selModel.select(b,c,a)},deselect:function(b,a){this.selModel.deselect(b,a)},getNode:function(a){return!a&&a!==0||!this.rendered?null:Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a.isModel?this.getNodeByRecord(a):a},getNodeByRecord:function(c){for(var b=this.all.elements,d=b.length,a=0;a<d;a++)if(b[a].viewRecordId===c.internalId)return b[a];return null},getNodes:function(d,b){var c=this.all.elements,e=[],a;d=d||0;b=!Ext.isDefined(b)?Math.max(c.length-1,0):b;if(d<=b)for(a=d;a<=b&&c[a];a++)e.push(c[a]);else for(a=d;a>=b&&c[a];a--)e.push(c[a]);return e},indexOf:function(a){a=this.getNode(a);return Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();a.callParent();a.bindStore(null);a.selModel.destroy()},onItemSelect:function(b){var a=this.getNode(b);a&&Ext.fly(a).addCls(this.selectedItemCls)},onItemDeselect:function(b){var a=this.getNode(b);a&&Ext.fly(a).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection().length},getSelectedRecords:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection()},select:function(){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var a=this.getSelectionModel();return a.select.apply(a,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var a=this.getSelectionModel();return a.deselectAll()}})})});Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],constructor:function(e){var c=this,d,a,b;Ext.apply(c,e);if(!Ext.isString(c.mode))c.mode=c.defaultMode;a=c.offset;b=Math.floor(a/2);c.opacity=50;switch(c.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow)d={t:a,l:a,h:-a,w:-a};else d={t:-b,l:-b,h:-b,w:-b};break;case"sides":if(Ext.supports.CSS3BoxShadow)d={t:a,l:0,h:-a,w:0};else d={t:-(1+b),l:1+b-2*a,h:-1,w:b-1};break;case"frame":if(Ext.supports.CSS3BoxShadow)d={t:0,l:0,h:0,w:0};else d={t:1+b-2*a,l:1+b-2*a,h:a-b-1,w:a-b-1}}c.adjusts=d},offset:4,defaultMode:"drop",boxShadowProperty:function(){var b="boxShadow",a=document.documentElement.style;if(!("boxShadow"in a))if("WebkitBoxShadow"in a)b="WebkitBoxShadow";else if("MozBoxShadow"in a)b="MozBoxShadow";return b}(),show:function(b){var a=this,c;b=Ext.get(b);if(!a.el){a.el=Ext.ShadowPool.pull();a.el.dom.nextSibling!=b.dom&&a.el.insertBefore(b)}c=parseInt(b.getStyle("z-index"),10)-1||0;a.el.setStyle("z-index",a.zIndex||c);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow)a.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+a.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+a.offset+")";a.realign(b.getLeft(true),b.getTop(true),b.dom.offsetWidth,b.dom.offsetHeight);a.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(g,k,j,h){if(!this.el)return;var b=this.adjusts,i=this.el.dom,a=i.style,e,f,c,d;a.left=g+b.l+"px";a.top=k+b.t+"px";e=Math.max(j+b.w,0);f=Math.max(h+b.h,0);c=e+"px";d=f+"px";if(a.width!=c||a.height!=d){a.width=c;a.height=d;if(Ext.supports.CSS3BoxShadow)a[this.boxShadowProperty]="0 0 "+this.offset+"px #888"}},hide:function(){var a=this;if(a.el){a.el.dom.style.display="none";Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;this.el&&this.el.setStyle("z-index",a)},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow)a=Math.floor(a*100/2)/100;this.opacity=a;this.el.setOpacity(a)}}});Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){a&&this.init(a,b,c)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(j,a){if(Ext.isNumber(a))a={left:a,right:a,top:a,bottom:a};a=a||this.defaultPadding;var c=Ext.get(this.getEl()).getBox(),d=Ext.get(j),i=d.getScroll(),b,e=d.dom,h,g,f;if(e==document.body)b={x:i.left,y:i.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()};else{h=d.getXY();b={x:h[0],y:h[1],width:e.clientWidth,height:e.clientHeight}}g=c.y-b.y;f=c.x-b.x;this.resetConstraints();this.setXConstraint(f-(a.left||0),b.width-f-c.width-(a.right||0),this.xTickSize);this.setYConstraint(g-(a.top||0),b.height-g-c.height-(a.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef)this._domRef=Ext.getDom(this.id);return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(c,a,b){this.initTarget(c,a,b);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof a!=="string")a=Ext.id(a);this.id=a;this.addToGroup(b?b:"default");this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==false;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==false},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){if(!b&&0!==b)this.padding=[a,a,a,a];else if(!c&&0!==c)this.padding=[a,b,a,b];else this.padding=[a,b,c,d]},setInitPosition:function(f,e){var d=this.getEl(),c,b,a;if(!this.DDMInstance.verifyEl(d))return;c=f||0;b=e||0;a=Ext.Element.getXY(d);this.initPageX=a[0]-c;this.initPageY=a[1]-b;this.lastPageX=a[0];this.lastPageY=a[1];this.setStartPosition(a)},setStartPosition:function(b){var a=b||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a])delete this.groups[a];this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string")a=Ext.id(a);this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string")a=Ext.id(a);Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a){if(this.primaryButtonOnly&&a.button!=0)return;if(this.isLocked())return;this.DDMInstance.refreshCache(this.groups);if(this.hasOuterHandles||this.DDMInstance.isOverTarget(a.getPoint(),this))if(this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDMInstance.handleMouseDown(a,this);this.DDMInstance.stopEvent(a)}},clickValidator:function(b){var a=b.getTarget();return this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){if(typeof a!=="string")a=Ext.id(a);this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=="string")a=Ext.id(a);delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(c){for(var a=0,b=this.invalidHandleClasses.length;a<b;++a)if(this.invalidHandleClasses[a]==c)delete this.invalidHandleClasses[a]},isValidHandleChild:function(c){var a=true,d,b,e;try{d=c.nodeName.toUpperCase()}catch(f){d=c.nodeName}a=a&&!this.invalidHandleTypes[d];a=a&&!this.invalidHandleIds[c.id];for(b=0,e=this.invalidHandleClasses.length;a&&b<e;++b)a=!Ext.fly(c).hasCls(this.invalidHandleClasses[b]);return a},setXTicks:function(d,c){this.xTicks=[];this.xTickSize=c;for(var b={},a=this.initPageX;a>=this.minX;a=a-c)if(!b[a]){this.xTicks[this.xTicks.length]=a;b[a]=true}for(a=this.initPageX;a<=this.maxX;a=a+c)if(!b[a]){this.xTicks[this.xTicks.length]=a;b[a]=true}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(d,c){this.yTicks=[];this.yTickSize=c;for(var b={},a=this.initPageY;a>=this.minY;a=a-c)if(!b[a]){this.yTicks[this.yTicks.length]=a;b[a]=true}for(a=this.initPageY;a<=this.maxY;a=a+c)if(!b[a]){this.yTicks[this.yTicks.length]=a;b[a]=true}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(c,b,a){this.leftConstraint=c;this.rightConstraint=b;this.minX=this.initPageX-c;this.maxX=this.initPageX+b;a&&this.setXTicks(this.initPageX,a);this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(a,c,b){this.topConstraint=a;this.bottomConstraint=c;this.minY=this.initPageY-a;this.maxY=this.initPageY+c;b&&this.setYTicks(this.initPageY,b);this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var b=this.maintainOffset?this.lastPageX-this.initPageX:0,a=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(b,a)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(d,a){if(!a)return d;else if(a[0]>=d)return a[0];else{var b,e,c,g,f;for(b=0,e=a.length;b<e;++b){c=b+1;if(a[c]&&a[c]>=d){g=d-a[b];f=a[c]-d;return f>g?a[b]:a[c]}}return a[a.length-1]}},toString:function(){return"DragDrop "+this.id}});Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){a&&this.init(a,b,c)},scroll:true,autoOffset:function(c,b){var a=c-this.startPageX,d=b-this.startPageY;this.setDelta(a,d)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(c,b){var a=this.getDragEl();this.alignElWithMouse(a,c,b)},alignElWithMouse:function(c,k,j){var a=this.getTargetCoord(k,j),d=c.dom?c:Ext.fly(c,"_dd"),e=d.getSize(),h=Ext.Element,b,f,i,g;if(!this.deltaSetXY){b=this.cachedViewportSize={width:h.getDocumentWidth(),height:h.getDocumentHeight()};f=[Math.max(0,Math.min(a.x,b.width-e.width)),Math.max(0,Math.min(a.y,b.height-e.height))];d.setXY(f);i=d.getLeft(true);g=d.getTop(true);this.deltaSetXY=[i-a.x,g-a.y]}else{b=this.cachedViewportSize;d.setLeftTop(Math.max(0,Math.min(a.x+this.deltaSetXY[0],b.width-e.width)),Math.max(0,Math.min(a.y+this.deltaSetXY[1],b.height-e.height)))}this.cachePosition(a.x,a.y);this.autoScroll(a.x,a.y,c.offsetHeight,c.offsetWidth);return a},cachePosition:function(a,c){if(a){this.lastPageX=a;this.lastPageY=c}else{var b=Ext.Element.getXY(this.getEl());this.lastPageX=b[0];this.lastPageY=b[1]}},autoScroll:function(f,e,i,m){if(this.scroll){var h=Ext.Element.getViewHeight(),g=Ext.Element.getViewWidth(),b=this.DDMInstance.getScrollTop(),a=this.DDMInstance.getScrollLeft(),l=i+e,n=m+f,k=h+b-e-this.deltaY,j=g+a-f-this.deltaX,d=40,c=document.all?80:30;l>h&&k<d&&window.scrollTo(a,b+c);e<b&&b>0&&e-b<d&&window.scrollTo(a,b-c);n>g&&j<d&&window.scrollTo(a+c,b);f<a&&a>0&&f-a<d&&window.scrollTo(a-c,b)}},getTargetCoord:function(d,c){var a=d-this.deltaX,b=c-this.deltaY;if(this.constrainX){if(a<this.minX)a=this.minX;if(a>this.maxX)a=this.maxX}if(this.constrainY){if(b<this.minY)b=this.minY;if(b>this.maxY)b=this.maxY}a=this.getTick(a,this.xTicks);b=this.getTick(b,this.yTicks);return{x:a,y:b}},applyConfig:function(){this.callParent();this.scroll=this.config.scroll!==false},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id}});Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){if(a){this.init(a,b,c);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var d=this,c=document.body,b,a;if(!c||!c.firstChild){setTimeout(function(){d.createFrame()},50);return}b=this.getDragEl();if(!b){b=document.createElement("div");b.id=this.dragElId;a=b.style;a.position="absolute";a.visibility="hidden";a.cursor="move";a.border="2px solid #aaa";a.zIndex=999;c.insertBefore(b,c.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=this.config.resizeFrame!==false;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(d,c){var e=this.getEl(),a=this.getDragEl(),b=a.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2));this.setDragElPos(d,c);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(b){var a=b.getPageX(),c=b.getPageY();this.autoOffset(a,c);this.setDragElPos(a,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var b=this.getEl(),a=this.getDragEl();a.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,a);a.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}});Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(a,b,c){a&&this.initTarget(a,b,c)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(){this.overClass&&this.el.addCls(this.overClass);return this.dropAllowed},notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){return false},destroy:function(){this.callParent();this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}});Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return false},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return false},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(b,a,c){var d=this.getTargetFromEvent(a);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,a,c);this.lastOverNode=null}return this.onContainerOver(b,a,c)}if(this.lastOverNode!=d){if(this.lastOverNode)this.onNodeOut(this.lastOverNode,b,a,c);this.onNodeEnter(d,b,a,c);this.lastOverNode=d}return this.onNodeOver(d,b,a,c)},notifyOut:function(a,c,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}},notifyDrop:function(b,a,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,a,c);this.lastOverNode=null}var d=this.getTargetFromEvent(a);return d?this.onNodeDrop(d,b,a,c):this.onContainerDrop(b,a,c)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:"visibility",hidden:true,floating:true,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});b.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(c){var a=this,b=Ext.baseCSSPrefix+"dd-drag-proxy ";a.el.replaceCls(b+a.dropAllowed,b+a.dropNotAllowed);a.dropStatus=a.dropNotAllowed;c&&a.ghost.update("")},update:function(a){if(typeof a=="string")this.ghost.update(a);else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;b&&Ext.fly(b).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){this.callParent();a&&this.reset(true)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(b,d,c){var a=this;a.callback=d;a.scope=c;if(b&&a.animRepair!==false){a.el.addCls(Ext.baseCSSPrefix+"dd-drag-repair");a.el.hideUnders(true);a.anim=a.el.animate({duration:a.repairDuration||500,easing:"ease-out",to:{x:b[0],y:b[1]},stopAnimation:true,callback:a.afterRepair,scope:a})}else a.afterRepair()},afterRepair:function(){var a=this;a.hide(true);a.el.removeCls(Ext.baseCSSPrefix+"dd-drag-repair");typeof a.callback=="function"&&a.callback.call(a.scope||a);delete a.callback;delete a.scope}});Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(b,a){this.el=Ext.get(b);if(!this.dragData)this.dragData={};Ext.apply(this,a);if(!this.proxy)this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair});this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(){return this.dragData},onDragEnter:function(b,c){var a=Ext.dd.DragDropManager.getDDById(c),d;this.cachedTarget=a;if(this.beforeDragEnter(a,b,c)!==false){if(a.isNotifyTarget){d=a.notifyEnter(this,b,this.dragData);this.proxy.setStatus(d)}else this.proxy.setStatus(this.dropAllowed);this.afterDragEnter&&this.afterDragEnter(a,b,c)}},beforeDragEnter:function(){return true},onDragOver:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(c),d;if(this.beforeDragOver(a,b,c)!==false){if(a.isNotifyTarget){d=a.notifyOver(this,b,this.dragData);this.proxy.setStatus(d)}this.afterDragOver&&this.afterDragOver(a,b,c)}},beforeDragOver:function(){return true},onDragOut:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(c);if(this.beforeDragOut(a,b,c)!==false){a.isNotifyTarget&&a.notifyOut(this,b,this.dragData);this.proxy.reset();this.afterDragOut&&this.afterDragOut(a,b,c)}this.cachedTarget=null},beforeDragOut:function(){return true},onDragDrop:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(c);if(this.beforeDragDrop(a,b,c)!==false){if(a.isNotifyTarget)if(a.notifyDrop(this,b,this.dragData)!==false)this.onValidDrop(a,b,c);else this.onInvalidDrop(a,b,c);else this.onValidDrop(a,b,c);this.afterDragDrop&&this.afterDragDrop(a,b,c)}delete this.cachedTarget},beforeDragDrop:function(){return true},onValidDrop:function(b,a,c){this.hideProxy();this.afterValidDrop&&this.afterValidDrop(b,a,c)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(c,a,b){this.beforeInvalidDrop(c,a,b);if(this.cachedTarget){this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,a,this.dragData);this.cacheTarget=null}this.proxy.repair(this.getRepairXY(a,this.dragData),this.afterRepair,this);this.afterInvalidDrop&&this.afterInvalidDrop(a,b)},afterRepair:function(){var a=this;Ext.enableFx&&a.el.highlight(a.repairHighlightColor);a.dragging=false},beforeInvalidDrop:function(){return true},handleMouseDown:function(b){if(this.dragging)return;var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(b,c){var a=this.el.dom.cloneNode(true);a.id=Ext.id();this.proxy.update(a);this.onStartDrag(b,c);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(b,d){var a=this,c=b.el;a.sprite=b;a.el=c;a.dragData={el:c,sprite:b};a.callParent([c,d]);a.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(){return this.el},getRegion:function(){var f=this,i=f.el,a,b,e,c,g,n,j,m,k,d,h;h=f.sprite;d=h.getBBox();try{a=Ext.Element.getXY(i)}catch(l){}if(!a)return null;b=a[0];e=b+d.width;c=a[1];g=c+d.height;return new Ext.util.Region(c,e,g,b)},startDrag:function(b,c){var a=this,d=a.sprite.attr;a.prev=a.sprite.surface.transformToViewBox(b,c)},onDrag:function(g){var a=g.getXY(),b=this,f=b.sprite,c=f.attr,e,d;a=b.sprite.surface.transformToViewBox(a[0],a[1]);e=a[0]-b.prev[0];d=a[1]-b.prev[1];f.setAttributes({translate:{x:c.translation.x+e,y:c.translation.y+d}},true);b.prev=a},setDragElPos:function(){return false}});Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:false,dirtyHidden:false,dirtyTransform:false,dirtyPath:true,dirtyFont:true,zIndexDirty:true,isSprite:true,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(a){var b=this;a=Ext.merge({},a||{});b.id=Ext.id(null,"ext-sprite-");b.transformations=[];Ext.copyTo(this,a,"surface,group,type,draggable");b.bbox={};b.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete a.surface;delete a.group;delete a.type;delete a.draggable;b.setAttributes(a);b.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click");b.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var a=this;a.draggable=true;!a.el&&a.surface.createSpriteElement(a);a.dd=new Ext.draw.SpriteDD(a,Ext.isBoolean(a.draggable)?null:a.draggable);a.on("beforedestroy",a.dd.destroy,a.dd)},setAttributes:function(a,r){var b=this,o=b.fontProperties,s=o.length,n=b.pathProperties,q=n.length,p=!!b.surface,m=p&&b.surface.customAttributes||{},e=b.attr,l=false,d,i,h,k,f,j,c,g;a=Ext.apply({},a);for(d in m)a.hasOwnProperty(d)&&typeof m[d]=="function"&&Ext.apply(a,m[d].apply(b,[].concat(a[d])));if(!!a.hidden!==!!e.hidden)b.dirtyHidden=true;for(i=0;i<q;i++){d=n[i];if(d in a&&a[d]!==e[d]){b.dirtyPath=true;l=true;break}}if("zIndex"in a)b.zIndexDirty=true;if("text"in a){b.dirtyFont=true;l=true}for(i=0;i<s;i++){d=o[i];if(d in a&&a[d]!==e[d]){b.dirtyFont=true;l=true;break}}h=a.translation||a.translate;delete a.translate;delete a.translation;k=e.translation;if(h)if("x"in h&&h.x!==k.x||"y"in h&&h.y!==k.y){b.dirtyTransform=true;k.x=h.x;k.y=h.y}f=a.rotation||a.rotate;j=e.rotation;delete a.rotate;delete a.rotation;if(f)if("x"in f&&f.x!==j.x||"y"in f&&f.y!==j.y||"degrees"in f&&f.degrees!==j.degrees){b.dirtyTransform=true;j.x=f.x;j.y=f.y;j.degrees=f.degrees}c=a.scaling||a.scale;g=e.scaling;delete a.scale;delete a.scaling;if(c)if("x"in c&&c.x!==g.x||"y"in c&&c.y!==g.y||"cx"in c&&c.cx!==g.cx||"cy"in c&&c.cy!==g.cy){b.dirtyTransform=true;g.x=c.x;g.y=c.y;g.cx=c.cx;g.cy=c.cy}if(!b.dirtyTransform&&l)if(e.scaling.x===null||e.scaling.y===null||e.rotation.y===null||e.rotation.y===null)b.dirtyTransform=true;Ext.apply(e,a);b.dirty=true;r===true&&p&&b.redraw();return this},getBBox:function(){return this.surface.getBBox(this)},setText:function(a){return this.surface.setText(this,a)},hide:function(a){this.setAttributes({hidden:true},a);return this},show:function(a){this.setAttributes({hidden:false},a);return this},remove:function(){if(this.surface){this.surface.remove(this);return true}return false},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var a=this;if(a.fireEvent("beforedestroy",a)!==false){a.remove();a.surface.onDestroy(a);a.clearListeners();a.fireEvent("destroy")}},redraw:function(){this.surface.renderItem(this);return this},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(a){this.surface.addCls(this,a);return this},removeCls:function(a){this.surface.removeCls(this,a);return this}});Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(d,a){var c=this.domRef.createElementNS("http://www.w3.org/2000/svg",d),b;if(a)for(b in a)c.setAttribute(b,String(a[b]));return c},createSpriteElement:function(a){var b=this.createSvgElement(a.type);b.id=a.id;if(b.style)b.style.webkitTapHighlightColor="rgba(0,0,0,0)";a.el=Ext.get(b);this.applyZIndex(a);a.matrix=new Ext.draw.Matrix;a.bbox={plain:0,transform:0};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return b},getBBoxText:function(e){var a={},b,h,f,d,g,c;if(e&&e.el){c=e.el.dom;try{a=c.getBBox();return a}catch(i){}a={x:a.x,y:Infinity,width:0,height:0};g=c.getNumberOfChars();for(d=0;d<g;d++){b=c.getExtentOfChar(d);a.y=Math.min(b.y,a.y);h=b.y+b.height-a.y;a.height=Math.max(a.height,h);f=b.x+b.width-a.x;a.width=Math.max(a.width,f)}return a}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(e,g){for(var i=this,b=new Ext.draw.Matrix,f=e.transformations,h=f.length,d=0,a,c;d<h;d++){a=f[d];c=a.type;if(c=="translate")b.translate(a.x,a.y);else if(c=="rotate")b.rotate(a.degrees,a.x,a.y);else c=="scale"&&b.scale(a.x,a.y,a.centerX,a.centerY)}e.matrix=b;!g&&e.el.set({transform:b.toSvg()})},setSize:function(b,a){var c=this,d=c.el;b=+b||c.width;a=+a||c.height;c.width=b;c.height=a;d.setSize(b,a);d.set({width:b,height:a});c.callParent([b,a])},getRegion:function(){var e=this.el.getXY(),c=this.bgRect.getXY(),b=Math.max,a=b(e[0],c[0]),d=b(e[1],c[1]);return{left:a,top:d,right:a+this.width,bottom:d+this.height}},onRemove:function(a){if(a.el){a.el.destroy();delete a.el}this.callParent(arguments)},setViewBox:function(b,d,c,a){if(isFinite(b)&&isFinite(d)&&isFinite(c)&&isFinite(a)){this.callParent(arguments);this.el.dom.setAttribute("viewBox",[b,d,c,a].join(" "))}},render:function(h){var a=this,g,f,b,e,c,d;if(!a.el){g=a.width||0;f=a.height||0;b=a.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:g,height:f});e=a.getDefs();c=a.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0});if(Ext.isSafari3)d=a.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"});b.appendChild(e);Ext.isSafari3&&b.appendChild(d);b.appendChild(c);h.appendChild(b);a.el=Ext.get(b);a.bgRect=Ext.get(c);if(Ext.isSafari3){a.webkitRect=Ext.get(d);a.webkitRect.hide()}a.el.on({scope:a,mouseup:a.onMouseUp,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,mousemove:a.onMouseMove,mouseenter:a.onMouseEnter,mouseleave:a.onMouseLeave,click:a.onClick,dblclick:a.onDblClick})}a.renderAll()},onMouseEnter:function(a){this.el.parent().getRegion().contains(a.getPoint())&&this.fireEvent("mouseenter",a)},onMouseLeave:function(a){!this.el.parent().getRegion().contains(a.getPoint())&&this.fireEvent("mouseleave",a)},processEvent:function(d,c){var a=c.getTarget(),e=this.surface,b;this.fireEvent(d,c);if(a.nodeName=="tspan"&&a.parentNode)a=a.parentNode;b=this.items.get(a.id);b&&b.fireEvent(d,b,c)},tuneText:function(a,d){var j=a.el.dom,b=[],e,l,i,c,f,k,g,h;if(d.hasOwnProperty("text")){i=a.tspans&&Ext.Array.map(a.tspans,function(a){return a.textContent}).join("");if(!a.tspans||d.text!=i){b=this.setText(a,d.text);a.tspans=b}else b=a.tspans||[]}if(b.length){e=this.getBBoxText(a).height;h=a.el.dom.getAttribute("x");for(c=0,f=b.length;c<f;c++){g=Ext.isFF3_0||Ext.isFF3_5?2:4;b[c].setAttribute("x",h);b[c].setAttribute("dy",c?e*1.2:e/g)}a.dirty=true}},setText:function(j,h){var i=this,b=j.el.dom,f=[],k,c,e,a,g,d;while(b.firstChild)b.removeChild(b.firstChild);d=String(h).split("\n");for(a=0,g=d.length;a<g;a++){e=d[a];if(e){c=i.createSvgElement("tspan");c.appendChild(document.createTextNode(Ext.htmlDecode(e)));b.appendChild(c);f[a]=c}}return f},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){if(!this.el)return;!a.el&&this.createSpriteElement(a);a.zIndexDirty&&this.applyZIndex(a);if(a.dirty){this.applyAttrs(a);a.dirtyTransform&&this.applyTransformations(a)}},redraw:function(a){a.dirty=a.zIndexDirty=true;this.renderItem(a)},applyAttrs:function(b){var d=this,e=b.el,g=b.group,k=b.attr,m=d.parsers,j=d.gradientsMap||{},n=Ext.isSafari&&!Ext.isStrict,i,f,l,a,p,c,h,o,q;if(g){i=[].concat(g);l=i.length;for(f=0;f<l;f++){g=i[f];d.getGroup(g).add(b)}delete b.group}a=d.scrubAttrs(b)||{};b.bbox.plain=0;b.bbox.transform=0;if(b.type=="circle"||b.type=="ellipse"){a.cx=a.cx||a.x;a.cy=a.cy||a.y}else if(b.type=="rect")a.rx=a.ry=a.r;else if(b.type=="path"&&a.d)a.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(a.d));b.dirtyPath=false;if(a["clip-rect"]){d.setClip(b,a);delete a["clip-rect"]}b.type=="text"&&a.font&&b.dirtyFont&&e.set({style:"font: "+a.font});b.type=="image"&&e.dom.setAttributeNS(d.xlink,"href",a.src);Ext.applyIf(a,d.minDefaults[b.type]);if(b.dirtyHidden){k.hidden?d.hidePrim(b):d.showPrim(b);b.dirtyHidden=false}for(c in a)if(a.hasOwnProperty(c)&&a[c]!=null){if(n&&"color|stroke|fill".indexOf(c)>-1&&a[c]in j)a[c]=j[a[c]];if(c=="hidden"&&b.type=="text")continue;if(c in m)e.dom.setAttribute(c,m[c](a[c],b,d));else e.dom.setAttribute(c,a[c])}b.type=="text"&&d.tuneText(b,a);b.dirtyFont=false;h=k.style;h&&e.setStyle(h);b.dirty=false;if(Ext.isSafari3){d.webkitRect.show();setTimeout(function(){d.webkitRect.hide()})}},setClip:function(c,f){var e=this,d=f["clip-rect"],b,a;if(d){c.clip&&c.clip.parentNode.parentNode.removeChild(c.clip.parentNode);b=e.createSvgElement("clipPath");a=e.createSvgElement("rect");b.id=Ext.id(null,"ext-clip-");a.setAttribute("x",d.x);a.setAttribute("y",d.y);a.setAttribute("width",d.width);a.setAttribute("height",d.height);b.appendChild(a);e.getDefs().appendChild(b);c.el.dom.setAttribute("clip-path","url(#"+b.id+")");c.clip=a}},applyZIndex:function(c){var d=this,e=d.items,a=e.indexOf(c),f=c.el,b;if(d.el.dom.childNodes[a+2]!==f.dom){if(a>0)do b=e.getAt(--a).el;while(!b&&a>0);f.insertAfter(b||d.bgRect)}c.zIndexDirty=false},createItem:function(b){var a=new Ext.draw.Sprite(b);a.surface=this;return a},addGradient:function(a){a=Ext.draw.Draw.parseGradient(a);var c=this,i=a.stops.length,e=a.vector,j=Ext.isSafari&&!Ext.isStrict,b,g,d,f,h;h=c.gradientsMap||{};if(!j){if(a.type=="linear"){b=c.createSvgElement("linearGradient");b.setAttribute("x1",e[0]);b.setAttribute("y1",e[1]);b.setAttribute("x2",e[2]);b.setAttribute("y2",e[3])}else{b=c.createSvgElement("radialGradient");b.setAttribute("cx",a.centerX);b.setAttribute("cy",a.centerY);b.setAttribute("r",a.radius);if(Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)){b.setAttribute("fx",a.focalX);b.setAttribute("fy",a.focalY)}}b.id=a.id;c.getDefs().appendChild(b);for(f=0;f<i;f++){g=a.stops[f];d=c.createSvgElement("stop");d.setAttribute("offset",g.offset+"%");d.setAttribute("stop-color",g.color);d.setAttribute("stop-opacity",g.opacity);b.appendChild(d)}}else h["url(#"+a.id+")"]=a.stops[0].color;c.gradientsMap=h},hasCls:function(b,a){return a&&(" "+(b.el.dom.getAttribute("class")||"")+" ").indexOf(" "+a+" ")!=-1},addCls:function(g,a){var e=g.el,c,f,b,d=[],h=e.getAttribute("class")||"";if(!Ext.isArray(a))typeof a=="string"&&!this.hasCls(g,a)&&e.set({"class":h+" "+a});else{for(c=0,f=a.length;c<f;c++){b=a[c];typeof b=="string"&&(" "+h+" ").indexOf(" "+b+" ")==-1&&d.push(b)}d.length&&e.set({"class":" "+d.join(" ")})}},removeCls:function(j,a){var e=this,g=j.el,h=g.getAttribute("class")||"",d,f,i,b,c;if(!Ext.isArray(a))a=[a];if(h){c=h.replace(e.trimRe," ").split(e.spacesRe);for(d=0,i=a.length;d<i;d++){b=a[d];if(typeof b=="string"){b=b.replace(e.trimRe,"");f=Ext.Array.indexOf(c,b);f!=-1&&Ext.Array.erase(c,f,1)}}g.set({"class":c.join(" ")})}},destroy:function(){var a=this;a.callParent();a.el&&a.el.remove();a._defs&&Ext.get(a._defs).destroy();a.bgRect&&Ext.get(a.bgRect).destroy();a.webkitRect&&Ext.get(a.webkitRect).destroy();delete a.el}});Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:false,path2vml:function(g){var a=this,p=a.NonVmlPathRe,j=a.map,n=a.valRe,o=a.zoom,m=a.bitesRe,k=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),e,f,h,b,d,l,c,i;if(String(g).match(p))k=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(g).match(a.partialPathRe)){e=String(g).replace(m,function(f,b,e){var a=[],d=b.toLowerCase()=="m",c=j[b];e.replace(n,function(e){if(d&&a.length===2){c+=a+j[b=="m"?"l":"L"];a=[]}a.push(Math.round(e*o))});return c+a});return e}f=k(g);e=[];for(d=0,l=f.length;d<l;d++){h=f[d];b=f[d][0].toLowerCase();if(b=="z")b="x";for(c=1,i=h.length;c<i;c++)b+=Math.round(h[c]*a.zoom)+(c!=i-1?",":"");e.push(b)}return e.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(c,b){var d=b.getTarget(),e=this.surface,a;this.fireEvent(c,b);a=this.items.get(d.id);a&&a.fireEvent(c,a,b)},createSpriteElement:function(a){var c=this,j=a.attr,f=a.type,i=c.zoom,h=a.vml||(a.vml={}),k=Math.round,b=f==="image"?c.createNode("image"):c.createNode("shape"),g,d,e;b.coordsize=i+" "+i;b.coordorigin=j.coordorigin||"0 0";Ext.get(b).addCls(c.spriteCls);if(f=="text"){h.path=g=c.createNode("path");g.textpathok=true;h.textpath=e=c.createNode("textpath");e.on=true;b.appendChild(e);b.appendChild(g)}b.id=a.id;a.el=Ext.get(b);a.el.setStyle("zIndex",-c.zIndexShift);c.el.appendChild(b);if(f!=="image"){d=c.createNode("skew");d.on=true;b.appendChild(d);a.skew=d}a.matrix=new Ext.draw.Matrix;a.bbox={plain:null,transform:null};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return a.el},getBBoxText:function(b){var a=b.vml;return{x:a.X+(a.bbx||0)-a.W/2,y:a.Y-a.H/2,width:a.W,height:a.H}},applyAttrs:function(b){var c=this,p=b.vml,f=b.group,o=b.attr,h=b.el,d=h.dom,l,s,m,g,n,a,q,r,e,i,k,j;if(f){m=[].concat(f);n=m.length;for(g=0;g<n;g++){f=m[g];c.getGroup(f).add(b)}delete b.group}a=c.scrubAttrs(b)||{};b.zIndexDirty&&c.setZIndex(b);Ext.applyIf(a,c.minDefaults[b.type]);if(b.type=="image"){Ext.apply(b.attr,{x:a.x,y:a.y,width:a.width,height:a.height});h.setStyle({width:a.width+"px",height:a.height+"px"});d.src=a.src}if(d.href)d.href=a.href;if(d.title)d.title=a.title;if(d.target)d.target=a.target;if(d.cursor)d.cursor=a.cursor;if(b.dirtyHidden){a.hidden?c.hidePrim(b):c.showPrim(b);b.dirtyHidden=false}if(b.dirtyPath)if(b.type=="circle"||b.type=="ellipse"){e=a.x;i=a.y;k=a.rx||a.r||0;j=a.ry||a.r||0;d.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((e-k)*c.zoom),Math.round((i-j)*c.zoom),Math.round((e+k)*c.zoom),Math.round((i+j)*c.zoom),Math.round(e*c.zoom));b.dirtyPath=false}else if(b.type!=="text"&&b.type!=="image"){b.attr.path=a.path=c.setPaths(b,a)||a.path;d.path=c.path2vml(a.path);b.dirtyPath=false}"clip-rect"in a&&c.setClip(b,a);b.type=="text"&&c.setTextAttributes(b,a);(a.opacity||a["stroke-opacity"]||a.fill)&&c.setFill(b,a);(a.stroke||a["stroke-opacity"]||a.fill)&&c.setStroke(b,a);l=o.style;l&&h.setStyle(l);b.dirty=false},setZIndex:function(f){var h=this,d=f.attr.zIndex,b=h.zIndexShift,e,g,c,a;if(d<b){e=h.items.items;g=e.length;for(a=0;a<g;a++)if((d=e[a].attr.zIndex)&&d<b)b=d;h.zIndexShift=b;for(a=0;a<g;a++){c=e[a];c.el&&c.el.setStyle("zIndex",c.attr.zIndex-b);c.zIndexDirty=false}}else if(f.el){f.el.setStyle("zIndex",d-b);f.zIndexDirty=false}},setPaths:function(a,c){var b=a.attr,d=a.attr["stroke-width"]||1;a.bbox.plain=null;a.bbox.transform=null;if(a.type=="circle"){b.rx=b.ry=c.r;return Ext.draw.Draw.ellipsePath(a)}else if(a.type=="ellipse"){b.rx=c.rx;b.ry=c.ry;return Ext.draw.Draw.ellipsePath(a)}else if(a.type=="rect"){b.rx=b.ry=c.r;return Ext.draw.Draw.rectPath(a)}else if(a.type=="path"&&b.path)return Ext.draw.Draw.pathToAbsolute(b.path);return false},setFill:function(j,b){var g=this,f=j.el.dom,a=f.fill,i=false,k,d,c,h,e;if(!a){a=f.fill=g.createNode("fill");i=true}if(Ext.isArray(b.fill))b.fill=b.fill[0];if(b.fill=="none")a.on=false;else{if(typeof b.opacity=="number")a.opacity=b.opacity;if(typeof b["fill-opacity"]=="number")a.opacity=b["fill-opacity"];a.on=true;if(typeof b.fill=="string"){c=b.fill.match(g.fillUrlRe);if(c){c=c[1];if(c.charAt(0)=="#")d=g.gradientsColl.getByKey(c.substring(1));if(d){h=b.rotation;e=-(d.angle+270+(h?h.degrees:0))%360;if(e===0)e=180;a.angle=e;a.type="gradient";a.method="sigma";if(a.colors)a.colors.value=d.colors;else a.colors=d.colors}else{a.src=c;a.type="tile"}}else{a.color=Ext.draw.Color.toHex(b.fill);a.src="";a.type="solid"}}}i&&f.appendChild(a)},setStroke:function(e,a){var f=this,h=e.el.dom,b=e.strokeEl,g=false,c,d;if(!b){b=e.strokeEl=f.createNode("stroke");g=true}if(Ext.isArray(a.stroke))a.stroke=a.stroke[0];if(!a.stroke||a.stroke=="none"||a.stroke==0||a["stroke-width"]==0)b.on=false;else{b.on=true;if(a.stroke&&!a.stroke.match(f.fillUrlRe))b.color=Ext.draw.Color.toHex(a.stroke);b.dashstyle=a["stroke-dasharray"]?"dash":"solid";b.joinstyle=a["stroke-linejoin"];b.endcap=a["stroke-linecap"]||"round";b.miterlimit=a["stroke-miterlimit"]||8;c=parseFloat(a["stroke-width"]||1)*.75;d=a["stroke-opacity"]||1;if(Ext.isNumber(c)&&c<1){b.weight=1;b.opacity=d*c}else{b.weight=c;b.opacity=d}}g&&h.appendChild(b)},setClip:function(d,e){var c=this,f=d.el,b=d.clipEl,a=String(e["clip-rect"]).split(c.separatorRe);if(!b){b=d.clipEl=c.el.insertFirst(Ext.getDoc().dom.createElement("div"));b.addCls(Ext.baseCSSPrefix+"vml-sprite")}if(a.length==4){a[2]=+a[2]+ +a[0];a[3]=+a[3]+ +a[1];b.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",a[0],a[1],a[2],a[3]));b.setSize(c.el.width,c.el.height)}else b.setStyle("clip","")},setTextAttributes:function(e,b){var c=this,a=e.vml,d=a.textpath.style,h=c.span.style,i=c.zoom,k=Math.round,j={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},f,g;if(e.dirtyFont){if(b.font)d.font=h.font=b.font;if(b["font-family"]){d.fontFamily='"'+b["font-family"].split(",")[0].replace(c.fontFamilyRe,"")+'"';h.fontFamily=b["font-family"]}for(f in j){g=b[j[f]];if(g)d[f]=h[f]=g}c.setText(e,b.text);if(a.textpath.string)c.span.innerHTML=String(a.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>");a.W=c.span.offsetWidth;a.H=c.span.offsetHeight+2;if(b["text-anchor"]=="middle")d["v-text-align"]="center";else if(b["text-anchor"]=="end"){d["v-text-align"]="right";a.bbx=-Math.round(a.W/2)}else{d["v-text-align"]="left";a.bbx=Math.round(a.W/2)}}a.X=b.x;a.Y=b.y;a.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(a.X*i),Math.round(a.Y*i),Math.round(a.X*i)+1);e.bbox.plain=null;e.bbox.transform=null;e.dirtyFont=false},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(c,b){var a=this;c=c||a.width;b=b||a.height;a.width=c;a.height=b;if(a.el){c!=undefined&&a.el.setWidth(c);b!=undefined&&a.el.setHeight(b)}a.callParent(arguments)},applyViewBox:function(){var a=this,g=a.viewBox,f=a.width,e=a.height,c,d,b;a.callParent();if(g&&(f||e)){c=a.items.items;d=c.length;for(b=0;b<d;b++)a.applyTransformations(c[b])}},onAdd:function(a){this.callParent(arguments);this.el&&this.renderItem(a)},onRemove:function(a){if(a.el){a.el.remove();delete a.el}this.callParent(arguments)},render:function(d){var a=this,b=Ext.getDoc().dom,c;if(!a.createNode)try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml");a.createNode=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(e){a.createNode=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}if(!a.el){c=b.createElement("div");a.el=Ext.get(c);a.el.addCls(a.baseVmlCls);a.span=b.createElement("span");Ext.get(a.span).addCls(a.measureSpanCls);c.appendChild(a.span);a.el.setSize(a.width||0,a.height||0);d.appendChild(c);a.el.on({scope:a,mouseup:a.onMouseUp,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,mousemove:a.onMouseMove,mouseenter:a.onMouseEnter,mouseleave:a.onMouseLeave,click:a.onClick,dblclick:a.onDblClick})}a.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=true;this.renderItem(a)},renderItem:function(a){if(!this.el)return;!a.el&&this.createSpriteElement(a);if(a.dirty){this.applyAttrs(a);a.dirtyTransform&&this.applyTransformations(a)}},rotationCompensation:function(d,c,b){var a=new Ext.draw.Matrix;a.rotate(-d,.5,.5);return{x:a.x(c,b),y:a.y(c,b)}},transform:function(f,q){for(var j=this,a=j.getBBox(f,true),z=a.x+a.width*.5,y=a.y+a.height*.5,b=new Ext.draw.Matrix,l=f.transformations,s=l.length,i=0,r=0,n=1,m=1,A="",p=f.el,o=p.dom,k=o.style,t=j.zoom,g=f.skew,e=j.viewBoxShift,x,w,c,h,C,B,u,F,E,D,v,d;i<s;i++){c=l[i];h=c.type;if(h=="translate")b.translate(c.x,c.y);else if(h=="rotate"){b.rotate(c.degrees,c.x,c.y);r+=c.degrees}else if(h=="scale"){b.scale(c.x,c.y,c.centerX,c.centerY);n*=c.x;m*=c.y}}f.matrix=b.clone();if(q)return;e&&b.prepend(e.scale,0,0,e.scale,e.dx*e.scale,e.dy*e.scale);if(f.type!="image"&&g){g.origin="0,0";g.matrix=b.toString();d=b.offset();if(d[0]>32767)d[0]=32767;else if(d[0]<-32768)d[0]=-32768;if(d[1]>32767)d[1]=32767;else if(d[1]<-32768)d[1]=-32768;g.offset=d}else{k.filter=b.toFilter();k.left=Math.min(b.x(a.x,a.y),b.x(a.x+a.width,a.y),b.x(a.x,a.y+a.height),b.x(a.x+a.width,a.y+a.height))+"px";k.top=Math.min(b.y(a.x,a.y),b.y(a.x+a.width,a.y),b.y(a.x,a.y+a.height),b.y(a.x+a.width,a.y+a.height))+"px"}},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(a,b){a&&a.el&&a.el.addCls(b)},removeCls:function(a,b){a&&a.el&&a.el.removeCls(b)},addGradient:function(c){var j=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),e=[],b=Ext.create("Ext.util.MixedCollection"),d,g,f,h,i,a;b.addAll(c.stops);b.sortByKey("ASC",function(b,a){b=parseInt(b,10);a=parseInt(a,10);return b>a?1:b<a?-1:0});d=b.keys;g=b.items;f=d.length;for(a=0;a<f;a++){h=d[a];i=g[a];e.push(h+"% "+i.color)}j.add(c.id,{colors:e.join(","),angle:c.angle})},destroy:function(){var a=this;a.callParent(arguments);a.el&&a.el.remove();delete a.el}});Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(b,a){this.callParent([b,a]);this.containerScroll&&Ext.dd.ScrollManager.register(this.el)},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},afterRepair:function(){var a=this;Ext.enableFx&&Ext.fly(a.dragData.ddel).highlight(a.repairHighlightColor);a.dragging=false},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}});Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:false,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent();this.addEvents("success","failure")},beforeRender:function(){this.callParent();Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var a=this,b=Ext.apply({},a.flashParams),c=Ext.apply({},a.flashVars);a.callParent();Ext.apply({allowScriptAccess:"always",bgcolor:a.backgroundColor,wmode:a.wmode},b);Ext.apply({allowedDomain:document.location.hostname},c);new swfobject.embedSWF(a.url,a.getSwfId(),a.swfWidth,a.swfHeight,a.flashVersion,a.expressInstall?a.statics.EXPRESS_INSTALL_URL:undefined,c,b,a.flashAttributes,Ext.bind(a.swfCallback,a))},swfCallback:function(b){var a=this;if(b.success){a.swf=Ext.get(b.ref);a.onSuccess();a.fireEvent("success",a)}else{a.onFailure();a.fireEvent("failure",a)}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var a=this,b=a.swf;if(b){swfobject.removeSWF(a.getSwfId());Ext.destroy(b);delete a.swf}a.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}});Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(a){return this.filterBy(function(b){return b.name==a})},getWithValue:function(a,b){return this.filterBy(function(c){return c.name==a&&c.inputValue==b})},getChecked:function(a){return this.filterBy(function(b){return b.name==a&&b.checked})}});Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:false,getElConfig:function(){var a=this;a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||"";return Ext.apply(a.callParent(),{htmlFor:a.forId||""})},setText:function(c,b){var a=this;b=b!==false;if(b){a.text=c;delete a.html}else{a.html=c;delete a.text}if(a.rendered)a.el.dom.innerHTML=b!==false?Ext.util.Format.htmlEncode(c):c;return this}});Ext.define("Ext.form.Labelable",{requires:["Ext.XTemplate"],autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","errorEl","inputRow"],labelableRenderTpl:["<tpl if=\"labelAlign=='top'\">","<tr>",'<td id="{id}-labelCell" colspan="3" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tr>","</tpl>",'<tr id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl>>','<tpl if="labelOnLeft">','<td id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td class="{baseBodyCls} {fieldBodyCls}" id="{id}-bodyEl" role="presentation" colspan="{bodyColspan}">',"{beforeSubTpl}","{[values.$comp.getSubTplMarkup()]}","{afterSubTpl}","</td>","<tpl if=\"msgTarget=='side'\">",'<td id="{id}-errorEl" class="{errorMsgCls}" style="display:none" width="{errorIconWidth}"></td>',"</tpl>","</tr>","<tpl if=\"msgTarget=='under'\">","<tr>",'<tpl if="labelOnLeft">',"<td></td>","</tpl>",'<td id="{id}-errorEl" class="{errorMsgClass}" colspan="{[values.labelOnLeft ? 2 : 3]}" style="display:none"></td>',"</tr>","</tpl>",{disableFormats:true}],activeErrorsTpl:['<tpl if="errors && errors.length">','<ul><tpl for="errors"><li>{.}</li></tpl></ul>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",noWrap:true,labelableInsertions:["beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:"allowBlank,labelAlign,fieldBodyCls,baseBodyCls,clearCls,labelSeparator,msgTarget",initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}a.addCls(a.formItemCls);a.lastActiveError="";a.addEvents("errorchange")},getFieldLabel:function(){return this.fieldLabel||""},setFieldLabel:function(a){a=a||"";var b=this,d=b.labelSeparator,c=b.labelEl,e;b.fieldLabel=a;if(b.rendered){if(Ext.isEmpty(a)&&b.hideEmptyLabel)c.parent().setDisplayed("none");else{if(d){e=a.substr(a.length-1);if(e!=d)a+=d}c.update(a);c.parent().setDisplayed("")}b.updateLayout()}},getInsertionRenderData:function(c,e){var d=e.length,b,a;while(d--){b=e[d];a=this[b];if(a)if(typeof a!="string"){if(!a.isTemplate)a=Ext.XTemplate.getTpl(this,b);a=a.apply(c)}c[b]=a||""}return c},getLabelableRenderData:function(){var a=this,b,c;if(!Ext.form.Labelable.errorIconWidth){Ext.form.Labelable.errorIconWidth=(c=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"})).getWidth();c.remove()}b=Ext.copyTo({inFormLayout:a.ownerLayout&&a.ownerLayout.type==="form",inputId:a.getInputId(),labelOnLeft:a.labelAlign!="top",fieldLabel:a.getFieldLabel(),labelCellStyle:a.getLabelCellStyle(),labelCellAttrs:a.getLabelCellAttrs(),labelCls:a.getLabelCls(),labelStyle:a.getLabelStyle(),bodyColspan:a.getBodyColspan(),errorMsgCls:a.errorMsgCls+(a.autoFitErrors?"":" "+Ext.baseCSSPrefix+"external-error-icon"),errorIconWidth:Ext.form.Labelable.errorIconWidth},a,a.labelableRenderProps,true);a.getInsertionRenderData(b,a.labelableInsertions);return b},beforeLabelableRender:function(){var a=this;a.ownerLayout&&a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")},onLabelableRender:function(){var b=this,c,a,d={};if(b.extraMargins){c=b.el.getMargin();for(a in c)if(c.hasOwnProperty(a))d["margin-"+a]=c[a]+b.extraMargins[a]+"px";b.el.setStyle(d)}},hasVisibleLabel:function(){return this.hideLabel?false:!(this.hideEmptyLabel&&!this.getFieldLabel())},getBodyColspan:function(){var b=this,c=!b.hasVisibleLabel(),a;a=c||b.labelAlign==="top"?3:2;if(b.hasActiveError())a--;return a},getLabelCls:function(){var b=this.labelCls,a=this.labelClsExtra;return a?b+" "+a:b},getLabelCellStyle:function(){var a=this,b=a.hideLabel||!a.fieldLabel&&a.hideEmptyLabel;return b?"display:none;":""},getLabelCellAttrs:function(){var a=this,c=a.labelAlign,b="";if(c!=="top")b='valign="top" halign="'+c+'" width="'+(a.labelWidth+a.labelPad)+'"';return b+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var a=this,c=a.labelPad,b="";if(a.labelAlign==="top")b="margin-bottom:"+c+"px;";else{if(a.labelWidth)b="width:"+a.labelWidth+"px;";b+="margin-right:"+c+"px;"}return b+(a.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a);this.activeError=a[0];this.activeErrors=a;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var a=this,b=a.getActiveError(),c=!!b;if(b!==a.lastActiveError){a.fireEvent("errorchange",a,b);a.lastActiveError=b}if(a.rendered&&!a.isDestroyed&&!a.preventMark){a.el[c?"addCls":"removeCls"](a.invalidCls);a.getActionEl().dom.setAttribute("aria-invalid",c);if(a.errorEl)a.errorEl.dom.innerHTML=b}},setFieldDefaults:function(b){var c=this,d,a;for(a in b)if(b.hasOwnProperty(a)){d=b[a];if(!c.hasOwnProperty(a))c[a]=d}}});Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})},getWithValue:function(a,b,c){return this.filterBy(function(d){return d.name==a&&d.inputValue==b&&d.getFormId()==c})},getChecked:function(a,b){return this.findBy(function(c){return c.name==a&&c.checked&&c.getFormId()==b})}});Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var a=this,c=Ext.Function.bind(a.onComplete,a),b=a.buildForm();a.form.api.submit(b,c,a);Ext.removeNode(b)},processResponse:function(a){return this.result=a},onComplete:function(a){if(a)this.onSuccess(a);else this.onFailure(null)}});Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(c){var a=this.processResponse(c),b=this.form;if(a===true||!a.success||!a.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;b.afterAction(this,false);return}b.clearInvalid();b.setValues(a.data);b.afterAction(this,true)},handleResponse:function(c){var b=this.form.reader,a,d;if(b){a=b.read(c);d=a.records&&a.records[0]?a.records[0].data:null;return{success:a.success,data:d}}return Ext.decode(c.responseText)}});Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var a=this,b=a.form,d=b.api.load,e=d.directCfg.method,c=e.getArgs(a.getParams(),b.paramOrder,b.paramsAsHash);c.push(a.onComplete,a);d.apply(window,c)},processResponse:function(a){return this.result=a},onComplete:function(a){if(a)this.onSuccess(a);else this.onFailure(null)}});Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var a=this.buildForm();a.submit();Ext.removeNode(a)}});Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:true,getContentHeight:function(a){return this.owner.isGroupHeader?a.getProp("contentHeight"):this.callParent(arguments)},calculateOwnerHeightFromContentHeight:function(){var a=this.callParent(arguments);if(this.owner.isGroupHeader)a+=this.owner.titleEl.dom.offsetHeight;return a},getContentWidth:function(a){return this.owner.isGroupHeader?a.getProp("contentWidth"):this.callParent(arguments)},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getPaddingInfo().width}});Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",showSummaryRow:true,nestedIdRe:/\{\{id\}([\w\-]*)\}/g,init:function(){var a=this;a.grid.optimizedColumnMove=false;a.view.mon(a.view.store,{update:a.onStoreUpdate,scope:a})},onStoreUpdate:function(){var a=this.view;if(this.showSummaryRow){a.saveScrollState();a.refresh();a.restoreScrollState()}},toggleSummaryRow:function(a){this.showSummaryRow=!!a},getSummaryFragments:function(){var a={};this.showSummaryRow&&Ext.apply(a,{printSummaryRow:Ext.bind(this.printSummaryRow,this)});return a},printSummaryRow:function(c){var a=this.view.getTableChunker().metaRowTpl.join(""),b=Ext.baseCSSPrefix;a=a.replace(b+"grid-row",b+"grid-row-summary");a=a.replace("{{id}}","{gridSummaryValue}");a=a.replace(this.nestedIdRe,"{id$1}");a=a.replace("{[this.embedRowCls()]}","{rowCls}");a=a.replace("{[this.embedRowAttr()]}","{rowAttr}");a=new Ext.XTemplate(a,{firstOrLastCls:Ext.view.TableChunker.firstOrLastCls});return a.applyTemplate({columns:this.getPrintData(c)})},getColumnValue:function(b,c){var d=Ext.getCmp(b.id),a=c[b.id],e=d.summaryRenderer;if(!a&&a!==0)a="";if(e)a=e.call(d.scope||this,a,c,b.dataIndex);return a},getSummary:function(b,c,d,a){if(c){if(Ext.isFunction(c))return b.aggregate(c,null,a);switch(c){case"count":return b.count(a);case"min":return b.min(d,a);case"max":return b.max(d,a);case"sum":return b.sum(d,a);case"average":return b.average(d,a);default:return a?{}:""}}}});Ext.define("Ext.grid.feature.Chunking",{extend:"Ext.grid.feature.Feature",alias:"feature.chunking",chunkSize:20,rowHeight:Ext.isIE?27:26,visibleChunk:0,hasFeatureEvent:false,attachEvents:function(){this.view.el.on("scroll",this.onBodyScroll,this,{buffer:300})},onBodyScroll:function(e,d){var a=this.view,b=d.scrollTop,c=Math.floor(b/this.rowHeight/this.chunkSize);if(c!==this.visibleChunk){this.visibleChunk=c;a.refresh();a.el.dom.scrollTop=b;a.el.dom.scrollTop=b}},collectData:function(j,m,l,i,d){for(var h={fullWidth:d.fullWidth,chunks:[]},b=d.rows.length,a=0,c=0,g=this.visibleChunk,k,f,e;a<b;a+=this.chunkSize,c++){if(a+this.chunkSize>b)e=b-a;else e=this.chunkSize;if(c>=g-1&&c<=g+1)f=d.rows.slice(a,a+this.chunkSize);else f=[];h.chunks.push({rows:f,fullWidth:i,chunkHeight:e*this.rowHeight})}return h},getTableFragments:function(){return{openTableWrap:function(){return'<tpl for="chunks"><div class="'+Ext.baseCSSPrefix+'grid-chunk" style="height: {chunkHeight}px;">'},closeTableWrap:function(){return"</div></tpl>"}}}});Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",mixins:{summary:"Ext.grid.feature.AbstractSummary"},init:function(){this.mixins.summary.init.call(this)},getFeatureTpl:function(){var a=this.callParent(arguments);if(this.showSummaryRow){a=a.replace("</tpl>","");a+="{[this.printSummaryRow(xindex)]}</tpl>"}return a},getFragmentTpl:function(){var a=this,b=a.callParent();Ext.apply(b,a.getSummaryFragments());if(a.showSummaryRow){a.summaryGroups=a.view.store.getGroups();a.summaryData=a.generateSummaryData()}return b},getPrintData:function(i){for(var c=this,d=c.view.headerCt.getColumnsForTpl(),b=0,g=d.length,e=[],f=c.summaryGroups[i-1].name,h=c.summaryData[f],a;b<g;++b){a=d[b];a.gridSummaryValue=this.getColumnValue(a,h);e.push(a)}return e},generateSummaryData:function(){var e=this,f={},k={},p=e.view.store,s=this.getGroupField(),a=p.proxy.reader,r=e.summaryGroups,n=e.view.headerCt.getColumnsForTpl(),l,c,i,g,q,b,d,m,j,o,h;for(c=0,i=r.length;c<i;++c)f[r[c].name]={};if(e.remoteRoot&&a.rawData){q=a.root;a.root=e.remoteRoot;a.buildExtractors(true);m=a.getRoot(a.rawData);o=m.length;!a.convertRecordData&&a.buildExtractors();for(j=0;j<o;j++){h={};a.convertRecordData(h,m[j]);k[h[s]]=h}a.root=q;a.buildExtractors(true)}for(c=0,i=n.length;c<i;++c){d=Ext.getCmp(n[c].id);g=e.getSummary(p,d.summaryType,d.dataIndex,true);for(b in g)if(g.hasOwnProperty(b))f[b][d.id]=g[b];for(b in k)if(k.hasOwnProperty(b)){l=k[b][d.dataIndex];if(l!==undefined&&f[b]!==undefined)f[b][d.id]=l}}return f}});Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",getFragmentTpl:function(){this.summaryData=this.generateSummaryData();return this.getSummaryFragments()},getTableFragments:function(){if(this.showSummaryRow)return{closeRows:this.closeRows}},closeRows:function(){return"</tpl>{[this.printSummaryRow()]}"},getPrintData:function(){for(var d=this,c=d.view.headerCt.getColumnsForTpl(),b=0,f=c.length,e=[],g=d.summaryData,a;b<f;++b){a=c[b];a.gridSummaryValue=this.getColumnValue(a,g);e.push(a)}return e},generateSummaryData:function(){var d=this,f={},g=d.view.store,c=d.view.headerCt.getColumnsForTpl(),a=0,e=c.length,h,i,b;for(a=0,e=c.length;a<e;++a){b=Ext.getCmp(c[a].id);f[b.id]=d.getSummary(g,b.summaryType,b.dataIndex,false)}return f}});Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(b){var d=b.getTarget("."+this.colHeaderCls),a,c;if(d){a=Ext.getCmp(d.id);if(!this.headerCt.dragging&&a.draggable&&!(a.isOnLeftEdge(b)||a.isOnRightEdge(b))){c=document.createElement("div");c.innerHTML=Ext.getCmp(d.id).text;return{ddel:c,header:a}}}return false},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}});Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator)this.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},true);return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator)this.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true);return this.bottomIndicator},getLocation:function(e,a){var d=e.getXY()[0],b=Ext.fly(a).getRegion(),c,f;if(b.right-d<=(b.right-b.left)/2)c="after";else c="before";return{pos:c,header:Ext.getCmp(a.id),node:a}},positionIndicator:function(f,s,u){var g=this.getLocation(u,s),a=g.header,i=g.pos,r=f.nextSibling("gridcolumn:not([hidden])"),t=f.previousSibling("gridcolumn:not([hidden])"),v,j,m,n,h,b,c,k,p,o,l,q,e,d;if(!a.draggable&&a.getIndex()===0)return false;this.lastLocation=g;if(f!==a&&(i==="before"&&r!==a||i==="after"&&t!==a)&&!a.isDescendantOf(f)){l=Ext.dd.DragDropManager.getRelated(this);q=l.length;e=0;for(;e<q;e++){d=l[e];d!==this&&d.invalidateDrop&&d.invalidateDrop()}this.valid=true;j=this.getTopIndicator();m=this.getBottomIndicator();if(i==="before"){n="tl";h="bl"}else{n="tr";h="br"}b=a.el.getAnchorXY(n);c=a.el.getAnchorXY(h);k=this.headerCt.el;p=k.getLeft();o=k.getRight();b[0]=Ext.Number.constrain(b[0],p,o);c[0]=Ext.Number.constrain(c[0],p,o);b[0]-=4;b[1]-=9;c[0]-=4;j.setXY(b);m.setXY(c);j.show();m.show()}else this.invalidateDrop()},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(c,i,f,d){var a=this,h=a.headerCt,b=true,g=d.header,e;if(d.header.el.dom===c)b=false;else{e=a.getLocation(f,c).header;b=g.ownerCt===e.ownerCt||!g.ownerCt.sealed&&!e.ownerCt.sealed}if(b)a.positionIndicator(d.header,c,f);else a.valid=false;return a.valid?a.dropAllowed:a.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide()},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(o,q,p,n){if(this.valid){this.invalidateDrop();var b=n.header,h=this.lastLocation,e=h.header,a=b.ownerCt,i=a.items.indexOf(b),c=e.ownerCt,d=c.items.indexOf(e),g=this.headerCt,l=g.getHeaderIndex(b),m=b.isGroupHeader?b.query(":not([isGroupHeader])").length:1,k=g.getHeaderIndex(e),j,f;if(h.pos==="after"){d++;k+=e.isGroupHeader?e.query(":not([isGroupHeader])").length:1}if(a!==c&&a.lockableInjected&&c.lockableInjected&&c.lockedCt){f=a.up("[scrollerOwner]");f.lock(b,d)}else if(a!==c&&a.lockableInjected&&c.lockableInjected&&a.lockedCt){f=a.up("[scrollerOwner]");f.unlock(b,d)}else{if(a===c&&d>i)d-=1;Ext.suspendLayouts();if(a!==c){a.remove(b,false);if(a.isGroupHeader)if(!a.items.getCount()){j=a.ownerCt;j.remove(a,false);a.el.dom.parentNode.removeChild(a.el.dom)}}if(a===c)c.move(i,d);else c.insert(d,b);if(c.isGroupHeader){if(c!==a){b.savedFlex=b.flex;delete b.flex;b.width=b.getWidth()}}else if(b.savedFlex){b.flex=b.savedFlex;delete b.width}g.purgeCache();Ext.resumeLayouts(true);g.onHeaderMoved(b,m,l,k);!a.items.getCount()&&a.destroy()}}}});Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.util.Observable",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt);a.dropZone=new Ext.grid.header.DropZone(a.headerCt);a.disabled&&a.dragZone.disable()},enable:function(){this.disabled=false;this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=true;this.dragZone&&this.dragZone.disable()}});Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"});Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:false,uses:["Ext.data.reader.Reader","Ext.data.proxy.Proxy","Ext.data.ResultSet","Ext.grid.property.Property"],constructor:function(c,b){var a=this;a.grid=c;a.source=b;a.callParent([{data:b,model:Ext.grid.property.Property,proxy:a.getProxy()}])},getProxy:function(){if(!this.proxy)Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()});return this.proxy},getReader:function(){if(!this.reader)Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(a){return this.readRecords(a)},readRecords:function(c){var d,b,a={records:[],success:true};for(b in c)if(c.hasOwnProperty(b)){d=c[b];this.isEditableValue(d)&&a.records.push(new Ext.grid.property.Property({name:b,value:d},b))}a.total=a.count=a.records.length;return new Ext.data.ResultSet(a)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)}});return this.reader},setSource:function(b){var a=this;a.source=b;a.suspendEvents();a.removeAll();a.proxy.data=b;a.load();a.resumeEvents();a.fireEvent("datachanged",a);a.fireEvent("refresh",a)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(a,c,e){var b=this,d=b.getRec(a);if(d){d.set("value",c);b.source[a]=c}else if(e){b.source[a]=c;d=new Ext.grid.property.Property({name:a,value:c},a);b.add(d)}},remove:function(b){var a=this.getRec(b);if(a){this.callParent([a]);delete this.source[b]}},getRec:function(a){return this.getById(a)},getSource:function(){return this.source}});Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments);if(a.targetContext!=a)b+=a.getPaddingInfo().height;return b},calculateOwnerWidthFromContentWidth:function(a){var b=this.callParent(arguments);if(a.targetContext!=a)b+=a.getPaddingInfo().width;return b},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(a,c){var b=c-a.getFrameInfo().height,d=a.targetContext;if(d!=a)b-=a.getPaddingInfo().height;a.bodyContext.setHeight(b,!a.heightModel.natural)},publishInnerWidth:function(a,d){var b=d-a.getFrameInfo().width,c=a.targetContext;if(c!=a)b-=a.getPaddingInfo().width;a.bodyContext.setWidth(b,!a.widthModel.natural)}});Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(a){var d=this,b=d.owner,c=b.pagingToolbar;d.callParent(arguments);if(b.floating){a.savedXY=b.el.getXY();b.el.setXY([-9999,-9999])}if(c)a.toolbarContext=a.context.getCmp(c);a.listContext=a.getEl("listEl")},beginLayoutCycle:function(b){var a=this.owner;this.callParent(arguments);if(b.heightModel.auto){a.el.setHeight("auto");a.listEl.setHeight("auto")}},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return true},finishedLayout:function(b){var a=b.savedXY;this.callParent(arguments);a&&this.owner.el.setXY(a)},measureContentWidth:function(){return this.owner.listEl.getWidth()},measureContentHeight:function(){return this.owner.listEl.getHeight()},publishInnerHeight:function(a,d){var c=a.toolbarContext,b=0;if(c)b=c.getProp("height");if(b===undefined)this.done=false;else a.listContext.setHeight(d-a.getFrameInfo().height-b)},calculateOwnerHeightFromContentHeight:function(c){var a=this.callParent(arguments),b=c.toolbarContext;if(b)a+=b.getProp("height");return a}});Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Auto",type:"button",cellClsRE:/-btn-(tl|br)\b/,htmlRE:/<.*>/,constructor:function(){this.callParent(arguments);this.hackWidth=Ext.isIE&&(!Ext.isStrict||Ext.isIE6||Ext.isIE7);this.heightIncludesPadding=Ext.isIE6&&Ext.isStrict},beginLayout:function(a){this.callParent(arguments);this.cacheTargetInfo(a)},beginLayoutCycle:function(g){var e=this,a="",b=e.owner,f=b.btnEl,c=b.btnInnerEl,h=b.text,d;e.callParent(arguments);c.setStyle("overflow",a);!g.widthModel.natural&&b.el.setStyle("width",a);d=g.heightModel.shrinkWrap&&h&&e.htmlRE.test(h);f.setStyle("width",a);f.setStyle("height",d?"auto":a);c.setStyle("width",a);c.setStyle("height",d?"auto":a);c.setStyle("line-height",d?"normal":a);c.setStyle("padding-top",a);b.btnIconEl.setStyle("width",a)},calculateOwnerHeightFromContentHeight:function(b,a){return a},calculateOwnerWidthFromContentWidth:function(b,a){return a},measureContentWidth:function(e){var f=this,a=f.owner,l=a.btnEl,k=a.btnInnerEl,g=a.text,c,b,i,d,j,h;if(a.text&&f.hackWidth&&l){c=f.btnFrameWidth;if(g.indexOf(">")===-1)g=g.replace(/</g,"&lt;");b=Ext.util.TextMetrics.measure(k,g);d=b.width+c+f.adjWidth;j=e.getEl("btnEl");h=e.getEl("btnInnerEl");i=(a.icon||a.iconCls)&&(a.iconAlign=="top"||a.iconAlign=="bottom");e.setWidth(d);j.setWidth(b.width+c);h.setWidth(b.width+c);i&&a.btnIconEl.setWidth(b.width+c)}else d=e.el.getWidth();return d},measureContentHeight:function(f){var b=this,d=b.owner,i=d.btnInnerEl,l=f.getEl("btnEl"),j=f.getEl("btnInnerEl"),e=b.minTextHeight,h=b.adjHeight,k=d.getText(),a,c,g;if(d.vertical){a=Ext.util.TextMetrics.measure(i,d.text).width;a+=b.btnFrameHeight+h;f.setHeight(a,true,true)}else if(k&&b.htmlRE.test(k)){c=i.getHeight();if(c<e){g=Math.floor((e-c)/2);j.setHeight(e-(b.heightIncludesPadding?g:0));j.setProp("padding-top",g);c=e}a=c+h}else a=f.el.getHeight();l.setHeight(a-h);return a},publishInnerHeight:function(i,f){var b=this,d=b.owner,l=Ext.isNumber,m=i.getEl("btnEl"),j=d.btnInnerEl,c=i.getEl("btnInnerEl"),a=l(f)?f-b.adjHeight:f,h=b.btnFrameHeight,e=d.getText(),k,g;m.setHeight(a);c.setHeight(a);!d.vertical&&a>=0&&c.setProp("line-height",a-h+"px");if(e&&b.htmlRE.test(e)){c.setProp("line-height","normal");j.setStyle("line-height","normal");k=Ext.util.TextMetrics.measure(j,e).height;g=Math.floor(Math.max(a-h-k,0)/2);c.setProp("padding-top",b.btnFrameTop+g);c.setHeight(a-(b.heightIncludesPadding?g:0))}},publishInnerWidth:function(c,a){var f=this,g=Ext.isNumber,d=c.getEl("btnEl"),e=c.getEl("btnInnerEl"),b=g(a)?a-f.adjWidth:a;d.setWidth(b);e.setWidth(b)},clearTargetCache:function(){delete this.adjWidth},cacheTargetInfo:function(b){var a=this,h=a.owner,i=h.scale,f,e,g,d,c;if(!("adjWidth"in a)||a.lastScale!==i){a.lastScale&&h.btnInnerEl.setStyle("line-height","");a.lastScale=i;f=b.getPaddingInfo();e=b.getFrameInfo();g=b.getEl("btnWrap").getPaddingInfo();d=b.getEl("btnInnerEl");c=d.getPaddingInfo();Ext.apply(a,{adjWidth:g.width+e.width+f.width,adjHeight:g.height+e.height+f.height,btnFrameWidth:c.width,btnFrameHeight:c.height,btnFrameTop:c.top,minTextHeight:parseInt(d.getStyle("line-height"),10)})}a.callParent(arguments)}});Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var a=this,c,b;a.callParent();c=a.getRenderTarget();b=a.getDockedItems();a.finishRenderItems(c,b)},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},dockOpposites:{top:"bottom",right:"left",bottom:"top",left:"right"},handleItemBorders:function(){var e=this,c=e.owner,a,k,h=e.borders,j=e.dockOpposites,l=c.dockedItems.generation,d,i,g,f,b,m=e.collapsed;if(e.initializedBorders==l||c.border&&!c.manageBodyBorders)return;e.initializedBorders=l;e.collapsed=false;k=e.getLayoutItems();e.collapsed=m;a={top:[],right:[],bottom:[],left:[]};for(d=0,i=k.length;d<i;d++){g=k[d];f=g.dock;if(g.ignoreBorderManagement)continue;if(!a[f].satisfied){a[f].push(g);a[f].satisfied=true}!a.top.satisfied&&j[f]!=="top"&&a.top.push(g);!a.right.satisfied&&j[f]!=="right"&&a.right.push(g);!a.bottom.satisfied&&j[f]!=="bottom"&&a.bottom.push(g);!a.left.satisfied&&j[f]!=="left"&&a.left.push(g)}if(h)for(b in h)if(h.hasOwnProperty(b)){i=h[b].length;if(!c.manageBodyBorders){for(d=0;d<i;d++)h[b][d].removeCls(Ext.baseCSSPrefix+"docked-noborder-"+b);!h[b].satisfied&&!c.bodyBorder&&c.removeBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+b)}else h[b].satisfied&&c.setBodyStyle("border-"+b+"-width","")}for(b in a)if(a.hasOwnProperty(b)){i=a[b].length;if(!c.manageBodyBorders){for(d=0;d<i;d++)a[b][d].addCls(Ext.baseCSSPrefix+"docked-noborder-"+b);(!a[b].satisfied&&!c.bodyBorder||c.bodyBorder===false)&&c.addBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+b)}else a[b].satisfied&&c.setBodyStyle("border-"+b+"-width","1px")}e.borders=a},beginLayout:function(a){var b=this,c=b.owner,l=b.getLayoutItems(),m=a.context,n=l.length,j=false,i=false,k,f,h,e,d,g;b.callParent(arguments);b.handleItemBorders();g=c.getCollapsed();if(Ext.isDefined(b.lastCollapsedState)&&g!==b.lastCollapsedState)if(b.owner.collapsed){a.isCollapsingOrExpanding=1;c.addClsWithUI(c.collapsedCls)}else{a.isCollapsingOrExpanding=2;c.removeClsWithUI(c.collapsedCls);a.lastCollapsedState=b.lastCollapsedState}b.lastCollapsedState=g;a.dockedItems=k=[];for(f=0;f<n;f++){h=l[f];e=m.getCmp(h);e.dockedAt={x:0,y:0};e.offsets=d=Ext.Element.parseBox(h.offsets||{});d.width=d.left+d.right;d.height=d.top+d.bottom;k.push(e)}if(c.collapsed)if(c.collapsedVertical()){j=true;a.measureDimensions=1}else{i=true;a.measureDimensions=2}a.collapsedVert=j;a.collapsedHorz=i;a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=this,i=a.dockedItems,j=i.length,c=b.owner,e=c.frameBody,h=b.lastHeightModel,d,g,f;b.callParent(arguments);if(a.collapsedVert)a.heightModel=b.sizeModels.shrinkWrap;else if(a.collapsedHorz)a.widthModel=b.sizeModels.shrinkWrap;if(h&&h.shrinkWrap&&!a.heightModel.shrinkWrap&&!b.owner.manageHeight)c.body.dom.style.marginBottom="";if(a.widthModel.auto){a.widthModel.shrinkWrap&&c.el.setWidth(null);c.body.setWidth(null);e&&e.setWidth(null)}if(a.heightModel.auto){c.body.setHeight(null);e&&e.setHeight(null)}if(a.collapsedVert)a.setContentHeight(0);else a.collapsedHorz&&a.setContentWidth(0);for(d=0;d<j;d++){g=i[d].target;f=g.dock;if(f=="right")g.el.setLeft(0);else if(f!="left")continue}},calculate:function(a){var b=this,k=b.measureAutoDimensions(a,a.measureDimensions),g=a.state,f=g.horzDone,e=g.vertDone,h=a.bodyContext,c,d,i,j;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.framingInfo||a.getFraming();h.borderInfo||h.getBorderInfo();h.paddingInfo||h.getPaddingInfo();c=!f&&b.createAxis(a,k.contentWidth,a.widthModel,"left","right","x","width","Width",a.collapsedHorz);d=!e&&b.createAxis(a,k.contentHeight,a.heightModel,"top","bottom","y","height","Height",a.collapsedVert);for(i=0,j=a.dockedItems.length;j--;++i){c&&b.dockChild(a,c,j,i);d&&b.dockChild(a,d,j,i)}if(c&&b.finishAxis(a,c))g.horzDone=f=c;if(d&&b.finishAxis(a,d))g.vertDone=e=d;if(f&&e&&b.finishConstraints(a,f,e))b.finishPositions(a,f,e);else b.done=false},createAxis:function(b,v,c,e,f,l,g,d,r){var m=0,p=this.owner,s=p["max"+d],q=p["min"+d]||0,t=s!=null,n=b.state["constrained"+d],h=n!=null,u="set"+d,j,o,k,i,a;if(c.shrinkWrap&&!h)if(r)a=0;else{o=b.bodyContext;a=v+o.borderInfo[g]}else{j=b.borderInfo;k=b.framingInfo;i=b.paddingInfo;if(h){a=n;c=this.sizeModels.calculated;b[u](n)}else a=b.getProp(g);a-=j[f]+i[f]+k[f];m=j[e]+i[e]+k[e]}return{shrinkWrap:c.shrinkWrap,sizeModel:c,begin:m,end:a,collapsed:r,horizontal:l=="x",ignoreFrameBegin:false,ignoreFrameEnd:false,initialSize:a-m,hasMinMaxConstraints:(q||t)&&c.shrinkWrap,isConstrainedSize:h,minSize:q,maxSize:t?s:1e9,bodyPosProp:this.owner.manageHeight?l:"margin-"+e,dockBegin:e,dockEnd:f,posProp:l,sizeProp:g,sizePropCap:d,setSize:u,dockedPixelsEnd:0}},dockChild:function(c,a,i,h){var f=this,b=c.dockedItems[a.shrinkWrap?i:h],d=b.target,g=d.dock,e;d.ignoreParentFrame&&c.isCollapsingOrExpanding&&b.clearMarginCache();if(g==a.dockBegin)if(a.shrinkWrap)e=f.dockOutwardBegin(c,b,d,a);else e=f.dockInwardBegin(c,b,d,a);else if(g==a.dockEnd)if(a.shrinkWrap)e=f.dockOutwardEnd(c,b,d,a);else e=f.dockInwardEnd(c,b,d,a);else e=f.dockStretch(c,b,d,a);b.dockedAt[a.posProp]=e},dockInwardBegin:function(d,f,c,b){var h=b.begin,g=b.sizeProp,e,a;if(c.ignoreParentFrame){a=c.dock;h-=d.borderInfo[a]+d.paddingInfo[a]+d.framingInfo[a]}if(!c.overlay){e=f.getProp(g)+f.getMarginInfo()[g];b.begin+=e}return h},dockInwardEnd:function(c,e,a,b){var f=b.sizeProp,g=e.getProp(f)+e.getMarginInfo()[f],d=b.end-g;if(!a.overlay)b.end=d;if(a.ignoreParentFrame)d+=c.borderInfo[a.dock]+c.paddingInfo[a.dock]+c.framingInfo[a.dock];return d},dockOutwardBegin:function(e,g,d,a){var c=a.begin,h=a.sizeProp,b,f;if(a.collapsed)a.ignoreFrameBegin=a.ignoreFrameEnd=true;else if(d.ignoreParentFrame){b=d.dock;c-=e.borderInfo[b]+e.paddingInfo[b]+e.framingInfo[b];a.ignoreFrameBegin=true}if(!d.overlay){f=g.getProp(h)+g.getMarginInfo()[h];c-=f;a.begin=c}return c},dockOutwardEnd:function(e,g,d,a){var f=a.end,h=a.sizeProp,b,c;c=g.getProp(h)+g.getMarginInfo()[h];if(a.collapsed)a.ignoreFrameBegin=a.ignoreFrameEnd=true;else if(d.ignoreParentFrame){b=d.dock;f+=e.borderInfo[b]+e.paddingInfo[b]+e.framingInfo[b];a.ignoreFrameEnd=true}if(!d.overlay){a.end=f+c;a.dockedPixelsEnd+=c}return f},dockStretch:function(f,e,i,a){var o=i.dock,b=a.sizeProp,j=o=="top"||o=="bottom",k=e.offsets,m=f.borderInfo,n=f.paddingInfo,p=j?"right":"bottom",d=j?"left":"top",h=a.begin+k[d],l,c,g;if(i.stretch!==false){c=a.end-h-k[p];if(i.ignoreParentFrame){g=f.framingInfo;h-=m[d]+n[d]+g[d];c+=m[b]+n[b]+g[b]}l=e.getMarginInfo();c-=l[b];e[a.setSize](c)}return h},finishAxis:function(d,a){var c=a.end-a.begin,n=a.setSize,b=a.dockBegin,i=a.dockEnd,e=d.borderInfo,k=d.paddingInfo,j=d.framingInfo,h=k[b]+e[b]+j[b],m=d.bodyContext,f,g,l;if(a.shrinkWrap){a.delta=-a.begin;g=a.initialSize;if(a.ignoreFrameBegin){a.delta-=e[b];f=-a.begin-h}else{c+=h;a.delta+=k[b]+j[b];f=-a.begin}if(!a.ignoreFrameEnd)c+=k[i]+e[i]+j[i];a.size=c;if(!a.horizontal&&!this.owner.manageHeight)l=false}else{a.delta=-e[a.dockBegin];g=c;f=a.begin-h}m[n](g,l);m.setProp(a.bodyPosProp,f);return!isNaN(c)},finishConstraints:function(b,a,c){var k=a.size<a.minSize,g=a.size>a.maxSize,i=c.size<c.minSize,j=c.size>c.maxSize,d=b.state,e=true,f=this.sizeModels.configured,h;if(a.shrinkWrap&&g&&c.shrinkWrap&&i){d.constrainedWidth=a.maxSize;b.widthModel=f;e=false}else{if(a.shrinkWrap)if(g){d.constrainedWidth=a.maxSize;b.widthModel=f;e=false}else if(k){d.constrainedWidth=a.minSize;b.widthModel=f;e=false}if(c.shrinkWrap)if(j){d.constrainedHeight=c.maxSize;b.heightModel=f;e=false}else if(i){d.constrainedHeight=c.minSize;b.heightModel=f;e=false}}if(e){a.shrinkWrap&&b.setWidth(a.size);if(c.shrinkWrap){if(!b.collapsedVert&&!this.owner.manageHeight){h=false;b.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)}b.setHeight(c.size,h)}}else b.invalidate({state:{constrainedWidth:d.constrainedWidth,constrainedHeight:d.constrainedHeight}});return e},finishPositions:function(f,d,i){for(var c=f.dockedItems,e=c.length,h=d.delta,g=i.delta,a,b=0;b<e;++b){a=c[b];a.setProp("x",h+a.dockedAt.x);a.setProp("y",g+a.dockedAt.y)}},finishedLayout:function(a){var c=this,b=a.target;c.callParent(arguments);if(!a.animatePolicy)if(a.isCollapsingOrExpanding===1)b.afterCollapse(false);else a.isCollapsingOrExpanding===2&&b.afterExpand(false)},getAnimatePolicy:function(c){var b=this,a,d;if(c.isCollapsingOrExpanding==1)a=b.lastCollapsedState;else if(c.isCollapsingOrExpanding==2)a=c.lastCollapsedState;if(a=="left"||a=="right")d=b.horizontalCollapsePolicy;else if(a=="top"||a=="bottom")d=b.verticalCollapsePolicy;return d},getDockedItems:function(c,k){var e=this,a=e.owner.dockedItems.items,f=a&&a.length&&c!==false,j,h,b,d,g,i;if(k==null)b=f?a.slice():a;else{b=[];for(d=0,i=a.length;d<i;++d){h=a[d].dock;g=h=="top"||h=="left";(k?g:!g)&&b.push(a[d])}f=f&&b.length}if(f){j=(c=c||"render")=="render";Ext.Array.sort(b,function(f,d){var a,b;if(j&&(a=e.owner.dockOrder[f.dock])!==(b=e.owner.dockOrder[d.dock]))if(!(a+b))return a-b;a=e.getItemWeight(f,c);b=e.getItemWeight(d,c);return a!==undefined&&b!==undefined?a-b:0})}return b||[]},getItemWeight:function(a,c){var b=a.weight||this.owner.defaultDockWeights[a.dock];return b[c]||b},getLayoutItems:function(){var e=this,c,f,d,b,a;if(e.owner.collapsed)a=e.owner.getCollapsedDockedItems();else{c=e.getDockedItems("visual");f=c.length;a=[];for(b=0;b<f;b++){d=c[b];!d.hidden&&a.push(d)}}return a},measureContentWidth:function(b){var a=b.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},measureContentHeight:function(b){var a=b.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(b){var c=this,a=c.owner;if(b.isCollapsingOrExpanding==1){a.reExpander&&a.reExpander.el.show();a.addClsWithUI(a.collapsedCls);b.redo(true)}else if(b.isCollapsingOrExpanding==2){a.removeClsWithUI(a.collapsedCls);b.bodyContext.redo()}},renderChildren:function(){var a=this,b=a.getDockedItems(),c=a.getRenderTarget();a.renderItems(b,c)},renderItems:function(j,i){var f=this,g=j.length,d=0,b=0,l=0,k=f.getRenderTarget().dom.childNodes,m=k.length,e,c,h,a;for(e=0,c=0;e<m;e++){h=k[e];if(Ext.fly(h).hasCls("x-resizable-handle"))break;for(c=0;c<g;c++){a=j[c];if(a.rendered&&a.el.dom===h)break}if(c===g)l++}for(;d<g;d++,b++){a=j[d];if(d===b&&(a.dock==="right"||a.dock==="bottom"))b+=l;if(a&&!a.rendered)f.renderItem(a,i,b);else!f.isValidParent(a,i,b)&&f.moveItem(a,i,b)}},undoLayout:function(b){var c=this,a=c.owner;if(b.isCollapsingOrExpanding==1){a.reExpander&&a.reExpander.el.hide();a.removeClsWithUI(a.collapsedCls);b.undo(true)}else if(b.isCollapsingOrExpanding==2){a.addClsWithUI(a.collapsedCls);b.bodyContext.undo()}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},stretchH:{setsWidth:1,setsHeight:0},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(d){var b=this.sizePolicy,a,c;if(d.stretch===false)return b.nostretch;a=d.dock;c=a=="left"||a=="right";return c?b.stretchV:b.stretchH},configureItem:function(a){this.callParent(arguments);a.addCls(Ext.baseCSSPrefix+"docked");a.addClsWithUI("docked-"+a.dock)},afterRemove:function(a){this.callParent(arguments);this.itemCls&&a.el.removeCls(this.itemCls+"-"+a.dock);var b=a.el.dom;!a.destroying&&b&&b.parentNode.removeChild(b);this.childrenChanged=true}});Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",beginLayoutCycle:function(a){var c=a.target,b;this.callParent(arguments);if(c.collapsed){a.heightModel=this.sizeModels.shrinkWrap;a.setContentHeight(0);if(a.widthModel.shrinkWrap){b=c.lastComponentSize;a.setContentWidth(b&&b.contentWidth||100)}}},calculateOwnerHeightFromContentHeight:function(a){return a.getProp("contentHeight")+a.getPaddingInfo().height+(a.target.legend?a.target.legend.getHeight():a.getBorderInfo().top)+a.getBorderInfo().bottom},publishInnerHeight:function(a){this.callParent(arguments);a.target.legend&&a.bodyContext.setHeight(a.bodyContext.getProp("height")-a.target.legend.getHeight(),!a.heightModel.natural)},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(b){var d=this,c,a;d.callParent(arguments);if(!b.textEls){a=d.owner.textEl;if(a.isComposite){b.textEls=[];a=a.elements;for(c=a.length;c--;)b.textEls[c]=b.getEl(Ext.get(a[c]))}else b.textEls=[b.getEl("textEl")]}},calculate:function(d){var e=this,a,c,b;e.callParent(arguments);if(Ext.isNumber(b=d.getProp("width"))){b-=d.getBorderInfo().width;c=d.textEls;for(a=c.length;a--;)c[a].setWidth(b)}else e.done=false}});Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent();this.addEvents("update")},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?a.value*100:0})},onRender:function(){var a=this;a.callParent(arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else a.textEl=a.el.select("."+a.baseCls+"-text")},updateProgress:function(e,b,c){var a=this,d=a.value;a.value=e||0;b&&a.updateText(b);if(a.rendered&&!a.isDestroyed)if(c===true||c!==false&&a.animate){a.bar.stopAnimation();a.bar.animate(Ext.apply({from:{width:d*100+"%"},to:{width:a.value*100+"%"}},a.animate))}else a.bar.setStyle("width",a.value*100+"%");a.fireEvent("update",a,a.value,b);return a},updateText:function(b){var a=this;a.text=b;a.rendered&&a.textEl.update(a.text);return a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b=this,c;if(!b.waitTimer){c=b;a=a||{};b.updateText(a.text);b.waitTimer=Ext.TaskManager.start({run:function(d){var c=a.increment||10;d-=1;b.updateProgress(((d+c)%c+1)*(100/c)*.01,null,a.animate)},interval:a.interval||1e3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||b);b.reset()},scope:c})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(b){var a=this;a.updateProgress(0);a.clearTimer();b===true&&a.hide();return a},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var a=this;a.clearTimer();if(a.rendered){a.textEl.isComposite&&a.textEl.clear();Ext.destroyMembers(a,"textEl","progressBar")}a.callParent()}});Ext.define("Ext.layout.component.Tab",{extend:"Ext.layout.component.Button",alias:"layout.tab",beginLayout:function(){var a=this,b=a.owner.closable;if(a.lastClosable!==b){a.lastClosable=b;a.clearTargetCache()}a.callParent(arguments)}});Ext.define("Ext.layout.component.field.Field",{extend:"Ext.layout.component.Auto",alias:"layout.field",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics","Ext.util.CSS"],type:"field",beginLayout:function(a){var b=this,c=b.owner,d=a.widthModel,e;b.callParent(arguments);a.labelStrategy=b.getLabelStrategy();a.errorStrategy=b.getErrorStrategy();a.labelContext=a.getEl("labelEl");a.bodyCellContext=a.getEl("bodyEl");a.inputContext=a.getEl("inputEl");a.errorContext=a.getEl("errorEl");a.inputRow=a.getEl("inputRow");if((Ext.isIE6||Ext.isIE7)&&Ext.isStrict&&a.inputContext)b.ieInputWidthAdjustment=a.inputContext.getPaddingInfo().width+a.inputContext.getBorderInfo().width;a.labelStrategy.prepare(a,c);a.errorStrategy.prepare(a,c);if(d.shrinkWrap)b.beginLayoutShrinkWrap(a);else if(d.natural){if(typeof c.size=="number")b.beginLayoutFixed(a,e=c.size*6.5+20,"px");else b.beginLayoutShrinkWrap(a);a.setWidth(e,false)}else b.beginLayoutFixed(a,"100","%")},beginLayoutFixed:function(c,b,d){var a=c.target;a.el.setStyle("table-layout","fixed");a.bodyEl.setStyle("width",b+d)},beginLayoutShrinkWrap:function(b){var a=b.target;a.inputEl&&a.inputEl.dom&&a.inputEl.dom.removeAttribute("size");a.el.setStyle("table-layout","auto");a.bodyEl.setStyle("width","")},finishedLayout:function(a){var b=this.owner;this.callParent(arguments);a.labelStrategy.finishedLayout(a,b);a.errorStrategy.finishedLayout(a,b)},calculateOwnerHeightFromContentHeight:function(b,a){return a},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var a=this,b=a.labelStrategies,c=a.owner.labelAlign;return b[c]||b.base},getErrorStrategy:function(){var d=this,b=d.owner,a=d.errorStrategies,c=b.msgTarget;return!b.preventMark&&Ext.isString(c)?a[c]||a.elementId:a.none},labelStrategies:function(){var a={prepare:function(d,a){var c=a.labelCls+"-"+a.labelAlign,b=a.labelEl;b&&b.addCls(c)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({prepare:function(c,b){a.prepare(c,b);var d=b.labelEl;c.hasHiddenLabel=d&&!b.hideEmptyLabel&&!b.getFieldLabel();if(c.hasHiddenLabel)d.dom.innerHTML="&#160;"},getHeight:function(d){var b=d.labelContext,a=b.getProp("height"),c=d.hasHiddenLabel;if(a===undefined||c){a=b.el.getHeight()+b.getMarginInfo().height;c&&b.setHeight(a)}return a},finishedLayout:function(b,a){if(b.hasHiddenLabel)a.labelEl.dom.innerHTML=""}},a),left:a,right:a}}(),errorStrategies:function(){function e(c){var a=Ext.layout.component.field.Field.tip,b;if(a&&a.isVisible()){b=a.activeTarget;b&&b.el===c.getActionEl().dom&&a.toFront(true)}}var b=Ext.applyIf,d=Ext.emptyFn,c=Ext.baseCSSPrefix+"form-invalid-icon",f,a={prepare:function(c,b){var a=b.errorEl;a&&a.setDisplayed(false)},getHeight:function(){return 0},onFocus:d,finishedLayout:d};return{none:a,side:b({prepare:function(e,a){var b=a.errorEl,d;if(!f){f=(d=Ext.getBody().createChild({style:"position:absolute",cls:c})).getWidth();d.remove()}b.addCls(c);b.set({"data-errorqtip":a.getActiveError()||""});b.setDisplayed(a.hasActiveError());a.bodyEl.dom.colSpan=a.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:e},a),under:b({prepare:function(d,a){var b=a.errorEl,c=Ext.baseCSSPrefix+"form-invalid-under";b.addCls(c);b.setDisplayed(a.hasActiveError());a.labelAlign=="left"&&b.prev().setDisplayed(a.hasVisibleLabel()?"block":"none")},getHeight:function(d){var a=0,b,c;if(d.target.hasActiveError()){b=d.errorContext;c=b.props;a=c.height;if(a===undefined)c.height=a=b.el.getHeight()}return a}},a),qtip:b({prepare:function(b,a){Ext.layout.component.field.Field.initTip();a.getActionEl().set({"data-errorqtip":a.getActiveError()||""})},onFocus:e},a),title:b({prepare:function(b,a){a.el.set({title:a.getActiveError()||""})}},a),elementId:b({prepare:function(c,a){var b=Ext.fly(a.msgTarget);if(b){b.dom.innerHTML=a.getActiveError()||"";b.setDisplayed(a.hasActiveError())}}},a)}}(),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create("Ext.tip.QuickTip",{baseCls:Ext.baseCSSPrefix+"form-invalid-tip"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}});Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.field.Field"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"/>',{disableFormats:true}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:false,initComponent:function(){var a=this;a.callParent();a.subTplData=a.subTplData||{};a.addEvents("specialkey","writeablechange");a.initLabelable();a.initField();if(!a.name)a.name=a.getInputId()},beforeRender:function(){var a=this;a.callParent(arguments);a.beforeLabelableRender(arguments);a.readOnly&&a.addCls(a.readOnlyCls)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var a=this,b=a.inputType,d=a.getInputId(),c;c=Ext.apply({id:d,cmpId:a.id,name:a.name||d,disabled:a.disabled,readOnly:a.readOnly,value:a.getRawValue(),type:b,fieldCls:a.fieldCls,fieldStyle:a.getFieldStyle(),tabIdx:a.tabIndex,typeCls:Ext.baseCSSPrefix+"form-"+(b==="password"?"text":b)},a.subTplData);a.getInsertionRenderData(c,a.subTplInsertions);return c},afterFirstLayout:function(){this.callParent();var a=this.inputEl;a&&a.selectable()},applyRenderSelectors:function(){var a=this;a.callParent();a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl"))a.renderTpl=a.getTpl("labelableRenderTpl");return a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,c=b.inputEl;c&&c.applyStyles(a);b.fieldStyle=a},getFieldStyle:function(){return"width:100%;"+(Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||"")},onRender:function(){var a=this;a.callParent(arguments);a.onLabelableRender();a.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},extractFileInput:function(){var b=this,a=b.isFileUpload()?b.inputEl.dom:null,c;if(a){c=a.cloneNode(true);a.parentNode.replaceChild(c,a);b.inputEl=Ext.get(c)}return a},getSubmitData:function(){var a=this,b=null,c;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){c=a.getSubmitValue();if(c!==null){b={};b[a.getName()]=c}}return b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=a.inputEl?a.inputEl.getValue():Ext.value(a.rawValue,"");a.rawValue=b;return b},setRawValue:function(a){var b=this;a=Ext.value(a,"");b.rawValue=a;if(b.inputEl)b.inputEl.dom.value=a;return a},valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:function(a){return a},processRawValue:function(a){return a},getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(b){var a=this;a.setRawValue(a.valueToRaw(b));return a.mixins.field.setValue.call(a,b)},onBoxReady:function(){var a=this;a.callParent();a.setReadOnlyOnBoxReady&&a.setReadOnly(a.readOnly)},onDisable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=true;if(a.hasActiveError()){a.clearInvalid();a.needsValidateOnEnable=true}}},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=false;if(a.needsValidateOnEnable){delete a.needsValidateOnEnable;a.forceValidation=true;a.isValid();delete a.forceValidation}}},setReadOnly:function(b){var a=this,c=a.inputEl;b=!!b;a[b?"addCls":"removeCls"](a.readOnlyCls);a.readOnly=b;if(c)c.dom.readOnly=b;else if(a.rendering)a.setReadOnlyOnBoxReady=true;a.fireEvent("writeablechange",a,b)},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))},initEvents:function(){var a=this,d=a.inputEl,e,g,f=a.checkChangeEvents,b,h=f.length,c;if(a.inEditor)a.onBlur=Ext.Function.createBuffered(a.onBlur,10);if(d){a.mon(d,Ext.EventManager.getKeyEvent(),a.fireKey,a);e=new Ext.util.DelayedTask(a.checkChange,a);a.onChangeEvent=g=function(){e.delay(a.checkChangeBuffer)};for(b=0;b<h;b++){c=f[b];if(c==="propertychange")a.usesPropertychange=true;a.mon(d,c,g)}}a.callParent()},doComponentLayout:function(){var a=this,d=a.inputEl,b=a.usesPropertychange,c="propertychange",e=a.onChangeEvent;b&&a.mun(d,c,e);a.callParent(arguments);b&&a.mon(d,c,e)},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var a=this,b=a.disabled,c=a.forceValidation||!b;return c?a.validateValue(a.processRawValue(a.getRawValue())):b},validateValue:function(d){var a=this,c=a.getErrors(d),b=Ext.isEmpty(c);if(!a.preventMark)if(b)a.clearInvalid();else a.markInvalid(c);return b},markInvalid:function(c){var a=this,b=a.getActiveError();a.setActiveErrors(Ext.Array.from(c));b!==a.getActiveError()&&a.updateLayout()},clearInvalid:function(){var a=this,b=a.hasActiveError();a.unsetActiveError();b&&a.updateLayout()},renderActiveError:function(){var a=this,b=a.hasActiveError();a.inputEl&&a.inputEl[b?"addCls":"removeCls"](a.invalidCls+"-field");a.mixins.labelable.renderActiveError.call(a)},getActionEl:function(){return this.inputEl||this.el}});Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],componentLayout:"field",childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:true,compiled:true}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-cb-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",onRe:/^on$/i,initComponent:function(){this.callParent(arguments);this.getManager().add(this)},initValue:function(){var a=this,b=!!a.checked;a.originalValue=a.lastValue=b;a.setValue(b)},getElConfig:function(){var a=this;a.isChecked(a.rawValue,a.inputValue)&&a.addCls(a.checkedCls);return a.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{disabled:a.readOnly||a.disabled,boxLabel:a.boxLabel,boxLabelCls:a.boxLabelCls,boxLabelAlign:a.boxLabelAlign})},initEvents:function(){var a=this;a.callParent();a.mon(a.inputEl,"click",a.onBoxClick,a)},onBoxClick:function(){var a=this;!a.disabled&&!a.readOnly&&this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(a,b){return a===true||a==="true"||a==="1"||a===1||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(c){var a=this,d=a.inputEl,b=a.isChecked(c,a.inputValue);d&&a[b?"addCls":"removeCls"](a.checkedCls);a.checked=a.rawValue=b;return b},setValue:function(f){var a=this,c,b,e,d;if(Ext.isArray(f)){c=a.getManager().getByName(a.name,a.getFormId()).items;e=c.length;for(b=0;b<e;++b){d=c[b];d.setValue(Ext.Array.contains(f,d.inputValue))}}else a.callParent(arguments);return a},valueToRaw:function(a){return a},onChange:function(c){var a=this,b=a.handler;b&&b.call(a.scope||a,a,c);a.callParent(arguments)},resetOriginalValue:function(f){var b=this,c,e,d,a;if(!f){c=b.getManager().getByName(b.name,b.getFormId()).items;d=c.length;for(a=0;a<d;++a){e=c[a];e!==b&&c[a].resetOriginalValue(true)}}b.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b)b.dom.disabled=a.readOnly},setReadOnly:function(c){var a=this,b=a.inputEl;if(b)b.dom.disabled=!!c||a.disabled;a.callParent(arguments)},getFormId:function(){var a=this,b;if(!a.formId){b=a.up("form");if(b)a.formId=b.id}return a.formId}});Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:true,disableFormats:true}],fieldCls:Ext.baseCSSPrefix+"form-display-field",htmlEncode:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,isDirty:function(){return false},isValid:function(){return true},validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(b){var a=this,c;b=Ext.value(b,"");a.rawValue=b;if(a.rendered)a.inputEl.dom.innerHTML=a.getDisplayValue();return b},getDisplayValue:function(){var a=this,b=this.getRawValue(),c;if(a.renderer)c=a.renderer.call(a.scope||a,b,a);else c=a.htmlEncode?Ext.util.Format.htmlEncode(b):b;return c},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}});Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:true,initComponent:function(){this.formItemCls+="-hidden";this.callParent()},isEqual:function(b,a){return this.isEqualAsString(b,a)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:true,inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(){var a=this;!a.disabled&&!a.readOnly&&this.setValue(true)},onRemoved:function(){this.callParent(arguments);this.formId=null},setValue:function(c){var a=this,b;if(Ext.isBoolean(c))a.callParent(arguments);else{b=a.getManager().getWithValue(a.name,c,a.getFormId()).getAt(0);b&&b.setValue(true)}return a},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(f){var a=this,b,e,c,d;a.callParent(arguments);if(f){d=a.getManager().getByName(a.name,a.getFormId()).items;e=d.length;for(b=0;b<e;b++){c=d[b];c!==a&&c.setValue(false)}}},getManager:function(){return Ext.form.RadioManager}});Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.field.Field",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(a){this.callParent(arguments);a.hasRawContent=true;a.target.bodyEl.setStyle("height","")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(b){var a=b.bodyCellContext;a.setWidth(a.el.getWidth(),false)},publishInnerHeight:function(a,b){var c=a.bodyCellContext;c.setHeight(b-this.measureLabelErrorHeight(a))}});Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.Field",alias:["layout.htmleditor"],type:"htmleditor",toolbarSizePolicy:{setsWidth:0,setsHeight:0},beginLayout:function(a){this.callParent(arguments);a.textAreaContext=a.getEl("textareaEl");a.iframeContext=a.getEl("iframeEl");a.toolbarContext=a.context.getCmp(this.owner.getToolbar())},getItemSizePolicy:function(){return this.toolbarSizePolicy},getLayoutItems:function(){var a=this.owner.getToolbar();return a?[a]:[]},getRenderTarget:function(){return this.owner.bodyEl},publishInnerHeight:function(a,d){var c=this,b=d-c.measureLabelErrorHeight(a)-a.toolbarContext.getProp("height")-a.bodyCellContext.getPaddingInfo().height;if(Ext.isNumber(b)){a.textAreaContext.setHeight(b);a.iframeContext.setHeight(b)}else c.done=false}});Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:"Ext.layout.component.field.Field",type:"sliderfield",beginLayout:function(a){this.callParent(arguments);a.endElContext=a.getEl("endEl");a.innerElContext=a.getEl("innerEl");a.bodyElContext=a.getEl("bodyEl")},publishInnerHeight:function(a,e){var d=e-this.measureLabelErrorHeight(a),c,b;if(this.owner.vertical){c=a.endElContext.getPaddingInfo();b=a.inputContext.getPaddingInfo();a.innerElContext.setHeight(d-b.height-c.height)}else a.bodyElContext.setHeight(d)},publishInnerWidth:function(a,d){if(!this.owner.vertical){var c=a.endElContext.getPaddingInfo(),b=a.inputContext.getPaddingInfo();a.innerElContext.setWidth(d-b.left-c.right-a.labelContext.getProp("width"))}},beginLayoutFixed:function(){var a=this,b=a.ieInputWidthAdjustment;b&&a.owner.bodyEl.setStyle("padding-right",b+"px");a.callParent(arguments)}});Ext.define("Ext.layout.component.field.Text",{extend:"Ext.layout.component.field.Field",alias:"layout.textfield",requires:["Ext.util.TextMetrics"],type:"textfield",canGrowWidth:true,beginLayoutCycle:function(a){var b=this;b.callParent(arguments);a.shrinkWrap&&a.inputContext.el.setStyle("height","")},measureContentWidth:function(f){var d=this,a=d.owner,e=d.callParent(arguments),g=f.inputContext,i,h,c,b,j;if(a.grow&&d.canGrowWidth&&!f.state.growHandled){i=a.inputEl;h=Ext.util.Format.htmlEncode(i.dom.value||(a.hasFocus?"":a.emptyText)||"");h+=a.growAppend;c=i.getTextWidth(h)+g.getFrameInfo().width;b=a.growMax;j=Math.min(b,e);b=Math.max(a.growMin,b,j);c=Ext.Number.constrain(c,a.growMin,b);g.setWidth(c);f.state.growHandled=true;g.domBlock(d,"width");e=NaN}return e},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},beginLayoutFixed:function(e,c,d){var a=this,b=a.ieInputWidthAdjustment;if(b){a.owner.bodyEl.setStyle("padding-right",b+"px");if(d==="px")c-=b}a.callParent(arguments)}});Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.layout.component.field.Text"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",componentLayout:"textfield",initComponent:function(){var a=this;a.callParent();a.addEvents("autosize","keydown","keyup","keypress");a.addStateEvents("change");a.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow)this.shrinkWrap|=1},initEvents:function(){var a=this,b=a.inputEl;a.callParent();(a.selectOnFocus||a.emptyText)&&a.mon(b,"mousedown",a.onMouseDown,a);(a.maskRe||a.vtype&&a.disableKeyFilter!==true&&(a.maskRe=Ext.form.field.VTypes[a.vtype+"Mask"]))&&a.mon(b,"keypress",a.filterKeys,a);a.enableKeyEvents&&a.mon(b,{scope:a,keyup:a.onKeyUp,keydown:a.onKeyDown,keypress:a.onKeyPress})},isEqual:function(b,a){return this.isEqualAsString(b,a)},onChange:function(){this.callParent();this.autoSize()},getSubTplData:function(){var a=this,b=a.getRawValue(),d=a.emptyText&&b.length<1,c;if(d)if(Ext.supports.Placeholder)c=a.emptyText;else b=a.emptyText;return Ext.apply(a.callParent(),{maxLength:a.enforceMaxLength?a.maxLength:undefined,readOnly:a.readOnly,placeholder:c,value:b,fieldCls:a.fieldCls+(d&&(c||b)?" "+a.emptyCls:"")})},afterRender:function(){this.autoSize();this.callParent()},onMouseDown:function(){var a=this;!a.hasFocus&&a.mon(a.inputEl,"mouseup",Ext.emptyFn,a,{single:true,preventDefault:true})},processRawValue:function(a){var c=this,d=c.stripCharsRe,b;if(d){b=a.replace(d,"");if(b!==a){c.setRawValue(b);a=b}}return a},onDisable:function(){this.callParent();if(Ext.isIE)this.inputEl.dom.unselectable="on"},onEnable:function(){this.callParent();if(Ext.isIE)this.inputEl.dom.unselectable=""},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var a=this,b=a.emptyText,c;if(a.rendered&&b){c=a.getRawValue().length<1&&!a.hasFocus;if(Ext.supports.Placeholder)a.inputEl.dom.placeholder=b;else c&&a.setRawValue(b);c&&a.inputEl.addCls(a.emptyCls);a.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a)a.dom.unselectable="on"}},preFocus:function(){var a=this,b=a.inputEl,c=a.emptyText,d;a.callParent(arguments);if(c&&!Ext.supports.Placeholder&&b.dom.value===c){a.setRawValue("");d=true;b.removeCls(a.emptyCls)}else Ext.supports.Placeholder&&a.inputEl.removeCls(a.emptyCls);(a.selectOnFocus||d)&&b.dom.select()},onFocus:function(){var a=this;a.callParent(arguments);a.emptyText&&a.autoSize()},postBlur:function(){this.callParent(arguments);this.applyEmptyText()},filterKeys:function(a){if(a.ctrlKey&&!a.altKey)return;var c=a.getKey(),b=String.fromCharCode(a.getCharCode());if(Ext.isGecko&&(a.isNavKeyPress()||c===a.BACKSPACE||c===a.DELETE&&a.button===-1))return;if(!Ext.isGecko&&a.isSpecialKey()&&!b)return;!this.maskRe.test(b)&&a.stopEvent()},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);a.hasOwnProperty("value")&&this.setValue(a.value)},getRawValue:function(){var b=this,a=b.callParent();if(a===b.emptyText)a="";return a},setValue:function(c){var a=this,b=a.inputEl;b&&a.emptyText&&!Ext.isEmpty(c)&&b.removeCls(a.emptyCls);a.callParent(arguments);a.applyEmptyText();return a},getErrors:function(b){var a=this,c=a.callParent(arguments),f=a.validator,k=a.emptyText,j=a.allowBlank,e=a.vtype,g=Ext.form.field.VTypes,h=a.regex,i=Ext.String.format,d;b=b||a.processRawValue(a.getRawValue());if(Ext.isFunction(f)){d=f.call(a,b);d!==true&&c.push(d)}if(b.length<1||b===k){!j&&c.push(a.blankText);return c}b.length<a.minLength&&c.push(i(a.minLengthText,a.minLength));b.length>a.maxLength&&c.push(i(a.maxLengthText,a.maxLength));if(e)!g[e](b,a)&&c.push(a.vtypeText||g[e+"Text"]);h&&!h.test(b)&&c.push(a.regexText||a.invalidText);return c},selectText:function(b,a){var f=this,e=f.getRawValue(),g=true,d=f.inputEl.dom,h,c;if(e.length>0){b=b===h?0:b;a=a===h?e.length:a;if(d.setSelectionRange)d.setSelectionRange(b,a);else if(d.createTextRange){c=d.createTextRange();c.moveStart("character",b);c.moveEnd("character",a-e.length);c.select()}g=Ext.isGecko||Ext.isOpera}g&&f.focus()},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=true;a.updateLayout()}},afterComponentLayout:function(){var a=this,b;a.callParent(arguments);if(a.autoSizing){b=a.inputEl.getWidth();if(b!==a.lastInputWidth){a.fireEvent("autosize",a,b);a.lastInputWidth=b;delete a.autoSizing}}}});Ext.define("Ext.layout.component.field.TextArea",{extend:"Ext.layout.component.field.Text",alias:"layout.textareafield",type:"textareafield",canGrowWidth:false,beginLayout:function(a){this.callParent(arguments);a.target.inputEl.setStyle("height","")},measureContentHeight:function(f){var g=this,a=g.owner,i=g.callParent(arguments),b,d,c,j,h,e;if(a.grow&&!f.state.growHandled){b=f.inputContext;d=a.inputEl;h=d.getWidth(true);c=Ext.util.Format.htmlEncode(d.dom.value)||"&#160;";c+=a.growAppend;c=c.replace(/\n/g,"<br/>");e=Ext.util.TextMetrics.measure(d,c,h).height+b.getBorderInfo().height+b.getPaddingInfo().height;e=Ext.Number.constrain(e,a.growMin,a.growMax);b.setHeight(e);f.state.growHandled=true;b.domBlock(g,"height");i=NaN}return i}});Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.layout.component.field.TextArea","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:false,preventScrollbars:false,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,getSubTplData:function(){var a=this,c=a.getFieldStyle(),b=a.callParent();if(a.grow)if(a.preventScrollbars)b.fieldStyle=(c||"")+";overflow:hidden;height:"+a.growMin+"px";Ext.applyIf(b,{cols:a.cols,rows:a.rows});return b},afterRender:function(){var a=this;a.callParent(arguments);a.needsMaxCheck=a.enforceMaxLength&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck)a.inputEl.on("paste",a.onPaste,a)},onPaste:function(){var a=this;if(!a.pasteTask)a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a);a.pasteTask.delay(1)},pasteCheck:function(){var b=this,a=b.getValue(),c=b.maxLength;if(a.length>c){a=a.substr(0,c);b.setValue(a)}},fireKey:function(a){var b=this,c;a.isSpecialKey()&&(b.enterIsSpecial||(a.getKey()!==a.ENTER||a.hasModifier()))&&b.fireEvent("specialkey",b,a);if(b.needsMaxCheck&&a.getKey()!==a.BACKSPACE&&!a.isNavKeyPress()){c=b.getValue();c.length>=b.maxLength&&a.stopEvent()}},autoSize:function(){var a=this,b;if(a.grow&&a.rendered){a.updateLayout();b=a.inputEl.getHeight();if(b!==a.lastInputHeight){a.fireEvent("autosize",a,b);a.lastInputHeight=b}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},beforeDestroy:function(){var a=this.pasteTask;a&&a.delay();this.callParent()}});Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:"Ext.layout.component.field.Field",type:"triggerfield",beginLayout:function(d){var c=this,a=c.owner,b;d.triggerWrap=d.getEl("triggerWrap");c.callParent(arguments);b=a.getTriggerStateFlags();if(b!=a.lastTriggerStateFlags){a.lastTriggerStateFlags=b;c.updateEditState()}},beginLayoutFixed:function(g,c,e){var d=this,a=g.target,b=d.ieInputWidthAdjustment,f="100%";d.callParent(arguments);a.inputCell.setStyle("width","100%");if(b){a.inputCell.setStyle("padding-right",b+"px");if(e==="px")f=c-b-a.getTriggerWidth()}a.inputEl.setStyle("width",f);a.triggerWrap.setStyle("width",c+e);a.triggerWrap.setStyle("table-layout","fixed")},beginLayoutShrinkWrap:function(c){var a=c.target,b="";this.callParent(arguments);a.triggerWrap.setStyle("width",b);a.inputCell.setStyle("width",b);a.inputEl.setStyle("width",b);a.triggerWrap.setStyle("table-layout","auto")},getTextWidth:function(){var d=this,a=d.owner,c=a.inputEl,b;b=(c.dom.value||(a.hasFocus?"":a.emptyText)||"")+a.growAppend;return c.getTextWidth(b)},measureContentWidth:function(e){var d=this,b=d.owner,f=d.callParent(arguments),h=e.inputContext,c,a,g;if(b.grow&&!e.state.growHandled){c=d.getTextWidth()+e.inputContext.getFrameInfo().width;a=b.growMax;g=Math.min(a,f);a=Math.max(b.growMin,a,g);c=Ext.Number.constrain(c,b.growMin,a);h.setWidth(c);e.state.growHandled=true;h.domBlock(d,"width");f=NaN}return f},updateEditState:function(){var a=this,f=a.owner,b=f.inputEl,e=Ext.baseCSSPrefix+"trigger-noedit",d,c;if(a.owner.readOnly){b.addCls(e);c=true;d=false}else{if(a.owner.editable){b.removeCls(e);c=false}else{b.addCls(e);c=true}d=!a.owner.hideTrigger}f.triggerCell.setDisplayed(d);b.dom.readOnly=c}});Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.DomHelper","Ext.util.ClickRepeater","Ext.layout.component.field.Trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",hideTrigger:false,editable:true,readOnly:false,repeatTriggerClick:false,autoSize:Ext.emptyFn,monitorTab:true,mimicing:false,triggerIndexRe:/trigger-index-(\d+)/,componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";this.callParent(arguments)},getSubTplMarkup:function(){var a=this,b=a.callParent(arguments);return'<table id="'+a.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+a.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+b+"</td>"+a.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var a=this,d=a.callParent(),c=a.readOnly===true,b=a.editable!==false;return Ext.apply(d,{editableCls:c||!b?" "+Ext.baseCSSPrefix+"trigger-noedit":"",readOnly:!b||c})},getLabelableRenderData:function(){var a=this,c=a.triggerWrapCls,b=a.callParent(arguments);return Ext.applyIf(b,{triggerWrapCls:c,triggerMarkup:a.getTriggerMarkup()})},getTriggerMarkup:function(){var a=this,b=0,f=a.readOnly||a.hideTrigger,e,d=a.triggerBaseCls,c=[];if(!a.trigger1Cls)a.trigger1Cls=a.triggerCls;for(b=0;(e=a["trigger"+(b+1)+"Cls"])||b<1;b++)c.push({tag:"td",valign:"top",cls:Ext.baseCSSPrefix+"trigger-cell",style:"width:"+a.triggerWidth+(f?"px;display:none":"px"),cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+b,d,e].join(" "),role:"button"}});c[b-1].cn.cls+=" "+d+"-last";return Ext.DomHelper.markup(c)},disableCheck:function(){return!this.disabled},beforeRender:function(){var a=this,c=a.triggerBaseCls,b;if(!a.triggerWidth){b=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"});Ext.form.field.Trigger.prototype.triggerWidth=b.getWidth();b.remove()}a.callParent();c!=Ext.baseCSSPrefix+"form-trigger"&&a.addChildEls({name:"triggerEl",select:"."+c});a.lastTriggerStateFlags=a.getTriggerStateFlags()},onRender:function(){var a=this;a.callParent(arguments);a.doc=Ext.getDoc();a.initTrigger();a.triggerEl.unselectable()},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly)b=a.triggerEl.getCount()*a.triggerWidth;return b},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateLayout()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateLayout()}},setReadOnly:function(a){if(a!=this.readOnly){this.readOnly=a;this.updateLayout()}},initTrigger:function(){var a=this,i=a.triggerWrap,d=a.triggerEl,c=a.disableCheck,f,h,e,b,g;if(a.repeatTriggerClick)a.triggerRepeater=new Ext.util.ClickRepeater(i,{preventDefault:true,handler:a.onTriggerWrapClick,listeners:{mouseup:a.onTriggerWrapMousup,scope:a},scope:a});else a.mon(i,{click:a.onTriggerWrapClick,mouseup:a.onTriggerWrapMousup,scope:a});d.setVisibilityMode(Ext.Element.DISPLAY);d.addClsOnOver(a.triggerBaseCls+"-over",c,a);f=d.elements;h=f.length;for(b=0;b<h;b++){e=f[b];g=b+1;e.addClsOnOver(a["trigger"+g+"Cls"]+"-over",c,a);e.addClsOnClick(a["trigger"+g+"Cls"]+"-click",c,a)}d.addClsOnClick(a.triggerBaseCls+"-click",c,a)},onDestroy:function(){var a=this;Ext.destroyMembers(a,"triggerRepeater","triggerWrap","triggerEl");delete a.doc;a.callParent()},onFocus:function(){var a=this;a.callParent(arguments);if(!a.mimicing){a.bodyEl.addCls(a.wrapFocusCls);a.mimicing=true;a.mon(a.doc,"mousedown",a.mimicBlur,a,{delay:10});if(a.monitorTab)a.on("specialkey",a.checkTab,a)}},checkTab:function(b,a){!this.ignoreMonitorTab&&a.getKey()==a.TAB&&this.triggerBlur()},getTriggerStateFlags:function(){var b=this,a=0;if(b.readOnly)a+=1;if(b.editable)a+=2;if(b.hideTrigger)a+=4;return a},onBlur:Ext.emptyFn,mimicBlur:function(a){!this.isDestroyed&&!this.bodyEl.contains(a.target)&&this.validateBlur(a)&&this.triggerBlur(a)},triggerBlur:function(b){var a=this;a.mimicing=false;a.mun(a.doc,"mousedown",a.mimicBlur,a);a.monitorTab&&a.inputEl&&a.un("specialkey",a.checkTab,a);Ext.form.field.Trigger.superclass.onBlur.call(a,b);a.bodyEl&&a.bodyEl.removeCls(a.wrapFocusCls)},validateBlur:function(){return true},onTriggerWrapClick:function(){var a=this,e,d,c,b;b=arguments[a.triggerRepeater?1:0];if(b&&!a.readOnly&&!a.disabled){e=b.getTarget("."+a.triggerBaseCls,null);d=e&&e.className.match(a.triggerIndexRe);if(d){c=a["onTrigger"+(parseInt(d[1],10)+1)+"Click"]||a.onTriggerClick;c&&c.call(a,b)}}},onTriggerWrapMousup:Ext.emptyFn,onTriggerClick:Ext.emptyFn});Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Trigger",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],uses:["Ext.button.Button","Ext.layout.component.field.Field"],buttonText:"Browse...",buttonOnly:false,buttonMargin:3,fieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:true,componentLayout:"triggerfield",childEls:["fileInputEl","buttonEl","buttonEl-btnEl","browseButtonWrap"],onRender:function(){var a=this,b;a.callParent(arguments);b=a.inputEl;b.dom.name="";a.fileInputEl.dom.name=a.getName();a.fileInputEl.on({scope:a,change:a.onFileChange});a.buttonOnly&&a.inputCell.setDisplayed(false);a.browseButtonWrap.dom.style.width=a.browseButtonWrap.dom.lastChild.offsetWidth+a.buttonEl.getMargin("lr")+"px";Ext.isIE&&a.buttonEl.repaint()},getTriggerMarkup:function(){var a=this,b,d=Ext.widget("button",Ext.apply({id:a.id+"-buttonEl",ui:a.ui,disabled:a.disabled,text:a.buttonText,cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:false,style:a.buttonOnly?"":"margin-left:"+a.buttonMargin+"px"},a.buttonConfig)),c=d.getRenderTree(),e={id:a.id+"-fileInputEl",cls:Ext.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1};if(a.disabled)e.disabled=true;c.cn=e;b='<td id="'+a.id+'-browseButtonWrap">'+Ext.DomHelper.markup(c)+"</td>";d.destroy();return b},createFileInput:function(){var a=this;a.fileInputEl=a.buttonEl.createChild({name:a.getName(),id:a.id+"-fileInputEl",cls:Ext.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1});a.fileInputEl.on({scope:a,change:a.onFileChange})},onFileChange:function(){this.lastValue=null;Ext.form.field.File.superclass.setValue.call(this,this.fileInputEl.dom.value)},setValue:Ext.emptyFn,reset:function(){var a=this;if(a.rendered){a.fileInputEl.remove();a.createFileInput();a.inputEl.dom.value=""}a.callParent()},onDisable:function(){this.callParent();this.disableItems()},disableItems:function(){var a=this.fileInputEl;if(a)a.dom.disabled=true;this["buttonEl-btnEl"].dom.disabled=true},onEnable:function(){var a=this;a.callParent();a.fileInputEl.dom.disabled=false;this["buttonEl-btnEl"].dom.disabled=true},isFileUpload:function(){return true},extractFileInput:function(){var a=this.fileInputEl.dom;this.reset();return a},onDestroy:function(){Ext.destroyMembers(this,"fileInputEl","buttonEl");this.callParent()}});Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Trigger",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true});!a.editable&&a.mon(a.inputEl,"click",a.onTriggerClick,a);Ext.isGecko&&a.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(b){var a=this;if(a.isExpanded){a.collapse();b.stopEvent()}else if(a.up("window"))a.blur();else(!Ext.FocusManager||!Ext.FocusManager.enabled)&&b.stopEvent()},onDownArrow:function(){!this.isExpanded&&this.onTriggerClick()},expand:function(){var a=this,c,d,b;if(a.rendered&&!a.isExpanded&&!a.isDestroyed){c=a.bodyEl;d=a.getPicker();b=a.collapseIf;d.show();a.isExpanded=true;a.alignPicker();c.addCls(a.openCls);a.mon(Ext.getDoc(),{mousewheel:b,mousedown:b,scope:a});Ext.EventManager.onWindowResize(a.alignPicker,a);a.fireEvent("expand",a);a.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){var a=this,b=a.getPicker();if(a.isExpanded){a.matchFieldWidth&&b.setWidth(a.bodyEl.getWidth());b.isFloating()&&a.doAlign()}},doAlign:function(){var a=this,c=a.picker,d="-above",b;a.picker.alignTo(a.inputEl,a.pickerAlign,a.pickerOffset);b=c.el.getY()<a.inputEl.getY();a.bodyEl[b?"addCls":"removeCls"](a.openCls+d);c[b?"addCls":"removeCls"](c.baseCls+d)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var a=this,d=a.openCls,b=a.picker,e=Ext.getDoc(),f=a.collapseIf,c="-above";b.hide();a.isExpanded=false;a.bodyEl.removeCls([d,d+c]);b.el.removeCls(b.baseCls+c);e.un("mousewheel",f,a);e.un("mousedown",f,a);Ext.EventManager.removeResizeListener(a.alignPicker,a);a.fireEvent("collapse",a);a.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(b){var a=this;!a.isDestroyed&&!b.within(a.bodyEl,false,true)&&!b.within(a.picker.el,false,true)&&!a.isEventWithinPickerLoadMask(b)&&a.collapse()},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded)a.collapse();else a.expand();a.inputEl.focus()}},mimicBlur:function(c){var a=this,b=a.picker;(!b||!c.within(b.el,false,true)&&!a.isEventWithinPickerLoadMask(c))&&a.callParent(arguments)},onDestroy:function(){var a=this,b=a.picker;Ext.EventManager.removeResizeListener(a.alignPicker,a);Ext.destroy(a.keyNav);if(b){delete b.pickerField;b.destroy()}a.callParent()},isEventWithinPickerLoadMask:function(b){var a=this.picker.loadMask;return a?b.within(a.maskEl,false,true)||b.within(a.el,false,true):false}});Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Trigger",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.util.KeyNav"],trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up" role="button"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down" role="button"></div></td></tr>',initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var a=this,b;a.callParent(arguments);b=a.triggerEl;a.spinUpEl=b.item(0);a.spinDownEl=b.item(1);a.setSpinUpEnabled(a.spinUpEnabled);a.setSpinDownEnabled(a.spinDownEnabled);if(a.keyNavEnabled)a.spinnerKeyNav=new Ext.util.KeyNav(a.inputEl,{scope:a,up:a.spinUp,down:a.spinDown});a.mouseWheelEnabled&&a.mon(a.bodyEl,"mousewheel",a.onMouseWheel,a)},getSubTplMarkup:function(){var a=this,b=Ext.form.field.Base.prototype.getSubTplMarkup.apply(a,arguments);return'<table id="'+a.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+a.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+b+"</td>"+a.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){var a=this,b=a.readOnly||a.hideTrigger;return a.getTpl("triggerTpl").apply({triggerStyle:"width:"+a.triggerWidth+(b?"px;display:none":"px")})},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly)b=a.triggerWidth;return b},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMousup:function(){this.inputEl.focus()},spinUp:function(){var a=this;if(a.spinUpEnabled&&!a.disabled){a.fireEvent("spin",a,"up");a.fireEvent("spinup",a);a.onSpinUp()}},spinDown:function(){var a=this;if(a.spinDownEnabled&&!a.disabled){a.fireEvent("spin",a,"down");a.fireEvent("spindown",a);a.onSpinDown()}},setSpinUpEnabled:function(b){var a=this,c=a.spinUpEnabled;a.spinUpEnabled=b;c!==b&&a.rendered&&a.spinUpEl[b?"removeCls":"addCls"](a.trigger1Cls+"-disabled")},setSpinDownEnabled:function(b){var a=this,c=a.spinDownEnabled;a.spinDownEnabled=b;c!==b&&a.rendered&&a.spinDownEl[b?"removeCls":"addCls"](a.trigger2Cls+"-disabled")},onMouseWheel:function(c){var a=this,b;if(a.hasFocus){b=c.getWheelDelta();if(b>0)a.spinUp();else b<0&&a.spinDown();c.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowDecimals:true,decimalSeparator:".",submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var a=this,b;a.callParent();a.setMinValue(a.minValue);a.setMaxValue(a.maxValue);if(a.disableKeyFilter!==true){b=a.baseChars+"";if(a.allowDecimals)b+=a.decimalSeparator;if(a.minValue<0)b+="-";b=Ext.String.escapeRegex(b);a.maskRe=new RegExp("["+b+"]");if(a.autoStripChars)a.stripCharsRe=new RegExp("[^"+b+"]","gi")}},getErrors:function(b){var a=this,c=a.callParent(arguments),e=Ext.String.format,d;b=Ext.isDefined(b)?b:this.processRawValue(this.getRawValue());if(b.length<1)return c;b=String(b).replace(a.decimalSeparator,".");isNaN(b)&&c.push(e(a.nanText,b));d=a.parseValue(b);if(a.minValue===0&&d<0)c.push(this.negativeText);else d<a.minValue&&c.push(e(a.minText,a.minValue));d>a.maxValue&&c.push(e(a.maxText,a.maxValue));return c},rawToValue:function(b){var a=this.fixPrecision(this.parseValue(b));if(a===null)a=b||null;return a},valueToRaw:function(a){var b=this,c=b.decimalSeparator;a=b.parseValue(a);a=b.fixPrecision(a);a=Ext.isNumber(a)?a:parseFloat(String(a).replace(c,"."));a=isNaN(a)?"":String(a).replace(".",c);return a},getSubmitValue:function(){var a=this,b=a.callParent();if(!a.submitLocaleSeparator)b=b.replace(a.decimalSeparator,".");return b},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var a=this,b=a.getValue(),c=b===null;a.setSpinUpEnabled(c||b<a.maxValue);a.setSpinDownEnabled(c||b>a.minValue)},setMinValue:function(a){this.minValue=Ext.Number.from(a,Number.NEGATIVE_INFINITY);this.toggleSpinners()},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},fixPrecision:function(a){var d=this,c=isNaN(a),b=d.decimalPrecision;if(c||!a)return c?"":a;else if(!d.allowDecimals||b<=0)b=0;return parseFloat(Ext.Number.toFixed(parseFloat(a),b))},beforeBlur:function(){var a=this,b=a.parseValue(a.getRawValue());!Ext.isEmpty(b)&&a.setValue(b)},onSpinUp:function(){var a=this;!a.readOnly&&a.setValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))},onSpinDown:function(){var a=this;!a.readOnly&&a.setValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))}});Ext.define("Ext.layout.component.field.ComboBox",{extend:"Ext.layout.component.field.Trigger",alias:"layout.combobox",requires:["Ext.util.TextMetrics"],type:"combobox",startingWidth:null,getTextWidth:function(){for(var b=this,a=b.owner,i=a.store,k=a.displayField,j=i.data.length,h="",d=0,g=0,e,f,c;d<j;d++){f=i.getAt(d).data[k];e=f.length;if(e>g){g=e;h=f}}c=Math.max(b.callParent(arguments),a.inputEl.getTextWidth(h+a.growAppend));if(!b.startingWidth||a.removingRecords){b.startingWidth=c;if(c<a.growMin)a.defaultListConfig.minWidth=a.growMin;a.removingRecords=false}return c<b.startingWidth?b.startingWidth:c}});Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:"Ext.util.ElementContainer"},requires:["Ext.XTemplate"],type:"container",manageOverflow:0,beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,reserveScrollbar:false,lastOverflowAdjust:{width:0,height:0},constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},initLayout:function(){var a=this,b=Ext.getScrollbarSize().width;a.callParent();if(b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust"))if(a.owner.autoScroll||a.reserveScrollbar)a.lastOverflowAdjust={width:b,height:0}},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(b,d){var a=this,c=a.overflowPadderEl;a.callParent(arguments);if(!b.state.overflowAdjust)b.state.overflowAdjust=a.lastOverflowAdjust;if(d){if(a.usesContainerHeight)++b.consumersContainerHeight;if(a.usesContainerWidth)++b.consumersContainerWidth}c&&c.setStyle("display","none")},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},cacheChildItems:function(c){var e=c.context,d=[],b=this.getVisibleItems(),f=b.length,a;c.childItems=d;c.visibleItems=b;for(a=0;a<f;++a)d.push(e.getCmp(b[a]))},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},calculateContentSize:function(a,z){var f=this,u=(z||0)|f.manageOverflow|((a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0)),b=u&1||undefined,c=u&2||undefined,t=a.childItems,y=t.length,i=0,h=0,o=0,v=a.props,g,x,w,k,m,d,e,s,r,p,j,l,q,n;if(b)if(isNaN(v.contentWidth))++o;else b=undefined;if(c)if(isNaN(v.contentHeight))++o;else c=undefined;if(o){for(j=0;j<y;++j){e=t[j];d=e.target;p=c&&e.getProp("height");q=b&&e.getProp("width");l=e.getMarginInfo();if(b&&isNaN(d.x)||c&&isNaN(d.y)){n=d.el.getXY();if(!g){g=a.targetContext.el.getXY();m=a.targetContext.getBorderInfo();x=g[0]+m.left;w=g[1]+m.top}s=n[0]-x;r=n[1]-w}else{s=d.x;r=d.y}p+=l.bottom;q+=l.right;i=Math.max(i,r+p);h=Math.max(h,s+q);if(isNaN(i)&&isNaN(h)){f.done=false;return}}if(b||c)k=a.targetContext.getPaddingInfo();if(b&&!a.setContentWidth(h+k.right))f.done=false;if(c&&!a.setContentHeight(i+k.bottom))f.done=false}},calculateOverflow:function(a,j,r){var b=this,g=b.owner,v=b.manageOverflow,i=a.state,k=i.overflowAdjust,m,n,h,o,l,d,p,s,u,q,t,c,e,f;if(v&&!i.secondPass&&!b.reserveScrollbar){if(g.autoScroll)e=f=true;else{if(g.overflowX)e=g.overflowX=="auto";else{d=a.targetContext.getStyle("overflow-x");e=d&&d!="hidden"&&d!="scroll"}if(g.overflowY)f=g.overflowY=="auto";else{d=a.targetContext.getStyle("overflow-y");f=d&&d!="hidden"&&d!="scroll"}}if(!j.gotWidth)e=false;if(!j.gotHeight)f=false;if(e||f){p=Ext.getScrollbarSize();s=a.peek("contentWidth");u=a.peek("contentHeight");q=j.width;t=j.height;c=b.getScrollbarsNeeded(q,t,s,u);i.overflowState=c;if(typeof r=="number")c&=~r;k={width:e&&c&2?p.width:0,height:f&&c&1?p.height:0};if(k.width!==b.lastOverflowAdjust.width||k.height!==b.lastOverflowAdjust.height){b.done=false;a.invalidate({state:{overflowAdjust:k,overflowState:i.overflowState,secondPass:true}})}}}if(!b.done)return;h=a.padElContext||(a.padElContext=a.getEl("overflowPadderEl",b));if(h){c=i.overflowState;m=j.width;n=0;if(c){o=a.targetContext.getPaddingInfo();l=b.scrollRangeFlags;if(c&2&&l&1)n+=o.bottom;if(c&1&&l&4)m+=o.right;h.setProp("display","");h.setSize(m,n)}else h.setProp("display","none")}},configureItem:function(d){var a=this,c=a.owner.itemCls,b=[].concat(a.itemCls||[]);a.callParent(arguments);if(c)b=Ext.Array.push(b,c);d.addCls(b)},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(c,e){var a=e.$comp.layout,b=a.getRenderTpl(),d=a.getRenderData();b.applyOut(d,c)},doRenderItems:function(b,d){var c=d.$layout,a=c.getRenderTree();a&&Ext.DomHelper.generateMarkup(a,b)},doRenderPadder:function(b,e){var a=e.$layout,d=a.owner,c=a.getScrollRangeFlags();if(a.manageOverflow==2)if(c&5){b.push('<div id="',d.id,'-overflowPadderEl" ','style="font-size: 1px; width:1px; height: 1px;');b.push('"></div>');a.scrollRangeFlags=c}},finishRender:function(){var a=this,c,b;a.callParent();a.cacheElements();c=a.getRenderTarget();b=a.getLayoutItems();a.targetCls&&a.getTarget().addCls(a.targetCls);a.finishRenderItems(c,b)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(e,k){var a=e.targetContext,j=a.getFrameInfo(),l=a.getPaddingInfo(),f=0,g=0,d=e.state.overflowAdjust,h,i,b,c;if(!e.widthModel.shrinkWrap){++g;b=k?a.getDomProp("width"):a.getProp("width");h=typeof b=="number";if(h){++f;b-=j.width+l.width;if(d)b-=d.width}}if(!e.heightModel.shrinkWrap){++g;c=k?a.getDomProp("height"):a.getProp("height");i=typeof c=="number";if(i){++f;c-=j.height+l.height;if(d)c-=d.height}}return{width:b,height:c,needed:g,got:f,gotAll:f==g,gotWidth:h,gotHeight:i}},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return b&&b.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){for(var c=this,g=c.getRenderTarget(),d=c.getLayoutItems(),f=d.length,e=[],b,a=0;a<f;a++){b=d[a];b.rendered&&c.isValidParent(b,g,a)&&e.push(b)}return e},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var b=this,a=Ext.XTemplate.getTpl(this,"renderTpl");!a.renderContent&&b.owner.setupRenderTpl(a);return a},getRenderTree:function(){var a,b=this.owner.items,c,d={};do{c=b.generation;a=this.getItemsRenderTree(this.getLayoutItems(),d)}while(b.generation!==c);return a},getScrollbarsNeeded:function(d,b,h,f){var c=Ext.getScrollbarSize(),i=typeof d=="number",g=typeof b=="number",e=0,a=0;if(!c.width)return 0;if(g&&b<f){a=2;d-=c.width}if(i&&d<h){e=1;if(!a&&g){b-=c.height;if(b<f)a=2}}return a+e},getScrollRangeFlags:function(){var a=-1;return function(){if(a<0){var b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),e=b.dom.scrollHeight,d=b.dom.scrollWidth,f={175:0,165:1,170:2,160:3},c={175:0,165:4,170:8,160:12};a=(f[e]||0)|(c[d]||0);b.remove()}return a}}(),getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){for(var f=this.getRenderTarget(),d=this.getLayoutItems(),e=d.length,c=[],a,b=0;b<e;b++){a=d[b];a.rendered&&this.isValidParent(a,f,b)&&a.hidden!==true&&c.push(a)}return c},setupRenderTpl:function(b){var a=this;b.renderBody=a.doRenderBody;b.renderContainer=a.doRenderContainer;b.renderItems=a.doRenderItems;b.renderPadder=a.doRenderPadder}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["clearEl"],renderTpl:["{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear" role="presentation"></div>'],calculate:function(b){var a=this,c;if(!b.hasDomProp("containerChildrenDone"))a.done=false;else{c=a.getContainerSize(b);if(!c.gotAll)a.done=false;a.calculateContentSize(b)}}});Ext.define("Ext.container.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:false,autoDestroy:true,defaultType:"panel",detachOnRemove:true,isContainer:true,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",bubbleEvents:["add","remove"],initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove");a.callParent();a.getLayout();a.initItems()},initItems:function(){var b=this,a=b.items;b.items=new Ext.util.AbstractMixedCollection(false,b.getComponentId);if(a){if(!Ext.isArray(a))a=[a];b.add(a)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();a&&a.finishRender()},beforeRender:function(){var b=this,a=b.getLayout();b.callParent();!a.initialized&&a.initLayout()},setupRenderTpl:function(b){var a=this.getLayout();this.callParent(arguments);a.setupRenderTpl(b)},setLayout:function(b){var a=this.layout;a&&a.isLayout&&a!=b&&a.setOwner(null);this.layout=b;b.setOwner(this)},getLayout:function(){var a=this;(!a.layout||!a.layout.isLayout)&&a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||"autocontainer"));return a.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(b){var a=this;++a.layoutCounter;a.hasListeners.afterlayout&&a.fireEvent("afterlayout",a,b)},prepareItems:function(a,e){if(Ext.isArray(a))a=a.slice();else a=[a];for(var b=0,d=a.length,c;b<d;b++){c=a[b];if(c==null){Ext.Array.erase(a,b,1);--b;--d}else{if(e)c=this.applyDefaults(c);a[b]=this.lookupComponent(c)}}return a},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b))b=b.call(this,a);if(Ext.isString(a))a=Ext.ComponentManager.get(a);Ext.applyIf(a,b)}return a},lookupComponent:function(a){return typeof a=="string"?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId()},add:function(){var a=this,e=Ext.Array.slice(arguments),i=typeof e[0]=="number"?e.shift():-1,k=a.getLayout(),j,d,f,g,b,c,h;if(e.length==1&&Ext.isArray(e[0])){d=e[0];j=true}else d=e;h=d=a.prepareItems(d,true);g=d.length;a.rendered&&Ext.suspendLayouts();if(!j&&g==1)h=d[0];for(f=0;f<g;f++){b=d[f];c=i<0?a.items.length:i+f;if(b.floating)b.onAdded(a,c);else if((!a.hasListeners.beforeadd||a.fireEvent("beforeadd",a,b,c)!==false)&&a.onBeforeAdd(b)!==false){a.items.insert(c,b);b.onAdded(a,c);a.onAdd(b,c);k.onAdd(b,c);a.hasListeners.add&&a.fireEvent("add",a,b,c)}}a.updateLayout();a.rendered&&Ext.resumeLayouts(true);return h},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(b,a){return this.add(b,a)},move:function(c,d){var b=this.items,a;a=b.removeAt(c);if(a===false)return false;b.insert(d,a);this.doLayout();return a},onBeforeAdd:function(a){var c=this,b=a.border;a.ownerCt&&a.ownerCt.remove(a,false);if(c.border===false||c.border===0)a.border=Ext.isDefined(b)&&b!==false&&b!==0},remove:function(c,d){var a=this,b=a.getComponent(c);if(b&&(!a.hasListeners.beforeremove||a.fireEvent("beforeremove",a,b)!==false)){a.doRemove(b,d);a.hasListeners.remove&&a.fireEvent("remove",a,b);!a.destroying&&a.doLayout()}return b},doRemove:function(a,c){var b=this,d=b.layout,f=d&&b.rendered,e=c===true||c!==false&&b.autoDestroy;c=c===true||c!==false&&b.autoDestroy;b.items.remove(a);a.onRemoved(e);if(f)d.onRemove(a);b.onRemove(a,e);if(e)a.destroy();else{f&&d.afterRemove(a);b.detachOnRemove&&a.rendered&&Ext.getDetachedBody().appendChild(a.getEl())}},removeAll:function(g){var a=this,f=a.items.items.slice(),e=[],c=0,d=f.length,b;a.suspendLayouts();for(;c<d;c++){b=f[c];a.remove(b,g);b.ownerCt!==a&&e.push(b)}a.resumeLayouts(!!d);return e},getRefItems:function(g){for(var c=this,e=c.items.items,f=e.length,d=0,b,a=[];d<f;d++){b=e[d];a.push(b);g&&b.getRefItems&&a.push.apply(a,b.getRefItems(true))}c.floatingItems&&c.floatingItems.accessList&&a.push.apply(a,c.floatingItems.accessList);return a},cascade:function(g,h,d){var a=this,f=a.items?a.items.items:[],j=f.length,e=0,c,b=d?d.concat(a):[a],i=b.length-1;if(g.apply(h||a,b)!==false)for(;e<j;e++){c=f[e];if(c.cascade)c.cascade(g,h,d);else{b[i]=c;g.apply(h||f,b)}}return this},isAncestor:function(a){while(a){if(a.ownerCt===this)return true;a=a.ownerCt}},getComponent:function(a){if(Ext.isObject(a))a=a.getItemId();return this.items.get(a)},query:function(a){a=a||"*";return Ext.ComponentQuery.query(a,this)},queryBy:function(g,f){for(var d=[],c=this.getRefItems(true),b=0,e=c.length,a;b<e;++b){a=c[b];g.call(f||a,a)!==false&&d.push(a)}return d},queryById:function(a){return this.down("#"+a)},child:function(a){a=a||"";return this.query("> "+a)[0]||null},nextChild:function(e,c){var a=this,b,d=a.items.indexOf(e);if(d!==-1){b=c?Ext.ComponentQuery(c,a.items.items.slice(d+1)):a.items.getAt(d+1);if(!b&&a.ownerCt)b=a.ownerCt.nextChild(a,c)}return b},prevChild:function(e,c){var a=this,b,d=a.items.indexOf(e);if(d!==-1){b=c?Ext.ComponentQuery(c,a.items.items.slice(d+1)):a.items.getAt(d+1);if(!b&&a.ownerCt)b=a.ownerCt.nextChild(a,c)}return b},down:function(a){return this.query(a)[0]||null},enable:function(){this.callParent(arguments);for(var c=this.getChildItemsToDisable(),d=c.length,b,a=0;a<d;a++){b=c[a];b.resetDisable&&b.enable()}},disable:function(){this.callParent(arguments);for(var c=this.getChildItemsToDisable(),d=c.length,a,b=0;b<d;b++){a=c[b];if(a.resetDisable!==false&&!a.disabled){a.disable();a.resetDisable=true}}},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeLayout:function(){return true},beforeDestroy:function(){var a=this,b=a.items,c;if(b)while(c=b.first())a.doRemove(c,true);Ext.destroy(a.layout);a.callParent()}});Ext.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},afterHide:function(){this.callParent(arguments);this.fireHierarchyEvent("hide")},afterShow:function(){this.callParent(arguments);this.fireHierarchyEvent("show")},getChildByElement:function(a,e){var b,c,d=0,f=this.getRefItems(),g=f.length;a=Ext.getDom(a);for(;d<g;d++){b=f[d];c=b.getEl();if(c&&(c.dom===a||c.contains(a)))return e&&b.getChildByElement?b.getChildByElement(a,e):b}return null}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:true,show:true,collapse:true,expand:true}})});Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:true,ariaRole:"application",preserveElOnDestroy:true,initComponent:function(){var a=this,c=document.body.parentNode,b;Ext.getScrollbarSize();a.width=a.height=undefined;a.callParent(arguments);Ext.fly(c).addCls(Ext.baseCSSPrefix+"viewport");if(a.autoScroll){delete a.autoScroll;Ext.fly(c).setStyle("overflow","auto")}a.el=b=Ext.getBody();b.setHeight=Ext.emptyFn;b.setWidth=Ext.emptyFn;b.setSize=Ext.emptyFn;b.dom.scroll="no";a.allowDomMove=false;a.renderTo=a.el},onRender:function(){var a=this;a.callParent(arguments);a.width=Ext.Element.getViewportWidth();a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(b,a){(b!=this.width||a!=this.height)&&this.setSize(b,a)}});Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,fieldSubTpl:"{%this.renderContainer(out,values)%}",initComponent:function(){var a=this;a.initLabelable();a.initFieldAncestor();a.callParent()},beforeRender:function(){this.callParent(arguments);this.beforeLabelableRender(arguments)},onLabelableAdded:function(b){var a=this;a.mixins.fieldAncestor.onLabelableAdded.call(this,b);a.updateLabel()},onLabelableRemoved:function(b){var a=this;a.mixins.fieldAncestor.onLabelableRemoved.call(this,b);a.updateLabel()},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl"))a.renderTpl=a.getTpl("labelableRenderTpl");return a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";if(!a&&this.combineLabels)a=Ext.Array.map(this.query("[isFieldLabelable]"),function(a){return a.getFieldLabel()}).join(this.labelConnector);return a},getSubTplData:function(){var a=this.initRenderData();Ext.apply(a,this.subTplData);return a},getSubTplMarkup:function(){var b=this,a=b.getTpl("fieldSubTpl"),c;!a.renderContent&&b.setupRenderTpl(a);c=a.apply(b.getSubTplData());return c},updateLabel:function(){var b=this,a=b.labelEl;a&&a.update(b.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var a=this,d=a.getActiveError(),c=Ext.Array.filter(a.query("[isFormField]"),function(a){return a.hasActiveError()}),b=a.getCombinedErrors(c);if(b)a.setActiveErrors(b);else a.unsetActiveError();d!==a.getActiveError()&&a.doComponentLayout()}},getCombinedErrors:function(g){for(var i=[],j=g.length,e,c,a,f,h,d,b=0;b<j;b++){e=g[b];c=e.getActiveErrors();f=c.length;for(a=0;a<f;a++){h=c[a];d=e.getFieldLabel();i.push((d?d+": ":"")+h)}}return i},getTargetEl:function(){return this.bodyEl||this.callParent()}});Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],collapsed:false,toggleOnTitleClick:true,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",border:1,componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body">',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,beforeDestroy:function(){var b=this,a=b.legend;if(a){delete a.ownerCt;a.destroy();b.legend=null}b.callParent()},initComponent:function(){var a=this,b=a.baseCls;a.callParent();a.addEvents("beforeexpand","beforecollapse","expand","collapse");if(a.collapsed){a.addCls(b+"-collapsed");a.collapse()}a.title&&a.addCls(b+"-with-title");(a.title||a.checkboxToggle||a.collapsible)&&a.addCls(b+"-with-legend")},initRenderData:function(){var a=this.callParent();a.baseCls=this.baseCls;return a},getState:function(){var a=this.callParent();a=this.addPropertyToState(a,"collapsed");return a},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var a=this,b=[],c={xtype:"container",baseCls:this.baseCls+"-header",id:a.id+"-legend",autoEl:"legend",items:b,ownerCt:a,ownerLayout:a.componentLayout};if(a.checkboxToggle)b.push(a.createCheckboxCmp());else a.collapsible&&b.push(a.createToggleCmp());b.push(a.createTitleCmp());return c},createTitleCmp:function(){var a=this,b={xtype:"component",html:a.title,cls:a.baseCls+"-header-text",id:a.id+"-legendTitle"};if(a.collapsible&&a.toggleOnTitleClick){b.listeners={el:{scope:a,click:a.toggle}};b.cls+=" "+a.baseCls+"-header-text-collapsible"}return a.titleCmp=Ext.widget(b)},createCheckboxCmp:function(){var a=this,b="-checkbox";a.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:true,name:a.checkboxName||a.id+b,cls:a.baseCls+"-header"+b,id:a.id+"-legendChk",checked:!a.collapsed,listeners:{change:a.onCheckChange,scope:a}});return a.checkboxCmp},createToggleCmp:function(){var a=this;a.toggleCmp=Ext.widget({xtype:"tool",type:"toggle",handler:a.toggle,id:a.id+"-legendToggle",scope:a});return a.toggleCmp},doRenderLegend:function(d,e){var a=e.$comp,b,c;if(a.title||a.checkboxToggle||a.collapsible){a.legend=b=Ext.widget(a.createLegendCt());b.ownerLayout.configureItem(b);c=a.legend.getRenderTree();Ext.DomHelper.generateMarkup(c,d)}},finishRender:function(){var a=this.legend;this.callParent();a&&a.finishRender()},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(c){var a=this,b=a.legend;a.title=c;if(a.rendered){if(!a.legend){a.legend=b=Ext.widget(a.createLegendCt());b.ownerLayout.configureItem(b);b.render(a.el,0)}a.titleCmp.update(c)}return a},getTargetEl:function(){return this.body||this.frameBody||this.el},getContentTarget:function(){return this.body},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(b){var a=this,d=a.checkboxCmp,c=b?"expand":"collapse";if(!a.rendered||a.fireEvent("before"+c,a)!==false){b=!!b;d&&d.setValue(b);if(b)a.removeCls(a.baseCls+"-collapsed");else a.addCls(a.baseCls+"-collapsed");a.collapsed=!b;if(a.rendered){a.updateLayout();a.fireEvent(c,a)}}return a},getRefItems:function(c){var a=this.callParent(arguments),b=this.legend;if(b){a.unshift(b);c&&a.unshift.apply(a,b.getRefItems(true))}return a},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(b,a){this.setExpanded(a)},setupRenderTpl:function(a){this.callParent(arguments);a.renderLegend=this.doRenderLegend}});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",manageOverflow:2,renderTpl:["{%this.renderBody(out,values);this.renderPadder(out,values)%}"],defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,beginLayout:function(e){var h=this,a=0,c,d,f,b,i,g;h.callParent(arguments);f=e.childItems;i=f.length;for(b=0;b<i;++b){d=f[b];c=d.target.anchorSpec;if(c){if(d.widthModel.calculated&&c.right)a|=1;if(d.heightModel.calculated&&c.bottom)a|=2;if(a==3)break}}e.anchorDimensions=a;if(!Ext.supports.RightMargin&&!h.rightMarginCleanerFn){g=e.targetContext.el;h.rightMarginCleanerFn=Ext.Element.getRightMarginFixCleaner(g);g.addCls(Ext.baseCSSPrefix+"inline-children")}},calculate:function(a){var b=this,c=b.getContainerSize(a);a.anchorDimensions!==a.state.calculatedAnchors&&b.calculateAnchors(a,c);if(a.hasDomProp("containerChildrenDone")){if(!c.gotAll)b.done=false;b.calculateContentSize(a,a.anchorDimensions);if(b.done){b.calculateOverflow(a,c,a.anchorDimensions);return}}b.done=false},calculateAnchors:function(i,b){var m=this,k=i.childItems,p=k.length,l=b.gotHeight,j=b.gotWidth,o=b.height,n=b.width,h=i.state,q=(j?1:0)|(l?2:0),f,a,g,e,d,c;h.calculatedAnchors=(h.calculatedAnchors||0)|q;for(d=0;d<p;d++){a=k[d];g=a.getMarginInfo();f=a.target.anchorSpec;if(j&&a.widthModel.calculated){c=f.right(n)-g.width;c=m.adjustWidthAnchor(c,a);a.setWidth(c)}if(l&&a.heightModel.calculated){e=f.bottom(o)-g.height;e=m.adjustHeightAnchor(e,a);a.setHeight(e)}}},finishedLayout:function(b){var a=this.rightMarginCleanerFn;if(a){delete this.rightMarginCleanerFn;b.targetContext.el.removeCls(Ext.baseCSSPrefix+"inline-children");a()}},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,e,d){if(a&&a!="none"){var b=this.anchorFactory,c;if(this.parseAnchorRE.test(a))return b.standard(d-e);if(a.indexOf("%")!=-1)return b.ratio(parseFloat(a.replace("%",""))*.01);c=parseInt(a,10);if(!isNaN(c))return b.offset(c)}return null},adjustWidthAnchor:function(a){return a},adjustHeightAnchor:function(a){return a},configureItem:function(a){var c=this,b=c.owner,f=a.anchor,e,d,g;c.callParent(arguments);if(!a.anchor&&a.items&&!Ext.isNumber(a.width)&&!(Ext.isIE6&&Ext.isStrict))a.anchor=f=c.defaultAnchor;if(b.anchorSize)if(typeof b.anchorSize=="number")d=b.anchorSize;else{d=b.anchorSize.width;g=b.anchorSize.height}else{d=b.initialConfig.width;g=b.initialConfig.height}if(f){e=f.split(" ");a.anchorSpec={right:c.parseAnchor(e[0],a.initialConfig.width,d),bottom:c.parseAnchor(e[1],a.initialConfig.height,g)}}},sizePolicy:{"":{setsWidth:0,setsHeight:0},b:{setsWidth:0,setsHeight:1},r:{"":{setsWidth:1,setsHeight:0},b:{setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var c=e.anchorSpec,d="",b=this.sizePolicy,a;if(c){a=this.owner.getSizeModel();if(c.right&&!a.width.shrinkWrap)b=b.r;if(c.bottom&&!a.height.shrinkWrap)d="b"}return b[d]}});Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:true,type:"absolute",adjustWidthAnchor:function(c,b){var d=this.targetPadding,a=b.getStyle("left");return c-a+d.left},adjustHeightAnchor:function(b,a){var c=this.targetPadding,d=a.getStyle("top");return b-d+c.top},isItemLayoutRoot:function(){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(){return true},beginLayout:function(c){var a=this,b=a.getTarget();a.callParent(arguments);b.dom!==document.body&&b.position();a.targetPadding=c.targetContext.getPaddingInfo()},isItemBoxParent:function(){return true},onContentChange:function(){return this.ignoreOnContentChange?false:this.callParent(arguments)}});Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:true,type:"checkboxgroup",childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],beginLayout:function(g){var b=this,h,e,n,m,a,d,f,j=0,i=0,l=b.autoFlex,k=b.owner.items.generation,c=b.innerCt.dom.style;b.callParent(arguments);m=g.childItems;if(b.lastChildGeneration!=k){b.lastChildGeneration=k;b.fixColumns()}h=b.columnEls;g.innerCtContext=g.getEl("innerCt",b);if(!g.widthModel.shrinkWrap){e=h.length;if(b.columnsArray){for(a=0;a<e;a++){d=b.owner.columns[a];if(d<1){j+=d;i++}}for(a=0;a<e;a++){d=b.owner.columns[a];if(d<1)f=d/j*100+"%";else f=d+"px";h[a].style.width=f}}else for(a=0;a<e;a++){f=l?1/e*100+"%":"";h[a].style.width=f;i++}if(!i){c.tableLayout="fixed";c.width=""}else if(i<e){c.tableLayout="fixed";c.width="100%"}else{c.tableLayout="auto";if(l)c.width="100%";else c.width=""}}else{c.tableLayout="auto";c.width=""}},cacheElements:function(){var a=this;a.callParent();a.columnEls=a.innerCt.query("td."+a.owner.groupCls);a.lastChildGeneration=a.owner.items.generation},calculate:function(a){var h=this,d,c,b,g,e,f;if(!a.getDomProp("containerChildrenDone"))h.done=false;else{d=a.innerCtContext;c=a.widthModel.shrinkWrap;b=a.heightModel.shrinkWrap;g=b||c;e=d.el.dom;f=g&&d.getPaddingInfo();c&&a.setContentWidth(e.offsetWidth+f.width,true);b&&a.setContentHeight(e.offsetHeight+f.height,true)}},doRenderColumn:function(m,k,h){var j=k.$layout,f=j.owner,g=k.columnCount,i=f.items.items,b=i.length,e,a,c,d,l;if(f.vertical){c=Math.ceil(b/g);a=h*c;b=Math.min(b,a+c);d=1}else{a=h;d=g}for(;a<b;a+=d){e=i[a];j.configureItem(e);l=e.getRenderTree();Ext.DomHelper.generateMarkup(l,m)}},fixColumns:function(){var f=this,g=f.owner,i=g.columns,c=f.columnEls,h=g.items.items,d=c.length,b=h.length,e,a,k,j,m,l;if((!i||i=="auto")&&b>d){l=b-d;for(a=0;a<l;a++){j=f.innerCt.down("tr");j.createChild({cls:g.groupCls,tag:"td",vAlign:"top"})}f.cacheElements();c=f.columnEls;d=c.length}if(g.vertical){e=-1;k=Math.ceil(b/d);for(a=0;a<b;++a){if(a%k===0)++e;c[e].appendChild(h[a].el.dom)}}else for(a=0;a<b;++a){e=a%d;c[e].appendChild(h[a].el.dom)}},getColumnCount:function(){var c=this,b=c.owner,a=b.columns;return c.columnsArray?a.length:Ext.isNumber(a)?a:b.items.length},getItemSizePolicy:function(){return this.autoSizePolicy},getRenderData:function(){var b=this,d=b.callParent(),j=b.owner,a,e=b.getColumnCount(),c,g,h,k=b.autoFlex,i=0,f=0;if(b.columnsArray)for(a=0;a<e;a++){c=b.owner.columns[a];if(c<1){i+=c;f++}}d.colCls=j.groupCls;d.columnCount=e;d.columns=[];for(a=0;a<e;a++){g=d.columns[a]={};if(b.columnsArray){c=b.owner.columns[a];if(c<1)h=c/i*100+"%";else h=c+"px";g.style="width:"+h}else{g.style="width:"+1/e*100+"%";f++}}d.tableStyle=!f?"table-layout:fixed;":f<e?"table-layout:fixed;width:100%":k?"table-layout:auto;width:100%":"table-layout:auto;";return d},getRenderTarget:function(){return this.innerCt},initLayout:function(){var a=this,b=a.owner;a.columnsArray=Ext.isArray(b.columns);a.evenColumns=Ext.isNumber(b.columns);a.callParent()},isValidParent:function(){return true},setupRenderTpl:function(a){this.callParent(arguments);a.renderColumn=this.doRenderColumn}});Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Base"],columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",fieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",initComponent:function(){var a=this;a.callParent();a.initField()},initValue:function(){var a=this,b=a.value;a.originalValue=a.lastValue=b||a.getValue();b&&a.setValue(b)},onFieldAdded:function(b){var a=this;b.isCheckbox&&a.mon(b,"change",a.checkChange,a);a.callParent(arguments)},onFieldRemoved:function(b){var a=this;b.isCheckbox&&a.mun(b,"change",a.checkChange,a);a.callParent(arguments)},isEqual:function(c,b){var a=Ext.Object.toQueryString;return a(c)===a(b)},getErrors:function(){var a=[];!this.allowBlank&&Ext.isEmpty(this.getChecked())&&a.push(this.blankText);return a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(b,a){Ext.Array.forEach(this.getBoxes(),b,a||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){for(var b=this.getBoxes(),c=b.length,a=0;a<c;a++)if(b[a].isDirty())return true},setReadOnly:function(c){for(var b=this.getBoxes(),d=b.length,a=0;a<d;a++)b[a].setReadOnly(c);this.readOnly=c},reset:function(){var a=this,c=a.hasActiveError(),b=a.preventMark;a.preventMark=true;a.batchChanges(function(){for(var c=a.getBoxes(),d=c.length,b=0;b<d;b++)c[b].reset()});a.preventMark=b;a.unsetActiveError();c&&a.updateLayout()},resetOriginalValue:function(){for(var a=this,c=a.getBoxes(),d=c.length,b=0;b<d;b++)c[b].resetOriginalValue();a.originalValue=a.getValue();a.checkDirty()},setValue:function(b){var f=this,g=f.getBoxes(),c,h=g.length,d,a,e;f.batchChanges(function(){for(c=0;c<h;c++){d=g[c];a=d.getName();e=false;if(b&&b.hasOwnProperty(a))if(Ext.isArray(b[a]))e=Ext.Array.contains(b[a],d.inputValue);else e=b[a];d.setValue(e)}});return f},getValue:function(){for(var a={},g=this.getBoxes(),h=g.length,d,b,e,c,f=0;f<h;f++){d=g[f];b=d.getName();e=d.inputValue;if(d.getValue())if(a.hasOwnProperty(b)){c=a[b];if(!Ext.isArray(c))c=a[b]=[c];c.push(e)}else a[b]=e}return a},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var a=this,c,b,d;if(a.disabled)b=true;else{c=a.getErrors();b=Ext.isEmpty(c);d=!a.hasActiveError();if(b)a.unsetActiveError();else a.setActiveError(c)}if(b!==d){a.fireEvent("validitychange",a,b);a.updateLayout()}return b}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid"])});Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(a){return this.query("[isRadio]"+(a||""))},checkChange:function(){var a=this.getValue(),b=Ext.Object.getKeys(a)[0];if(Ext.isArray(a[b]))return;this.callParent(arguments)},setValue:function(c){var h,d,g,e,b,f,a;if(Ext.isObject(c))for(a in c)if(c.hasOwnProperty(a)){h=c[a];d=this.items.first();g=d?d.getFormId():null;e=Ext.form.RadioManager.getWithValue(a,h,g).items;f=e.length;for(b=0;b<f;++b)e[b].setValue(true)}return this}});Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Container",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{setsWidth:1,setsHeight:0},childEls:["innerCt"],manageOverflow:2,renderTpl:['<div id="{ownerId}-innerCt" class="',Ext.baseCSSPrefix,'column-inner">',"{%this.renderBody(out,values)%}",'<div class="',Ext.baseCSSPrefix,'clear"></div>',"</div>","{%this.renderPadder(out,values)%}"],getItemSizePolicy:function(a){return a.columnWidth?this.columnWidthSizePolicy:this.autoSizePolicy},beginLayout:function(){this.callParent(arguments);this.innerCt.dom.style.width=""},calculate:function(b){var a=this,d=a.getContainerSize(b),c=b.state;if(c.calculatedColumns||(c.calculatedColumns=a.calculateColumns(b)))if(a.calculateHeights(b)){a.calculateOverflow(b,d);return}a.done=false},calculateColumns:function(d){var i=this,k=i.getContainerSize(d),m=d.getEl("innerCt",i),j=d.childItems,l=j.length,f=0,h,e,c,a,g,b;if(!d.heightModel.shrinkWrap&&!d.targetContext.hasProp("height"))return false;if(!k.gotWidth){d.targetContext.block(i,"width");h=true}else{e=k.width;m.setWidth(e)}for(c=0;c<l;++c){a=j[c];g=a.getMarginInfo().width;if(!a.widthModel.calculated){b=a.getProp("width");if(typeof b!="number"){a.block(i,"width");h=true}f+=b+g}}if(!h){e=e<f?0:e-f;for(c=0;c<l;++c){a=j[c];if(a.widthModel.calculated){g=a.marginInfo.width;b=a.target.columnWidth;b=Math.floor(b*e)-g;b=a.setWidth(b);f+=b+g}}d.setContentWidth(f)}return!h},calculateHeights:function(d){var f=this,e=d.childItems,g=e.length,a,b,c;a=false;for(b=0;b<g;++b){c=e[b];if(!c.hasDomProp("height")){c.domBlock(f,"height");a=true}}!a&&d.setContentHeight(f.innerCt.getHeight()+d.targetContext.getPaddingInfo().height);return!a},finishedLayout:function(b){var a=b.bodyContext;a&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&a.el.repaint();this.callParent(arguments)},getRenderTarget:function(){return this.innerCt}});Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},getItemSizePolicy:function(){var b=this,a=b.owner.autoSize;return b.sizePolicy||(b.sizePolicy={setsWidth:a&&a.width==="boundEl"?1:0,setsHeight:a&&a.height==="boundEl"?1:0})},calculate:function(f){var e=this,a=e.owner,b=a.autoSize,d,c;if(b===true)b=e.autoSizeDefault;if(b){d=e.getDimension(a,b.width,"getWidth",a.width);c=e.getDimension(a,b.height,"getHeight",a.height)}f.childItems[0].setSize(d,c);f.setWidth(d);f.setHeight(c);f.setContentSize(d||a.field.getWidth(),c||a.field.getHeight())},getDimension:function(a,b,d,c){switch(b){case"boundEl":return a.boundEl[d]();case"field":return undefined;default:return c}}});Ext.define("Ext.Editor",{extend:"Ext.container.Container",alias:"widget.editor",requires:["Ext.layout.container.Editor"],layout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,hidden:true,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var a=this,b=a.field=Ext.ComponentManager.create(a.field,"textfield");Ext.apply(b,{inEditor:true,msgTarget:b.msgTarget=="title"?"title":"qtip"});a.mon(b,{scope:a,blur:{fn:a.onFieldBlur,delay:1},specialkey:a.onSpecialKey});b.grow&&a.mon(b,"autosize",a.onFieldAutosize,a,{delay:1});a.floating={constrain:a.constrain};a.items=b;a.callParent(arguments);a.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(){var a=this,c=a.field,b=c.inputEl;a.callParent(arguments);if(b){b.dom.name="";a.swallowKeys&&b.swallowEvent(["keypress","keydown"])}},onSpecialKey:function(c,b){var a=this,e=b.getKey(),d=a.completeOnEnter&&e==b.ENTER,f=a.cancelOnEsc&&e==b.ESC;if(d||f){b.stopEvent();Ext.defer(function(){if(d)a.completeEdit();else a.cancelEdit();c.triggerBlur&&c.triggerBlur(b)},10)}a.fireEvent("specialkey",a,c,b)},startEdit:function(d,c){var a=this,b=a.field;a.completeEdit();a.boundEl=Ext.get(d);c=Ext.isDefined(c)?c:Ext.String.trim(a.boundEl.dom.innerText||a.boundEl.dom.innerHTML);!a.rendered&&a.render(a.parentEl||document.body);if(a.fireEvent("beforestartedit",a,a.boundEl,c)!==false){a.startValue=c;a.show();b.suspendEvents();b.reset();b.setValue(c);b.resumeEvents();a.realign(true);b.focus(false,10);b.autoSize&&b.autoSize();a.editing=true}},realign:function(b){var a=this;b===true&&a.updateLayout();a.alignTo(a.boundEl,a.alignment,a.offsets)},completeEdit:function(c){var a=this,d=a.field,b;if(!a.editing)return;d.assertValue&&d.assertValue();b=a.getValue();if(!d.isValid()){a.revertInvalid!==false&&a.cancelEdit(c);return}if(String(b)===String(a.startValue)&&a.ignoreNoChange){a.hideEdit(c);return}if(a.fireEvent("beforecomplete",a,b,a.startValue)!==false){b=a.getValue();a.updateEl&&a.boundEl&&a.boundEl.update(b);a.hideEdit(c);a.fireEvent("complete",a,b,a.startValue)}},onShow:function(){var a=this;a.callParent(arguments);a.hideEl!==false&&a.boundEl.hide();a.fireEvent("startedit",a,a.boundEl,a.startValue)},cancelEdit:function(e){var a=this,b=a.startValue,d=a.field,c;if(a.editing){c=a.getValue();d.suspendEvents();a.setValue(b);d.resumeEvents();a.hideEdit(e);a.fireEvent("canceledit",a,c,b)}},hideEdit:function(a){if(a!==true){this.editing=false;this.hide()}},onFieldBlur:function(d,c){var a=this,b;a.allowBlur===true&&a.editing&&a.selectSameEditor!==true&&a.completeEdit();c&&Ext.fly(b=c.getTarget()).focusable()&&b.focus()},onHide:function(){var a=this,b=a.field;if(a.editing){a.completeEdit();return}b.hasFocus&&b.blur();b.collapse&&b.collapse();a.hideEl!==false&&a.boundEl.show();a.callParent(arguments)},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var a=this;Ext.destroy(a.field);delete a.field;delete a.parentEl;delete a.boundEl;a.callParent(arguments)}});Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",constructor:function(a){a=Ext.apply({},a);if(a.field)a.field.monitorTab=false;this.callParent([a])},onShow:function(){var a=this,d=a.boundEl.first(),b,c;if(d){b=d.dom.lastChild;if(b&&b.nodeType===3){c=a.cellTextNode=d.dom.lastChild;a.cellTextValue=c.nodeValue;c.nodeValue=""}}a.callParent(arguments)},onHide:function(){var a=this,b=a.boundEl.first();if(b&&a.cellTextNode){a.cellTextNode.nodeValue=a.cellTextValue;delete a.cellTextNode;delete a.cellTextValue}a.callParent(arguments)},afterRender:function(){var a=this,b=a.field;a.callParent(arguments);b.isXType("checkboxfield")&&b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(k){var a=this,e=a.boundEl,c=e.first(),g=c.dom.childNodes,i=g.length,h=Ext.Array.clone(a.offsets),l=a.field.inputEl,d,f,j,b;if(a.isForTree&&(i>1||i===1&&g[0].nodeType!==3)){d=c.last();f=d.getOffsetsTo(c)[0]+d.getWidth();j=c.getWidth();b=j-f;if(!a.editingPlugin.grid.columnLines)b--;h[0]+=f;a.addCls(Ext.baseCSSPrefix+"grid-editor-on-text-node")}else b=e.getWidth()-1;k===true&&a.field.setWidth(b);a.alignTo(e,a.alignment,h)},onEditorTab:function(b){var a=this.field;if(a.onEditorTab)a.onEditorTab(b)},alignment:"tl-tl",hideEl:false,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor",shim:false,shadow:false});Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:true,sizePolicies:{0:{setsWidth:0,setsHeight:0},1:{setsWidth:1,setsHeight:0},2:{setsWidth:0,setsHeight:1},3:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(){var a=this.owner.getSizeModel(),b=(a.width.shrinkWrap?0:1)|(a.height.shrinkWrap?0:2);return this.sizePolicies[b]},beginLayoutCycle:function(c,n){var e=this,l=c.widthModel,k=c.heightModel,h=c.childItems,i=!l.shrinkWrap,g=!k.shrinkWrap,j=h.length,m=c.targetContext.el.dom.tagName.toUpperCase()==="TD",d,b,a,f;e.callParent(arguments);for(d=0;d<j;++d){a=h[d];if(!n){if(a.widthModel.calculated==i)b=null;else b={widthModel:i?e.sizeModels.calculated:a.sizeModel.width};if(a.heightModel.calculated!=g)(b||(b={})).heightModel=g?e.sizeModels.calculated:a.sizeModel.height;if(b){b.before=e.onBeforeInvalidateChild;a.invalidate(b)}}if(m){f=a.target.el.dom;if(a.heightModel.calculated)f.style.height="";if(a.widthModel.calculated)f.style.width=""}}},calculate:function(a){for(var d=this,j=a.childItems,g=j.length,b={contentWidth:0,contentHeight:0,length:g,ownerContext:a,targetSize:d.getContainerSize(a)},i=a.widthModel.shrinkWrap,k=a.heightModel.shrinkWrap,f=0,h=0,e,c=0;c<g;++c){b.index=c;d.fitItem(j[c],b)}if(k||i){e=a.targetContext.getPaddingInfo();if(i)f=e.width;if(k)h=e.height}if(!a.setContentSize(b.contentWidth+f,b.contentHeight+h))d.done=false},fitItem:function(c,a){var b=this;if(c.invalid){b.done=false;return}a.margins=c.getMarginInfo();a.needed=a.got=0;b.fitItemWidth(c,a);b.fitItemHeight(c,a);if(a.got!=a.needed)b.done=false},fitItemWidth:function(b,a){if(a.ownerContext.widthModel.shrinkWrap)a.contentWidth=Math.max(a.contentWidth,b.getProp("width")+a.margins.width);else if(b.widthModel.calculated){++a.needed;if(a.targetSize.gotWidth){++a.got;this.setItemWidth(b,a)}}this.positionItemX(b,a)},fitItemHeight:function(b,a){if(a.ownerContext.heightModel.shrinkWrap)a.contentHeight=Math.max(a.contentHeight,b.getProp("height")+a.margins.height);else if(b.heightModel.calculated){++a.needed;if(a.targetSize.gotHeight){++a.got;this.setItemHeight(b,a)}}this.positionItemY(b,a)},onBeforeInvalidateChild:function(b,a){++b.context.progressCount;if(a.widthModel)b.widthModel=a.widthModel;if(a.heightModel)b.heightModel=a.heightModel},positionItemX:function(b,c){var a=c.margins;(c.index||a.left)&&b.setProp("x",a.left);a.width&&b.setProp("margin-right",a.width)},positionItemY:function(b,c){var a=c.margins;(c.index||a.top)&&b.setProp("y",a.top);a.height&&b.setProp("margin-bottom",a.height)},setItemHeight:function(b,a){b.setHeight(a.targetSize.height-a.margins.height)},setItemWidth:function(b,a){b.setWidth(a.targetSize.width-a.margins.width)}});Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var b=this,a=b.getActiveItem();if(a){if(a.hasListeners.beforeactivate&&a.fireEvent("beforeactivate",a)===false)a=b.activeItem=b.owner.activeItem=null;else if(a.hasListeners.activate)a.on({boxready:function(){a.fireEvent("activate",a)},single:true});if(b.deferredRender){if(a)return b.getItemsRenderTree([a])}else return b.callParent(arguments)}},renderChildren:function(){var a=this,b=a.getActiveItem();if(!a.deferredRender)a.callParent();else b&&a.renderItems([b],a.getRenderTarget())},isValidParent:function(a,c){var b=a.el?a.el.dom:Ext.getDom(a);return b&&b.parentNode===(c.dom||c)||false},getActiveItem:function(){var a=this,b=a.parseActiveItem(a.activeItem||a.owner&&a.owner.activeItem);if(b&&a.owner.items.indexOf(b)!=-1)a.activeItem=b;else a.activeItem=null;return a.activeItem},parseActiveItem:function(a){return a&&a.isComponent?a:typeof a=="number"||a===undefined?this.getLayoutItems()[a||0]:this.owner.getComponent(a)},configureItem:function(a){if(a===this.getActiveItem())a.hidden=false;else a.hidden=true;this.callParent(arguments)},onRemove:function(b){var a=this;if(b===a.activeItem)a.activeItem=null},getAnimation:function(c,b){var a=(c||{}).cardSwitchAnimation;return a===false?false:a||b.cardSwitchAnimation},getNext:function(){var c=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b+1]||(c?a[0]:false)},next:function(){var b=arguments[0],a=arguments[1];return this.setActiveItem(this.getNext(a),b)},getPrev:function(){var c=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b-1]||(c?a[a.length-1]:false)},prev:function(){var b=arguments[0],a=arguments[1];return this.setActiveItem(this.getPrev(a),b)},setActiveItem:function(a){var c=this,d=c.owner,b=c.activeItem,f=d.rendered,e;a=c.parseActiveItem(a);e=d.items.indexOf(a);if(e==-1){e=d.items.items.length;Ext.suspendLayouts();a=d.add(a);Ext.resumeLayouts()}if(a&&b!=a){if(a.fireEvent("beforeactivate",a,b)===false)return false;if(b&&b.fireEvent("beforedeactivate",b,a)===false)return false;if(f){Ext.suspendLayouts();!a.rendered&&c.renderItem(a,c.getRenderTarget(),d.items.length);if(b){if(c.hideInactive){b.hide();b.hiddenByLayout=true}b.fireEvent("deactivate",b,a)}a.hidden&&a.show();if(!a.hidden)c.activeItem=a;Ext.resumeLayouts(true)}else c.activeItem=a;a.fireEvent("activate",a,b);return c.activeItem}return false}});Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",manageOverflow:2,childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var a=this.callParent();a.tableCls=this.tableCls;return a},calculate:function(f){var b=this,g=b.getContainerSize(f,true),d,c,a=0,e;if(g.gotWidth){this.callParent(arguments);d=b.formTable.dom.offsetWidth;c=f.childItems;for(e=c.length;a<e;++a)c[a].setWidth(d,false)}else b.done=false},getRenderTarget:function(){return this.formTable},getRenderTree:function(){for(var b=this.callParent(arguments),c=0,d=b.length,a;c<d;c++){a=b[c];if(a.tag&&a.tag=="table"){a.tag="tbody";delete a.cellspacing;delete a.cellpadding;if(Ext.isIE6)a.cn=this.padRow}else b[c]={tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:a}}}}return b},isValidParent:function(){return true},isItemShrinkWrap:function(a){return(a.shrinkWrap===true?3:a.shrinkWrap||0)&2},getItemSizePolicy:function(){return{setsWidth:1,setsHeight:0}}});Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",monitorResize:false,type:"table",clearEl:true,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,itemSizePolicy:{setsWidth:0,setsHeight:0},getItemSizePolicy:function(){return this.itemSizePolicy},getLayoutItems:function(){for(var f=this,c=[],d=f.callParent(),b,e=d.length,a=0;a<e;a++){b=d[a];!b.hidden&&c.push(b)}return c},renderChildren:function(){var a=this,k=a.getLayoutItems(),i=a.owner.getTargetEl().child("table",true).tBodies[0],n=i.rows,g=0,m=k.length,j,l,c,e,b,d,h,f;j=a.calculateCells(k);for(;g<m;g++){l=j[g];c=l.rowIdx;e=l.cellIdx;b=k[g];d=n[c];if(!d){d=i.insertRow(c);a.trAttrs&&d.set(a.trAttrs)}f=h=Ext.get(d.cells[e]||d.insertCell(e));if(a.needsDivWrap()){f=h.first()||h.createChild({tag:"div"});f.setWidth(null)}if(!b.rendered)a.renderItem(b,f,0);else!a.isValidParent(b,f,c,e,i)&&a.moveItem(b,f,0);a.tdAttrs&&h.set(a.tdAttrs);b.tdAttrs&&h.set(b.tdAttrs);h.set({colSpan:b.colspan||1,rowSpan:b.rowspan||1,id:b.cellId||"",cls:a.cellCls+" "+(b.cellCls||"")});if(!j[g+1]||j[g+1].rowIdx!==c){e++;while(d.cells[e])d.deleteCell(e)}}c++;while(i.rows[c])i.deleteRow(c)},calculate:function(a){if(!a.hasDomProp("containerChildrenDone"))this.done=false;else{var d=a.targetContext,c=a.widthModel.shrinkWrap,b=a.heightModel.shrinkWrap,g=b||c,e=g&&d.el.child("table",true),f=g&&d.getPaddingInfo();c&&a.setContentWidth(e.offsetWidth+f.width,true);b&&a.setContentHeight(e.offsetHeight+f.height,true)}},finalizeLayout:function(){if(this.needsDivWrap())for(var c=this.getLayoutItems(),d=c.length,b,a=0;a<d;a++){b=c[a];Ext.fly(b.el.dom.parentNode).setWidth(b.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(i){for(var j=[],h=0,b=0,d=0,f=this.columns||Infinity,c=[],e=0,a,k=i.length,g;e<k;e++){g=i[e];while(b>=f||c[b]>0)if(b>=f){b=0;d=0;h++;for(a=0;a<f;a++)if(c[a]>0)c[a]--}else b++;j.push({rowIdx:h,cellIdx:d});for(a=g.colspan||1;a;--a){c[b]=g.rowspan||1;++b}++d}return j},getRenderTree:function(){var a=this,g=a.getLayoutItems(),l,i=[],o=Ext.apply({tag:"table",role:"presentation",cls:a.tableCls,cellspacing:0,cn:{tag:"tbody",cn:i}},a.tableAttrs),k=a.tdAttrs,m=a.needsDivWrap(),d,n=g.length,b,h,e,f,j,c;l=a.calculateCells(g);for(d=0;d<n;d++){b=g[d];h=l[d];f=h.rowIdx;j=h.cellIdx;e=i[f];if(!e){e=i[f]={tag:"tr",cn:[]};a.trAttrs&&Ext.apply(e,a.trAttrs)}c=e.cn[j]={tag:"td"};k&&Ext.apply(c,k);Ext.apply(c,{colSpan:b.colspan||1,rowSpan:b.rowspan||1,id:b.cellId||"",cls:a.cellCls+" "+(b.cellCls||"")});if(m)c=c.cn={tag:"div"};a.configureItem(b);c.cn=b.getRenderTree()}return o},isValidParent:function(d,g,f,e){var c,b,a;if(arguments.length===3){a=d.el.up("table");return a&&a.dom.parentNode===g.dom}c=this.owner.getTargetEl().child("table",true).tBodies[0];b=c.rows[f].cells[e];return d.el.dom.parentNode===b},needsDivWrap:function(){return Ext.isOpera10_5}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(c,b){var a=this;a.layout=c;Ext.apply(a,b||{});a.mixins.observable.constructor.call(a);a.addEvents("scroll");a.scrollPosition=0;a.scrollSize=0},getPrefixConfig:function(){var a=this;a.initCSSClasses();return{cls:Ext.layout.container.Box.prototype.innerCls+" "+a.beforeCtCls,cn:{id:a.layout.owner.id+"-before-scroller",cls:a.scrollerCls+" "+a.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var a=this;return{cls:Ext.layout.container.Box.prototype.innerCls+" "+a.afterCtCls,cn:{id:a.layout.owner.id+"-after-scroller",cls:a.scrollerCls+" "+a.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var a=this,b=Ext.baseCSSPrefix,e=a.layout,f=e.getNames(),c=f.left,g=f.right,d=a.getOwnerType(e.owner);a.beforeCtCls=a.beforeCtCls||b+"box-scroller-"+c;a.afterCtCls=a.afterCtCls||b+"box-scroller-"+g;a.beforeScrollerCls=a.beforeScrollerCls||b+d+"-scroll-"+c;a.afterScrollerCls=a.afterScrollerCls||b+d+"-scroll-"+g},beginLayout:function(b){var a=this.layout,c=a.getNames();b.innerCtScrollPos=a.innerCt.dom["scroll"+c.leftCap];this.callParent(arguments)},completeLayout:function(a){this.scrollSize=a.props["content"+this.layout.getNames().widthCap];this.callParent(arguments)},finishedLayout:function(c){var b=this,a=b.layout,d=a.getNames(),e=Math.min(b.getMaxScrollPosition(),c.innerCtScrollPos);a.innerCt.dom["scroll"+d.leftCap]=e},handleOverflow:function(){var a=this,c=a.layout,d=c.getNames(),b="get"+d.widthCap;a.captureChildElements();a.showScrollers();return{reservedSpace:a.beforeCt[b]()+a.afterCt[b]()}},captureChildElements:function(){var a=this,d=a.layout.owner.el,b,c;if(!a.beforeCt){b=a.beforeScroller=d.getById(a.layout.owner.id+"-before-scroller");c=a.afterScroller=d.getById(a.layout.owner.id+"-after-scroller");a.beforeCt=b.up("");a.afterCt=c.up("");a.createWheelListener();b.addClsOnOver(a.beforeScrollerCls+"-hover");c.addClsOnOver(a.afterScrollerCls+"-hover");b.setVisibilityMode(Ext.Element.DISPLAY);c.setVisibilityMode(Ext.Element.DISPLAY);a.beforeRepeater=new Ext.util.ClickRepeater(b,{interval:a.scrollRepeatInterval,handler:a.scrollLeft,scope:a});a.afterRepeater=new Ext.util.ClickRepeater(c,{interval:a.scrollRepeatInterval,handler:a.scrollRight,scope:a})}},createWheelListener:function(){this.layout.innerCt.on({mousewheel:function(a){this.scrollBy(a.getWheelDelta()*this.wheelIncrement*-1,false)},stopEvent:true,scope:this})},clearOverflow:function(){var a=this.layout;this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements();a.beforeScroller.show();a.afterScroller.show();a.updateScrollButtons();a.layout.owner.addClsWithUI("scroller")},hideScrollers:function(){var a=this;if(a.beforeScroller!==undefined){a.beforeScroller.hide();a.afterScroller.hide();a.layout.owner.removeClsWithUI("scroller")}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a=this,e,d,b,c;if(a.beforeScroller===undefined||a.afterScroller===undefined)return;e=a.atExtremeBefore()?"addCls":"removeCls";d=a.atExtremeAfter()?"addCls":"removeCls";b=a.beforeScrollerCls+"-disabled";c=a.afterScrollerCls+"-disabled";a.beforeScroller[e](b);a.afterScroller[d](c);a.scrolling=false},atExtremeBefore:function(){return!this.getScrollPosition()},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var b=this,c=b.layout,a;if(b.hasOwnProperty("scrollPosition"))a=b.scrollPosition;else a=parseInt(c.innerCt.dom["scroll"+c.getNames().leftCap],10)||0;return a},getMaxScrollPosition:function(){var b=this,a=b.layout,d=a.getNames(),c=b.scrollSize-a.innerCt["get"+d.widthCap]();return c<0?0:c},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(e,b){var a=this,d=a.layout,g=d.getNames(),f=a.getScrollPosition(),c=Ext.Number.constrain(e,0,a.getMaxScrollPosition());if(c!=f&&!a.scrolling){delete a.scrollPosition;if(b===undefined)b=a.animateScroll;d.innerCt.scrollTo(g.left,c,b?a.getScrollAnim():false);if(b)a.scrolling=true;else a.updateScrollButtons();a.fireEvent("scroll",a,c,b?a.getScrollAnim():false)}},scrollToItem:function(b,g){var a=this,h=a.layout,f=h.getNames(),c,e,d;b=a.getItem(b);if(b!==undefined){c=a.getItemVisibility(b);if(!c.fullyVisible){e=b.getBox(true,true);d=e[f.x];if(c.hiddenEnd)d-=a.layout.innerCt["get"+f.widthCap]()-e[f.width];a.scrollTo(d,g)}}},getItemVisibility:function(i){var d=this,e=d.getItem(i).getBox(true,true),f=d.layout,c=f.getNames(),b=e[c.x],g=b+e[c.width],a=d.getScrollPosition(),h=a+f.innerCt["get"+c.widthCap]();return{hiddenStart:b<a,hiddenEnd:g>h,fullyVisible:b>a&&g<h}}});Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:1,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}" />',"</a>","</tpl>"],maskOnDisable:false,activate:function(){var a=this;if(!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()){a.el.addCls(a.activeCls);a.focus();a.activated=true;a.fireEvent("activate",a)}},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;if(a.activated){a.el.removeCls(a.activeCls);a.blur();a.hideMenu();a.activated=false;a.fireEvent("deactivate",a)}},deferExpandMenu:function(){var a=this;if(a.activated&&(!a.menu.rendered||!a.menu.isVisible())){a.parentMenu.activeChild=a.menu;a.menu.parentItem=a;a.menu.parentMenu=a.menu.ownerCt=a.parentMenu;a.menu.showBy(a,a.menuAlign)}},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(":not([hidden])");a&&a.focus()}},expandMenu:function(b){var a=this;if(a.menu){a.cancelDeferHide();if(b===0)a.deferExpandMenu();else a.expandMenuTimer=Ext.defer(a.deferExpandMenu,Ext.isNumber(b)?b:a.menuExpandDelay,a)}},getRefItems:function(c){var b=this.menu,a;if(b){a=b.getRefItems(c);a.unshift(b)}return a||[]},hideMenu:function(b){var a=this;if(a.menu){clearTimeout(a.expandMenuTimer);a.hideMenuTimer=Ext.defer(a.deferHideMenu,Ext.isNumber(b)?b:a.menuHideDelay,a)}},initComponent:function(){var a=this,c=Ext.baseCSSPrefix,b=[c+"menu-item"],d;a.addEvents("activate","click","deactivate");a.plain&&b.push(c+"menu-item-plain");a.cls&&b.push(a.cls);a.cls=b.join(" ");if(a.menu){d=a.menu;delete a.menu;a.setMenu(d)}a.callParent(arguments)},onClick:function(b){var a=this;!a.href&&b.stopEvent();if(a.disabled)return;if(a.hideOnClick)a.deferHideParentMenusTimer=Ext.defer(a.deferHideParentMenus,a.clickHideDelay,a);Ext.callback(a.handler,a.scope||a,[a,b]);a.fireEvent("click",a,b);!a.hideOnClick&&a.focus()},onRemoved:function(){var a=this;a.activated&&a.parentMenu.activeItem===a&&a.parentMenu.deactivateActiveItem();a.callParent(arguments);delete a.parentMenu;delete a.ownerButton},beforeDestroy:function(){var a=this;a.rendered&&a.clearTip();a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);a.callParent(arguments)},beforeRender:function(){var a=this,b=Ext.BLANK_IMAGE_URL;a.callParent();Ext.applyIf(a.renderData,{href:a.href||"#",hrefTarget:a.hrefTarget,icon:a.icon||b,iconCls:a.iconCls+(a.checkChangeDisabled?" "+a.disabledCls:""),plain:a.plain,text:a.text,arrowCls:a.menu?a.arrowCls:"",blank:b})},onRender:function(){var a=this;a.callParent(arguments);a.tooltip&&a.setTooltip(a.tooltip,true)},setMenu:function(d,c){var a=this,b=a.menu;if(b){delete b.parentItem;delete b.parentMenu;delete b.ownerCt;delete b.ownerItem;(c===true||c!==false&&a.destroyMenu)&&Ext.destroy(b)}if(d){a.menu=Ext.menu.Manager.get(d);a.menu.ownerItem=a}else a.menu=null;a.rendered&&!a.destroying&&a.arrowEl[a.menu?"addCls":"removeCls"](a.arrowCls)},setHandler:function(b,a){this.handler=b||null;this.scope=a},setIcon:function(b){var a=this.iconEl;if(a)a.src=b||Ext.BLANK_IMAGE_URL;this.icon=b},setIconCls:function(c){var a=this,b=a.iconEl;if(b){a.iconCls&&b.removeCls(a.iconCls);c&&b.addCls(c)}a.iconCls=c},setText:function(b){var a=this,c=a.textEl||a.el;a.text=b;if(a.rendered){c.update(b||"");a.ownerCt.updateLayout()}},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(b,c){var a=this;if(a.rendered){!c&&a.clearTip();if(Ext.isObject(b)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.itemEl.id},b));a.tooltip=b}else a.itemEl.dom.setAttribute(a.getTipAttr(),b)}else a.tooltip=b;return a}});Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,afterRender:function(){var a=this;a.callParent();a.checked=!a.checked;a.setChecked(!a.checked,true);a.checkChangeDisabled&&a.disableCheckChange()},initComponent:function(){var a=this;a.addEvents("beforecheckchange","checkchange");a.callParent(arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){if(!a.iconCls)a.iconCls=a.groupCls;if(a.initialConfig.hideOnClick!==false)a.hideOnClick=true}},disableCheckChange:function(){var a=this,b=a.iconEl;b&&b.addCls(a.disabledCls);a.checkChangeDisabled=true},enableCheckChange:function(){var a=this,b=a.iconEl;b&&b.removeCls(a.disabledCls);a.checkChangeDisabled=false},onClick:function(b){var a=this;!a.disabled&&!a.checkChangeDisabled&&!(a.checked&&a.group)&&a.setChecked(!a.checked);this.callParent([b])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(b,c){var a=this;if(a.checked!==b&&(c||a.fireEvent("beforecheckchange",a,b)!==false)){a.el&&a.el[b?"addCls":"removeCls"](a.checkedCls)[!b?"addCls":"removeCls"](a.uncheckedCls);a.checked=b;Ext.menu.Manager.onCheckChange(a,b);if(!c){Ext.callback(a.checkHandler,a.scope,[a,b]);a.fireEvent("checkchange",a,b)}}}});Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(b){var a=this;a.menu=b;a.callParent([b.el,{down:a.down,enter:a.enter,esc:a.escape,left:a.left,right:a.right,space:a.enter,tab:a.tab,up:a.up}])},down:function(c){var a=this,b=a.menu.focusedItem;if(b&&c.getKey()==Ext.EventObject.DOWN&&a.isWhitelisted(b))return true;a.focusNextItem(1)},enter:function(c){var a=this.menu,b=a.focusedItem;if(a.activeItem)a.onClick(c);else if(b&&b.isFormField)return true},escape:function(){Ext.menu.Manager.hideAll()},focusNextItem:function(g){var c=this.menu,b=c.items,f=c.focusedItem,e=f?b.indexOf(f):-1,a=e+g,d;while(a!=e){if(a<0)a=b.length-1;else if(a>=b.length)a=0;d=b.getAt(a);if(c.canActivateItem(d)){c.setActiveItem(d);break}a+=g}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(){var a=this.menu,b=a.focusedItem,c=a.activeItem;if(b&&this.isWhitelisted(b))return true;a.hide();a.parentMenu&&a.parentMenu.focus()},right:function(){var b=this.menu,d=b.focusedItem,c=b.activeItem,a;if(d&&this.isWhitelisted(d))return true;if(c){a=b.activeItem.menu;if(a){c.expandMenu(0);Ext.defer(function(){a.setActiveItem(a.items.getAt(0))},25)}}},tab:function(a){var b=this;if(a.shiftKey)b.up(a);else b.down(a)},up:function(c){var a=this,b=a.menu.focusedItem;if(b&&c.getKey()==Ext.EventObject.UP&&a.isWhitelisted(b))return true;a.focusNextItem(-1)}});Ext.define("Ext.menu.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menus:{},groups:{},attached:false,lastShow:new Date,init:function(){var a=this;a.active=new Ext.util.MixedCollection;Ext.getDoc().addKeyListener(27,function(){a.active.length>0&&a.hideAll()},a)},hideAll:function(){var c=this.active,e,b,a,d;if(c&&c.length>0){e=c.clone();b=e.items;d=b.length;for(a=0;a<d;a++)b[a].hide();return true}return false},onHide:function(c){var a=this,b=a.active;b.remove(c);if(b.length<1){Ext.getDoc().un("mousedown",a.onMouseDown,a);a.attached=false}},onShow:function(b){var a=this,c=a.active,f=c.last(),d=a.attached,e=b.getEl(),g;a.lastShow=new Date;c.add(b);if(!d){Ext.getDoc().on("mousedown",a.onMouseDown,a,{buffer:Ext.isIE?10:undefined});a.attached=true}b.toFront()},onBeforeHide:function(a){a.activeChild&&a.activeChild.hide();if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(b){var c=this.active,a=b.parentMenu;c.remove(b);if(!a&&!b.allowOtherMenus)this.hideAll();else a&&a.activeChild&&b!=a.activeChild&&a.activeChild.hide()},onMouseDown:function(d){var a=this,c=a.active,b=a.lastShow;Ext.Date.getElapsed(b)>50&&c.length>0&&!d.getTarget("."+Ext.baseCSSPrefix+"menu")&&a.hideAll()},register:function(b){var a=this;!a.active&&a.init();if(b.floating){a.menus[b.id]=b;b.on({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})}},"get":function(a){var b=this.menus;return typeof a=="string"?!b?null:b[a]:a.isMenu?a:Ext.isArray(a)?new Ext.menu.Menu({items:a}):Ext.ComponentManager.create(a,"menu")},unregister:function(b){var a=this,c=a.menus,d=a.active;delete c[b.id];d.remove(b);b.un({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})},registerCheckable:function(c){var b=this.groups,a=c.group;if(a){if(!b[a])b[a]=[];b[a].push(c)}},unregisterCheckable:function(b){var c=this.groups,a=b.group;a&&Ext.Array.remove(c[a],b)},onCheckChange:function(e,h){var g=this.groups,d=e.group,a=0,c,f,b;if(d&&h){c=g[d];f=c.length;for(;a<f;a++){b=c[a];b!=e&&b.setChecked(false)}}}});Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",textAlign:"center",type:"button",clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",border:true,childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<em id="{id}-btnWrap"<tpl if="splitCls"> class="{splitCls}"</tpl>>','<tpl if="href">','<a id="{id}-btnEl" href="{href}" class="{btnCls}" target="{hrefTarget}"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="link">','<span id="{id}-btnInnerEl" class="{baseCls}-inner">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</a>","<tpl else>",'<button id="{id}-btnEl" type="{type}" class="{btnCls}" hidefocus="true"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="button" autocomplete="off">','<span id="{id}-btnInnerEl" class="{baseCls}-inner" style="{innerSpanStyle}">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</button>","</tpl>","</em>",'<tpl if="closable">','<a id="{id}-closeEl" href="#" class="{baseCls}-close-btn" title="{closeText}"></a>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,persistentPadding:undefined,shrinkWrap:3,frame:true,initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(a.menu){a.split=true;a.menu=Ext.menu.Manager.get(a.menu);a.menu.ownerButton=a}if(a.url)a.href=a.url;if(a.href&&!a.hasOwnProperty("preventDefault"))a.preventDefault=false;if(Ext.isString(a.toggleGroup))a.enableToggle=true},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.inOnFocus?this.el:this.btnEl},onFocus:function(){var a=this;a.inOnFocus=true;a.callParent(arguments);a.inOnFocus=false},onBlur:function(b){var a=this,c=a.focusCls,d=a.getEl();if(a.destroying)return;a.beforeBlur(b);c&&d&&d.removeCls(a.removeClsWithUI(c,true));a.validateOnBlur&&a.validate();a.hasFocus=false;a.fireEvent("blur",a,b);a.postBlur(b)},setComponentCls:function(){var a=this,b=a.getComponentCls();if(!Ext.isEmpty(a.oldCls)){a.removeClsWithUI(a.oldCls);a.removeClsWithUI(a.pressedCls)}a.oldCls=b;a.addClsWithUI(b)},getComponentCls:function(){var a=this,b=[];if(a.iconCls||a.icon)if(a.text)b.push("icon-text-"+a.iconAlign);else b.push("icon");else a.text&&b.push("noicon");a.pressed&&b.push(a.pressedCls);return b},beforeRender:function(){var a=this;a.callParent();a.oldCls=a.getComponentCls();a.addClsWithUI(a.oldCls);Ext.applyIf(a.renderData,a.getTemplateArgs());a.scale&&a.setScale(a.scale)},onRender:function(){var a=this,c,b;a.doc=Ext.getDoc();a.callParent(arguments);a.split&&a.arrowTooltip&&a.arrowEl.dom.setAttribute(a.getTipAttr(),a.arrowTooltip);c=a.el;a.tooltip&&a.setTooltip(a.tooltip,true);if(a.handleMouseEvents){b={scope:a,mouseover:a.onMouseOver,mouseout:a.onMouseOut,mousedown:a.onMouseDown};if(a.split)b.mousemove=a.onMouseMove}else b={scope:a};if(a.menu){a.mon(a.menu,{scope:a,show:a.onMenuShow,hide:a.onMenuHide});a.keyMap=new Ext.util.KeyMap({target:a.el,key:Ext.EventObject.DOWN,handler:a.onDownKey,scope:a})}if(a.repeat)a.mon(new Ext.util.ClickRepeater(c,Ext.isObject(a.repeat)?a.repeat:{}),"click",a.onRepeatClick,a);else b[a.clickEvent]=a.onClick;a.mon(c,b);Ext.ButtonToggleManager.register(a)},getTemplateArgs:function(){var a=this,c=a.getPersistentPadding(),b="";if(Math.max.apply(Math,c)>0)b="margin:"+Ext.Array.map(c,function(a){return-a+"px"}).join(" ");return{href:a.getHref(),disabled:a.disabled,hrefTarget:a.hrefTarget,type:a.type,btnCls:a.getBtnCls(),splitCls:a.getSplitCls(),iconUrl:a.icon,iconCls:a.iconCls,text:a.text||"&#160;",tabIndex:a.tabIndex,innerSpanStyle:b}},getHref:function(){var a=this,b=Ext.apply({},a.baseParams);b=Ext.apply(b,a.params);return a.href?Ext.urlAppend(a.href,Ext.Object.toQueryString(b)):false},setParams:function(a){this.params=a;this.btnEl.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?a.baseCls+"-"+a.arrowCls+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},getBtnCls:function(){return this.textAlign?this.baseCls+"-"+this.textAlign:""},setIconCls:function(c){var a=this,b=a.btnIconEl,d=a.iconCls;a.iconCls=c;if(b){b.removeCls(d);b.addCls(c||"");a.setComponentCls();a.didIconStateChange(d,c)&&a.updateLayout()}return a},setTooltip:function(b,c){var a=this;if(a.rendered){!c&&a.clearTip();if(Ext.isObject(b)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.btnEl.id},b));a.tooltip=b}else a.btnEl.dom.setAttribute(a.getTipAttr(),b)}else a.tooltip=b;return a},setTextAlign:function(c){var a=this,b=a.btnEl;if(b){b.removeCls(a.baseCls+"-"+a.textAlign);b.addCls(a.baseCls+"-"+c)}a.textAlign=c;return a},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(c){var b=this.menu,a;if(b){a=b.getRefItems(c);a.unshift(b)}return a||[]},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.btnEl)},beforeDestroy:function(){var a=this;a.rendered&&a.clearTip();a.menu&&a.destroyMenu!==false&&Ext.destroy(a.menu);Ext.destroy(a.btnInnerEl,a.repeater);a.callParent()},onDestroy:function(){var a=this;if(a.rendered){a.doc.un("mouseover",a.monitorMouseOver,a);a.doc.un("mouseup",a.onMouseUp,a);delete a.doc;Ext.ButtonToggleManager.unregister(a);Ext.destroy(a.keyMap);delete a.keyMap}a.callParent()},setHandler:function(b,a){this.handler=b;this.scope=a;return this},setText:function(b){var a=this;a.text=b;if(a.rendered){a.btnInnerEl.update(b||"&#160;");a.setComponentCls();Ext.isStrict&&Ext.isIE8&&a.el.repaint();a.updateLayout()}return a},setIcon:function(b){var a=this,c=a.btnIconEl,d=a.icon;a.icon=b;if(c){c.setStyle("background-image",b?"url("+b+")":"");a.setComponentCls();a.didIconStateChange(d,b)&&a.updateLayout()}return a},didIconStateChange:function(b,c){var a=Ext.isEmpty(c);return Ext.isEmpty(b)?!a:a},getText:function(){return this.text},toggle:function(b,c){var a=this;b=b===undefined?!a.pressed:!!b;if(b!==a.pressed){a.rendered&&a[b?"addClsWithUI":"removeClsWithUI"](a.pressedCls);a.pressed=b;if(!c){a.fireEvent("toggle",a,b);Ext.callback(a.toggleHandler,a.scope||a,[a,b])}}return a},maybeShowMenu:function(){var a=this;a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick&&a.showMenu()},showMenu:function(){var a=this;if(a.rendered&&a.menu){a.tooltip&&a.getTipAttr()!="title"&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(a.btnEl);a.menu.isVisible()&&a.menu.hide();a.menu.showBy(a.el,a.menuAlign,!Ext.isStrict&&Ext.isIE||Ext.isIE6?[-2,-2]:undefined)}return a},hideMenu:function(){this.hasVisibleMenu()&&this.menu.hide();return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(b,a){this.onClick(a)},onClick:function(b){var a=this;(a.preventDefault||a.disabled&&a.getHref()&&b)&&b.preventDefault();if(b.button!==0)return;if(!a.disabled){a.doToggle();a.maybeShowMenu();a.fireHandler(b)}},fireHandler:function(c){var a=this,b=a.handler;if(a.fireEvent("click",a,c)!==false){b&&b.call(a.scope||a,a,c);a.blur()}},doToggle:function(){var a=this;a.enableToggle&&(a.allowDepress!==false||!a.pressed)&&a.toggle()},onMouseOver:function(b){var a=this;if(!a.disabled&&!b.within(a.el,true,true))a.onMouseEnter(b)},onMouseOut:function(b){var a=this;if(!b.within(a.el,true,true)){if(a.overMenuTrigger)a.onMenuTriggerOut(b);a.onMouseLeave(b)}},onMouseMove:function(c){var a=this,b=a.el,f=a.overMenuTrigger,e,d;if(a.split){if(a.arrowAlign==="right"){e=c.getX()-b.getX();d=b.getWidth()}else{e=c.getY()-b.getY();d=b.getHeight()}if(e>d-a.getTriggerSize()){if(!f)a.onMenuTriggerOver(c)}else if(f)a.onMenuTriggerOut(c)}},getTriggerSize:function(){var a=this,d=a.triggerSize,c,b,e;if(d===e){c=a.arrowAlign;b=c.charAt(0);d=a.triggerSize=a.el.getFrameWidth(b)+a.btnWrap.getFrameWidth(b)+a.frameSize[c]}return d},onMouseEnter:function(b){var a=this;a.addClsWithUI(a.overCls);a.fireEvent("mouseover",a,b)},onMouseLeave:function(b){var a=this;a.removeClsWithUI(a.overCls);a.fireEvent("mouseout",a,b)},onMenuTriggerOver:function(b){var a=this;a.overMenuTrigger=true;a.fireEvent("menutriggerover",a,a.menu,b)},onMenuTriggerOut:function(b){var a=this;delete a.overMenuTrigger;a.fireEvent("menutriggerout",a,a.menu,b)},enable:function(){var a=this;a.callParent(arguments);if(a.btnEl)a.btnEl.dom.disabled=false;a.removeClsWithUI("disabled");return a},disable:function(){var a=this;a.callParent(arguments);if(a.btnEl)a.btnEl.dom.disabled=true;a.addClsWithUI("disabled");a.removeClsWithUI(a.overCls);a.btnInnerEl&&(Ext.isIE6||Ext.isIE7)&&a.btnInnerEl.repaint();return a},setScale:function(b){var a=this,c=a.ui.replace("-"+a.scale,"");if(!Ext.Array.contains(a.allowedScales,b))throw"#setScale: scale must be an allowed scale ("+a.allowedScales.join(", ")+")";a.scale=b;a.setUI(c)},setUI:function(b){var a=this;if(a.scale&&!b.match(a.scale))b=b+"-"+a.scale;a.callParent([b])},onMouseDown:function(b){var a=this;if(!a.disabled&&b.button===0){a.addClsWithUI(a.pressedCls);a.doc.on("mouseup",a.onMouseUp,a)}},onMouseUp:function(b){var a=this;if(b.button===0){!a.pressed&&a.removeClsWithUI(a.pressedCls);a.doc.un("mouseup",a.onMouseUp,a)}},onMenuShow:function(){var a=this;a.ignoreNextClick=0;a.addClsWithUI(a.menuActiveCls);a.fireEvent("menushow",a,a.menu)},onMenuHide:function(){var a=this;a.removeClsWithUI(a.menuActiveCls);a.ignoreNextClick=Ext.defer(a.restoreClick,250,a);a.fireEvent("menuhide",a,a.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){var a=this;if(!a.disabled)a.menu&&a.showMenu()},getPersistentPadding:function(){var f=this,b=f.persistentPadding,a,c,d,e;if(!b){b=f.self.prototype.persistentPadding=[0,0,0,0];if(!Ext.isIE){a=new Ext.button.Button({text:"test",style:"position:absolute;top:-999px;"});a.el=Ext.DomHelper.append(Ext.getBody(),a.getRenderTree(),true);a.applyChildEls(a.el);d=a.btnEl;e=a.btnInnerEl;d.setSize(null,null);c=e.getOffsetsTo(d);b[0]=c[1];b[1]=d.getWidth()-e.getWidth()-c[0];b[2]=d.getHeight()-e.getHeight()-c[1];b[3]=c[0];a.destroy();a.el.remove()}}return b}},function(){var a={},b=function(d,f){if(f)for(var c=a[d.toggleGroup],e=c.length,b=0;b<e;b++)c[b]!==d&&c[b].toggle(false)};Ext.ButtonToggleManager={register:function(c){if(!c.toggleGroup)return;var d=a[c.toggleGroup];if(!d)d=a[c.toggleGroup]=[];d.push(c);c.on("toggle",b)},unregister:function(c){if(!c.toggleGroup)return;var d=a[c.toggleGroup];if(d){Ext.Array.remove(d,c);c.un("toggle",b)}},getPressed:function(e){var c=a[e],b=0,d;if(c)for(d=c.length;b<d;b++)if(c[b].pressed===true)return c[b];return null}}});Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",arrowCls:"split",split:true,initComponent:function(){this.callParent();this.addEvents("arrowclick")},setArrowHandler:function(b,a){this.arrowHandler=b;this.scope=a},onClick:function(b){var a=this;b.preventDefault();if(!a.disabled)if(a.overMenuTrigger){a.maybeShowMenu();a.fireEvent("arrowclick",a,b);a.arrowHandler&&a.arrowHandler.call(a.scope||a,a,b)}else{a.doToggle();a.fireHandler(b)}}});Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(c){var a=this,b="";if(c&&a.showText===true){if(a.prependText)b+=a.prependText;b+=c.text;return b}return a.text},setActiveItem:function(b,c){var a=this;if(!Ext.isObject(b))b=a.menu.getComponent(b);if(b){if(!a.rendered){a.text=a.getButtonText(b);a.iconCls=b.iconCls}else{a.setText(a.getButtonText(b));a.setIconCls(b.iconCls)}a.activeItem=b;!b.checked&&b.setChecked(true,false);a.forceIcon&&a.setIconCls(a.forceIcon);!c&&a.fireEvent("change",a,b)}},getActiveItem:function(){return this.activeItem},initComponent:function(){var a=this,f=0,d,b,e,c;a.addEvents("change");if(a.changeHandler){a.on("change",a.changeHandler,a.scope||a);delete a.changeHandler}d=(a.menu.items||[]).concat(a.items||[]);a.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},a.menu);e=d.length;for(b=0;b<e;b++){c=d[b];c=Ext.applyIf({group:a.id,itemIndex:b,checkHandler:a.checkHandler,scope:a,checked:c.checked||false},c);a.menu.items.push(c);if(c.checked)f=b}a.itemCount=a.menu.items.length;a.callParent(arguments);a.on("click",a.toggleSelected,a);a.setActiveItem(f,a);a.width&&a.showText&&a.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(a,b){b&&this.setActiveItem(a)},toggleSelected:function(){var b=this,c=b.menu,a;a=b.activeItem.next(":not([disabled])")||c.items.getAt(0);a.setChecked(true)}});Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(){var a=this;a.callParent();a.addCls(a.separatorCls)}});Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(b,c){var a=this;a.panel=b;a.dragData={panel:b};a.panelProxy=new Ext.panel.Proxy(b,c);a.proxy=a.panelProxy.proxy;a.callParent([b.el,c]);a.setupEl(b)},setupEl:function(b){var a=this,d=b.header,c=b.body;if(d){a.setHandleElId(d.id);c=d.el}if(c){c.setStyle("cursor","move");a.scroll=false}else b.on("boxready",a.setupEl,a,{single:true})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(){return this.panelProxy.ghost.el.dom},endDrag:function(){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(d,b,c){var a=this;a.beforeInvalidDrop(d,b,c);if(a.cachedTarget){a.cachedTarget.isNotifyTarget&&a.cachedTarget.notifyOut(a,b,a.dragData);a.cacheTarget=null}a.afterInvalidDrop&&a.afterInvalidDrop(b,c)}});Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.draw.Component","Ext.util.CSS","Ext.layout.component.Body","Ext.Img"],alias:"widget.header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,componentLayout:"body",titleAlign:"left",childEls:["body"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:'<span id="{id}-textEl" class="{cls}-text {cls}-text-{ui}">{title}</span>',shrinkWrap:3,initComponent:function(){var a=this,d,e,b,c,f;a.addEvents("click","dblclick");a.indicateDragCls=a.baseCls+"-draggable";a.title=a.title||"&#160;";a.tools=a.tools||[];a.items=a.items||[];a.orientation=a.orientation||"horizontal";a.dock=a.dock?a.dock:a.orientation=="horizontal"?"top":"left";a.addClsWithUI([a.orientation,a.dock]);a.indicateDrag&&a.addCls(a.indicateDragCls);if(!Ext.isEmpty(a.iconCls)||!Ext.isEmpty(a.icon)){a.initIconCmp();a.items.push(a.iconCmp)}if(a.orientation=="vertical"){a.layout={type:"vbox",align:"center"};a.textConfig={width:16,cls:a.baseCls+"-text",type:"text",text:a.title,rotate:{degrees:90}};c=a.ui;if(Ext.isArray(c))c=c[0];d="."+a.baseCls+"-text-"+c;if(Ext.scopeResetCSS)d="."+Ext.baseCSSPrefix+"reset "+d;e=Ext.util.CSS.getRule(d);if(e)b=e.style;else{b=(f=Ext.getBody().createChild({style:"position:absolute",cls:a.baseCls+"-text-"+c})).getStyles("fontFamily","fontWeight","fontSize","color");f.remove()}b&&Ext.apply(a.textConfig,{"font-family":b.fontFamily,"font-weight":b.fontWeight,"font-size":b.fontSize,fill:b.color});a.titleCmp=new Ext.draw.Component({width:16,ariaRole:"heading",focusable:false,viewBox:false,flex:1,id:a.id+"_hd",autoSize:true,items:a.textConfig,xhooks:{setSize:function(a){this.callParent([a])}},childEls:[{name:"textEl",select:"."+a.baseCls+"-text"}]})}else{a.layout={type:"hbox",align:"middle"};a.titleCmp=new Ext.Component({ariaRole:"heading",focusable:false,noWrap:true,flex:1,id:a.id+"_hd",style:"text-align:"+a.titleAlign,cls:a.baseCls+"-text-container",renderTpl:a.getTpl("headingTpl"),renderData:{title:a.title,cls:a.baseCls,ui:a.ui},childEls:["textEl"]})}a.items.push(a.titleCmp);a.items=a.items.concat(a.tools);a.callParent();a.on({dblclick:a.onDblClick,click:a.onClick,element:"el",scope:a})},initIconCmp:function(){var a=this,b={focusable:false,src:Ext.BLANK_IMAGE_URL,cls:[a.baseCls+"-icon",a.iconCls],id:a.id+"-iconEl",iconCls:a.iconCls};if(!Ext.isEmpty(a.icon)){delete b.iconCls;b.src=a.icon}a.iconCmp=new Ext.Img(b)},afterRender:function(){this.el.unselectable();this.callParent()},addUIClsToElement:function(e){var a=this,f=a.callParent(arguments),c=[a.baseCls+"-body-"+e,a.baseCls+"-body-"+a.ui+"-"+e],d,b;if(a.bodyCls){d=a.bodyCls.split(" ");for(b=0;b<c.length;b++)!Ext.Array.contains(d,c[b])&&d.push(c[b]);a.bodyCls=d.join(" ")}else a.bodyCls=c.join(" ");return f},removeUIClsFromElement:function(d){var a=this,f=a.callParent(arguments),e=[a.baseCls+"-body-"+d,a.baseCls+"-body-"+a.ui+"-"+d],c,b;if(a.bodyCls){c=a.bodyCls.split(" ");for(b=0;b<e.length;b++)Ext.Array.remove(c,e[b]);a.bodyCls=c.join(" ")}return f},addUIToElement:function(){var a=this,c,b;a.callParent(arguments);b=a.baseCls+"-body-"+a.ui;if(a.rendered)if(a.bodyCls)a.body.addCls(a.bodyCls);else a.body.addCls(b);else if(a.bodyCls){c=a.bodyCls.split(" ");!Ext.Array.contains(c,b)&&c.push(b);a.bodyCls=c.join(" ")}else a.bodyCls=b;a.titleCmp&&a.titleCmp.rendered&&a.titleCmp.textEl&&a.titleCmp.textEl.addCls(a.baseCls+"-text-"+a.ui)},removeUIFromElement:function(){var a=this,c,b;a.callParent(arguments);b=a.baseCls+"-body-"+a.ui;if(a.rendered)if(a.bodyCls)a.body.removeCls(a.bodyCls);else a.body.removeCls(b);else if(a.bodyCls){c=a.bodyCls.split(" ");Ext.Array.remove(c,b);a.bodyCls=c.join(" ")}else a.bodyCls=b;a.titleCmp&&a.titleCmp.rendered&&a.titleCmp.textEl&&a.titleCmp.textEl.removeCls(a.baseCls+"-text-"+a.ui)},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(b,a){var c="."+Ext.panel.Tool.prototype.baseCls;!a.getTarget(c)&&this.fireEvent(b,this,a)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(b){var a=this,c,d;if(a.rendered)if(a.titleCmp.rendered){if(a.titleCmp.surface){a.title=b||"";c=a.titleCmp.surface.items.items[0];d=a.titleCmp.surface;d.remove(c);a.textConfig.type="text";a.textConfig.text=b;c=d.add(a.textConfig);c.setAttributes({rotate:{degrees:90}},true);a.titleCmp.autoSizeSurface()}else{a.title=b;a.titleCmp.textEl.update(a.title||"&#160;")}a.titleCmp.updateLayout()}else a.titleCmp.on({render:function(){a.setTitle(b)},single:true});else a.title=b},getMinWidth:function(){var c=this,e=c.titleCmp.textEl.dom,b,d=c.tools,f,a;e.style.display="inline";b=e.offsetWidth;e.style.display="";if(d&&(f=d.length))for(a=0;a<f;a++)if(d[a].el)b+=d[a].el.dom.offsetWidth;if(c.iconCmp)b+=c.iconCmp.el.dom.offsetWidth;return b+10},setIconCls:function(b){var a=this,d=!b||!b.length,c=a.iconCmp;a.iconCls=b;if(!a.iconCmp&&!d){a.initIconCmp();a.insert(0,a.iconCmp)}else if(c)if(d){a.iconCmp.destroy();delete a.iconCmp}else{c.removeCls(c.iconCls);c.addCls(b);c.iconCls=b}},setIcon:function(b){var a=this,d=!b||!b.length,c=a.iconCmp;a.icon=b;if(!a.iconCmp&&!d){a.initIconCmp();a.insert(0,a.iconCmp)}else if(c)if(d){a.iconCmp.destroy();delete a.iconCmp}else c.setSrc(a.icon)},addTool:function(a){this.tools.push(this.add(a))},onAdd:function(a){this.callParent(arguments);if(a instanceof Ext.panel.Tool){a.bindTo(this.ownerCt);this.tools[a.type]=a}},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls})}});Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.}" hidefocus="on">','<em><span style="background:#{.}" unselectable="on">&#160;</span></em>',"</a>","</tpl>"],initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("select");if(a.handler)a.on("select",a.handler,a.scope,true)},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var a=this,b=a.clickEvent;a.callParent(arguments);a.mon(a.el,b,a.handleClick,a,{delegate:"a"});b!="click"&&a.mon(a.el,"click",Ext.emptyFn,a,{delegate:"a",stopEvent:true})},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.value){b=a.value;a.value=null;a.select(b,true)}},handleClick:function(c,d){var a=this,b;c.stopEvent();if(!a.disabled){b=d.className.match(a.colorRe)[1];a.select(b.toUpperCase())}},select:function(b,f){var a=this,e=a.selectedCls,d=a.value,c;b=b.replace("#","");if(!a.rendered){a.value=b;return}if(b!=d||a.allowReselect){c=a.el;a.value&&c.down("a.color-"+d).removeCls(e);c.down("a.color-"+b).addCls(e);a.value=b;f!==true&&a.fireEvent("select",a,b)}},getValue:function(){return this.value||null}});Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month"><a style="{parent.monthStyle}" href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<button id="{id}-prevEl" class="{baseCls}-yearnav-prev"></button>','<button id="{id}-nextEl" class="{baseCls}-yearnav-next"></button>',"</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year"><a href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons"></div>',"</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,width:178,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;a.selectedCls=a.baseCls+"-selected";a.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick");a.small&&a.addCls(a.smallCls);a.setValue(a.value);a.activeYear=a.getYear((new Date).getFullYear()-4,-4);this.callParent()},beforeRender:function(){var a=this,b=0,d=[],c=Ext.Date.getShortMonthName,f=a.monthOffset,g=a.monthMargin,e="";a.callParent();for(;b<f;++b)d.push(c(b),c(b+f));if(Ext.isDefined(g))e="margin: 0 "+g+"px;";Ext.apply(a.renderData,{months:d,years:a.getYears(),showButtons:a.showButtons,monthStyle:e})},afterRender:function(){var a=this,b=a.bodyEl,c=a.buttonsEl;a.callParent();a.mon(b,"click",a.onBodyClick,a);a.mon(b,"dblclick",a.onBodyClick,a);a.years=b.select("."+a.baseCls+"-year a");a.months=b.select("."+a.baseCls+"-month a");if(a.showButtons){a.okBtn=new Ext.button.Button({text:a.okText,renderTo:c,handler:a.onOkClick,scope:a});a.cancelBtn=new Ext.button.Button({text:a.cancelText,renderTo:c,handler:a.onCancelClick,scope:a})}a.backRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:Ext.Function.bind(a.adjustYear,a,[-a.totalYears])});a.prevEl.addClsOnOver(a.baseCls+"-yearnav-prev-over");a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:Ext.Function.bind(a.adjustYear,a,[a.totalYears])});a.nextEl.addClsOnOver(a.baseCls+"-yearnav-next-over");a.updateBody();if(!Ext.isDefined(a.monthMargin))Ext.picker.Month.prototype.monthMargin=a.calculateMonthMargin()},calculateMonthMargin:function(){var b=this,e=b.monthEl,c=b.months,d=c.first(),a=d.getMargin("l");while(a&&b.getLargest()>b.measureMaxHeight){--a;c.setStyle("margin","0 "+a+"px")}return a},getLargest:function(){var a=0;this.months.each(function(c){var b=c.getHeight();if(b>a)a=b});return a},setValue:function(b){var a=this,d=a.activeYear,f=a.monthOffset,c,e;if(!b)a.value=[null,null];else if(Ext.isDate(b))a.value=[b.getMonth(),b.getFullYear()];else a.value=[b[0],b[1]];if(a.rendered){c=a.value[1];if(c!==null)if(c<d||c>d+a.yearOffset)a.activeYear=c-a.yearOffset+1;a.updateBody()}return a},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return a[0]!==null&&a[1]!==null},getYears:function(){for(var c=this,d=c.yearOffset,e=c.activeYear,f=e+d,a=e,b=[];a<f;++a)b.push(a,a+d);return b},updateBody:function(){var a=this,j=a.years,i=a.months,m=a.getYears(),d=a.selectedCls,l=a.getYear(null),b=a.value[0],k=a.monthOffset,g,f,c,h,e;if(a.rendered){j.removeCls(d);i.removeCls(d);f=j.elements;h=f.length;for(c=0;c<h;c++){e=Ext.fly(f[c]);g=m[c];e.dom.innerHTML=g;if(g==l)e.dom.className=d}if(b!==null){if(b<k)b=b*2;else b=(b-k)*2+1;i.item(b).addCls(d)}}},getYear:function(c,a){var b=this.value[1];a=a||0;return b===null?c:b+a},onBodyClick:function(a,d){var b=this,c=a.type=="dblclick";if(a.getTarget("."+b.baseCls+"-month")){a.stopEvent();b.onMonthClick(d,c)}else if(a.getTarget("."+b.baseCls+"-year")){a.stopEvent();b.onYearClick(d,c)}},adjustYear:function(a){if(typeof a!="number")a=this.totalYears;this.activeYear+=a;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(c,b){var a=this;a.value[0]=a.resolveOffset(a.months.indexOf(c),a.monthOffset);a.updateBody();a.fireEvent("month"+(b?"dbl":"")+"click",a,a.value);a.fireEvent("select",a,a.value)},onYearClick:function(c,b){var a=this;a.value[1]=a.activeYear+a.resolveOffset(a.years.indexOf(c),a.yearOffset);a.updateBody();a.fireEvent("year"+(b?"dbl":"")+"click",a,a.value);a.fireEvent("select",a,a.value)},resolveOffset:function(a,b){return a%2===0?a/2:b+Math.floor(a/2)},beforeDestroy:function(){var a=this;a.years=a.months=null;Ext.destroyMembers(a,"backRepeater","nextRepeater","okBtn","cancelBtn");a.callParent()}});Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.EventObject","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<div class="{baseCls}-prev"><a id="{id}-prevEl" href="#" role="button" title="{prevText}"></a></div>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<div class="{baseCls}-next"><a id="{id}-nextEl" href="#" role="button" title="{nextText}"></a></div>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="presentation">','<thead role="presentation"><tr role="presentation">','<tpl for="dayNames">','<th role="columnheader" title="{.}"><span>{.:this.firstInitial}</span></th>',"</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="presentation">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" href="#" hidefocus="on" class="{parent.baseCls}-date" tabIndex="1">','<em role="presentation"><span role="presentation"></span></em>',"</a>","</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;var b=a%7===0&&a!==0;return b?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:false,focusOnSelect:true,width:178,initHour:12,numDays:42,initComponent:function(){var a=this,b=Ext.Date.clearTime;a.selectedCls=a.baseCls+"-selected";a.disabledCellCls=a.baseCls+"-disabled";a.prevCls=a.baseCls+"-prevday";a.activeCls=a.baseCls+"-active";a.nextCls=a.baseCls+"-prevday";a.todayCls=a.baseCls+"-today";a.dayNames=a.dayNames.slice(a.startDay).concat(a.dayNames.slice(0,a.startDay));a.listeners=Ext.apply(a.listeners||{},{mousewheel:{element:"eventEl",fn:a.handleMouseWheel,scope:a},click:{element:"eventEl",fn:a.handleDateClick,scope:a,delegate:"a."+a.baseCls+"-date"}});this.callParent();a.value=a.value?b(a.value,true):b(new Date);a.addEvents("select");a.initDisabledDays()},beforeRender:function(){var a=this,c=new Array(a.numDays),b=Ext.Date.format(new Date,a.format);a.monthBtn=new Ext.button.Split({ownerCt:a,ownerLayout:a.getComponentLayout(),text:"",tooltip:a.monthYearText,listeners:{click:a.showMonthPicker,arrowclick:a.showMonthPicker,scope:a}});if(this.showToday)a.todayBtn=new Ext.button.Button({ownerCt:a,ownerLayout:a.getComponentLayout(),text:Ext.String.format(a.todayText,b),tooltip:Ext.String.format(a.todayTip,b),handler:a.selectToday,scope:a});a.callParent();Ext.applyIf(a,{renderData:{}});Ext.apply(a.renderData,{dayNames:a.dayNames,showToday:a.showToday,prevText:a.prevText,nextText:a.nextText,days:c})},finishRenderChildren:function(){var a=this;a.callParent();a.monthBtn.finishRender();a.showToday&&a.todayBtn.finishRender()},onRender:function(){var a=this;a.callParent(arguments);a.el.unselectable();a.cells=a.eventEl.select("tbody td");a.textNodes=a.eventEl.query("tbody td span")},initEvents:function(){var a=this,b=Ext.Date,c=b.DAY;a.callParent();a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,preventDefault:true,stopDefault:true});a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,preventDefault:true,stopDefault:true});a.keyNav=new Ext.util.KeyNav(a.eventEl,Ext.apply({scope:a,left:function(d){if(d.ctrlKey)a.showPrevMonth();else a.update(b.add(a.activeDate,c,-1))},right:function(d){if(d.ctrlKey)a.showNextMonth();else a.update(b.add(a.activeDate,c,1))},up:function(d){if(d.ctrlKey)a.showNextYear();else a.update(b.add(a.activeDate,c,-7))},down:function(d){if(d.ctrlKey)a.showPrevYear();else a.update(b.add(a.activeDate,c,7))},pageUp:a.showNextMonth,pageDown:a.showPrevMonth,enter:function(a){a.stopPropagation();return true}},a.keyNavConfig));if(a.showToday)a.todayKeyListener=a.eventEl.addKeyListener(Ext.EventObject.SPACE,a.selectToday,a);a.update(a.value)},initDisabledDays:function(){var d=this,b=d.disabledDates,e="(?:",f,a,g,c;if(!d.disabledDatesRE&&b){f=b.length-1;g=b.length;for(a=0;a<g;a++){c=b[a];e+=Ext.isDate(c)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(c,d.format))+"$":c;if(a!=f)e+="|"}d.disabledDatesRE=new RegExp(e+")")}},setDisabledDates:function(b){var a=this;if(Ext.isArray(b)){a.disabledDates=b;a.disabledDatesRE=null}else a.disabledDatesRE=b;a.initDisabledDays();a.update(a.value,true);return a},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,true)},setMinDate:function(a){this.minDate=a;return this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,true)},setValue:function(a){this.value=Ext.Date.clearTime(a,true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(b){var a=this;a.keyNav.setDisabled(b);a.prevRepeater.setDisabled(b);a.nextRepeater.setDisabled(b);if(a.showToday){a.todayKeyListener.setDisabled(b);a.todayBtn.setDisabled(b)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(c){var a=this.monthPicker,b={duration:200,callback:function(){if(c)a.hide();else a.show()}};if(c)a.el.slideOut("t",b);else a.el.slideIn("t",b)},hideMonthPicker:function(c){var a=this,b=a.monthPicker;if(b)if(a.shouldAnimate(c))a.runAnimation(true);else b.hide();return a},showMonthPicker:function(c){var a=this,b;if(a.rendered&&!a.disabled){b=a.createMonthPicker();b.setValue(a.getActive());b.setSize(a.getSize());b.setPosition(-1,-1);if(a.shouldAnimate(c))a.runAnimation(false);else b.show()}return a},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var a=this,b=a.monthPicker;if(!b){a.monthPicker=b=new Ext.picker.Month({renderTo:a.el,floating:true,shadow:false,small:a.showToday===false,listeners:{scope:a,cancelclick:a.onCancelClick,okclick:a.onOkClick,yeardblclick:a.onOkClick,monthdblclick:a.onOkClick}});!a.disableAnim&&b.el.setStyle("display","none");a.on("beforehide",Ext.Function.bind(a.hideMonthPicker,a,[false]))}return b},onOkClick:function(f,e){var b=this,c=e[0],d=e[1],a=new Date(d,c,b.getActive().getDate());if(a.getMonth()!==c)a=Ext.Date.getLastDateOfMonth(new Date(d,c,1));b.update(a);b.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){a.stopEvent();if(!this.disabled){var b=a.getWheelDelta();if(b>0)this.showPrevMonth();else b<0&&this.showNextMonth()}},handleDateClick:function(d,b){var a=this,c=a.handler;d.stopEvent();if(!a.disabled&&b.dateValue&&!Ext.fly(b.parentNode).hasCls(a.disabledCellCls)){a.doCancelFocus=a.focusOnSelect===false;a.setValue(new Date(b.dateValue));delete a.doCancelFocus;a.fireEvent("select",a,a.value);c&&c.call(a.scope||a,a,a.value);a.onSelect()}},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var a=this,b=a.todayBtn,c=a.handler;if(b&&!b.disabled){a.setValue(Ext.Date.clearTime(new Date));a.fireEvent("select",a,a.value);c&&c.call(a.scope||a,a,a.value);a.onSelect()}return a},selectedUpdate:function(g){var a=this,i=g.getTime(),e=a.cells,f=a.selectedCls,d=e.elements,c,h=d.length,b;e.removeCls(f);for(c=0;c<h;c++){b=Ext.fly(d[c]);if(b.dom.firstChild.dateValue==i){a.fireEvent("highlightitem",a,b);b.addCls(f);a.isVisible()&&!a.doCancelFocus&&Ext.fly(b.dom.firstChild).focus(50);break}}},fullUpdate:function(g){var a=this,s=a.cells.elements,A=a.textNodes,k=a.disabledCellCls,b=Ext.Date,c=0,z=0,B=a.isVisible(),E=+b.clearTime(g,true),F=+b.clearTime(new Date),v=a.minDate?b.clearTime(a.minDate,true):Number.NEGATIVE_INFINITY,w=a.maxDate?b.clearTime(a.maxDate,true):Number.POSITIVE_INFINITY,i=a.disabledDatesRE,D=a.disabledDatesText,l=a.disabledDays?a.disabledDays.join(""):false,x=a.disabledDaysText,n=a.format,t=b.getDaysInMonth(g),C=b.getFirstDateOfMonth(g),e=C.getDay()-a.startDay,r=b.add(g,b.MONTH,-1),y=a.longDayFormat,q,d,o,h,u,m,j,p,f;if(e<0)e+=7;t+=e;q=b.getDaysInMonth(r)-e;d=new Date(r.getFullYear(),r.getMonth(),q,a.initHour);if(a.showToday){h=b.clearTime(new Date);o=h<v||h>w||i&&n&&i.test(b.dateFormat(h,n))||l&&l.indexOf(h.getDay())!=-1;if(!a.disabled){a.todayBtn.setDisabled(o);a.todayKeyListener.setDisabled(o)}}u=function(c){f=+b.clearTime(d,true);c.title=b.format(d,y);c.firstChild.dateValue=f;if(f==F){c.className+=" "+a.todayCls;c.title=a.todayText}if(f==E){c.className+=" "+a.selectedCls;a.fireEvent("highlightitem",a,c);B&&a.floating&&Ext.fly(c.firstChild).focus(50)}if(f<v){c.className=k;c.title=a.minText;return}if(f>w){c.className=k;c.title=a.maxText;return}if(l)if(l.indexOf(d.getDay())!=-1){c.title=x;c.className=k}if(i&&n){p=b.dateFormat(d,n);if(i.test(p)){c.title=D.replace("%0",p);c.className=k}}};for(;c<a.numDays;++c){if(c<e){m=++q;j=a.prevCls}else if(c>=t){m=++z;j=a.nextCls}else{m=c-e+1;j=a.activeCls}A[c].innerHTML=m;s[c].className=j;d.setDate(d.getDate()+1);u(s[c])}a.monthBtn.setText(Ext.Date.format(g,a.monthYearFormat))},update:function(b,d){var a=this,c=a.activeDate;if(a.rendered){a.activeDate=b;if(!d&&c&&a.el&&c.getMonth()==b.getMonth()&&c.getFullYear()==b.getFullYear())a.selectedUpdate(b,c);else a.fullUpdate(b,c);a.innerEl.dom.title=Ext.String.format(a.ariaTitle,Ext.Date.format(a.activeDate,a.ariaTitleDateFormat))}return a},beforeDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn);delete a.textNodes;delete a.cells.elements}a.callParent()},onShow:function(){this.callParent(arguments);this.focusOnShow&&this.focus()}},function(){var b=this.prototype,a=Ext.Date;b.monthNames=a.monthNames;b.dayNames=a.dayNames;b.format=a.defaultFormat});Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,initComponent:function(){var a=this,d=Ext.isString,c,b;c=a.minValue;b=a.maxValue;if(d(c))a.minValue=a.parseDate(c);if(d(b))a.maxValue=a.parseDate(b);a.disabledDatesRE=null;a.initDisabledDays();a.callParent()},initValue:function(){var a=this,b=a.value;if(Ext.isString(b))a.value=a.rawToValue(b);a.callParent()},initDisabledDays:function(){if(this.disabledDates){for(var c=this.disabledDates,e=c.length-1,d="(?:",f=c.length,a,b=0;b<f;b++){a=c[b];d+=Ext.isDate(a)?"^"+Ext.String.escapeRegex(a.dateFormat(this.format))+"$":a;if(b!==e)d+="|"}this.disabledDatesRE=new RegExp(d+")")}},setDisabledDates:function(c){var a=this,b=a.picker;a.disabledDates=c;a.initDisabledDays();b&&b.setDisabledDates(a.disabledDatesRE)},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a;b&&b.setDisabledDays(a)},setMinValue:function(c){var a=this,b=a.picker,d=Ext.isString(c)?a.parseDate(c):c;a.minValue=d;if(b){b.minText=Ext.String.format(a.minText,a.formatDate(a.minValue));b.setMinDate(d)}},setMaxValue:function(c){var a=this,b=a.picker,d=Ext.isString(c)?a.parseDate(c):c;a.maxValue=d;if(b){b.maxText=Ext.String.format(a.maxText,a.formatDate(a.maxValue));b.setMaxDate(d)}},getErrors:function(b){var a=this,e=Ext.String.format,m=Ext.Date.clearTime,c=a.callParent(arguments),d=a.disabledDays,l=a.disabledDatesRE,j=a.minValue,i=a.maxValue,o=d?d.length:0,h=0,k,f,n,g;b=a.formatDate(b||a.processRawValue(a.getRawValue()));if(b===null||b.length<1)return c;k=b;b=a.parseDate(b);if(!b){c.push(e(a.invalidText,k,Ext.Date.unescapeFormat(a.format)));return c}g=b.getTime();j&&g<m(j).getTime()&&c.push(e(a.minText,a.formatDate(j)));i&&g>m(i).getTime()&&c.push(e(a.maxText,a.formatDate(i)));if(d){n=b.getDay();for(;h<o;h++)if(n===d[h]){c.push(a.disabledDaysText);break}}f=a.formatDate(b);l&&l.test(f)&&c.push(e(a.disabledDatesText,f));return c},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(g,e){var d=this,a=Ext.Date,b=null,f=d.useStrict,c;if(a.formatContainsHourInfo(e))b=a.parse(g,e,f);else{c=a.parse(g+" "+d.initTime,e+" "+d.initTimeFormat,f);if(c)b=a.clearTime(c)}return b},getSubmitValue:function(){var b=this.submitFormat||this.format,a=this.getValue();return a?Ext.Date.format(a,b):""},parseDate:function(b){if(!b||Ext.isDate(b))return b;var a=this,d=a.safeParse(b,a.format),g=a.altFormats,c=a.altFormatsArray,e=0,f;if(!d&&g){c=c||g.split("|");f=c.length;for(;e<f&&!d;++e)d=a.safeParse(b,c[e])}return d},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onSelect:function(c,b){var a=this;a.setValue(b);a.fireEvent("select",a,b);a.collapse()},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date)},onCollapse:function(){this.focus(false,60)},beforeBlur:function(){var a=this,b=a.parseDate(a.getRawValue()),c=a.focusTask;c&&c.cancel();b&&a.setValue(b)}});Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var l=this,c=l.splitter,j=c.collapseTarget,o=c.defaultSplitMin,i=c.vertical?"Width":"Height",n="min"+i,t="max"+i,w="get"+i,s=c.neighbors,v=s.length,d=j.el.getBox(),p=d.x,r=d.y,u=d.right,q=d.bottom,b=c.vertical?u-p:q-r,h,f,e,a,g,k,m;e=(j[n]||Math.min(b,o))-b;a=j[t];if(!a)a=1e9;else a-=b;m=b;for(h=0;h<v;++h){f=s[h];b=f[w]();g=b-f[t];k=b-(f[n]||Math.min(b,o));if(!isNaN(g))if(e<g)e=g;if(a>k)a=k}if(a-e<2)return null;d=new Ext.util.Region(r,u,q,p);l.constraintAdjusters[c.collapseDirection](d,e,a,c);l.dragInfo={minRange:e,maxRange:a,targetSize:m};return d},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b;a.right+=c+d.getWidth()},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b;a.bottom+=c+d.getHeight()},bottom:function(a,b,c,d){a.bottom=a.top-b;a.top-=c+d.getHeight()},right:function(a,b,c,d){a.right=a.left-b;a.left-=c+d.getWidth()}},onBeforeStart:function(i){var a=this,c=a.splitter,e=c.collapseTarget,f=c.neighbors,h=a.getSplitter().collapseEl,j=i.getTarget(),g=f.length,b,d;if(h&&j===c.collapseEl.dom)return false;if(e.collapsed)return false;for(b=0;b<g;++b){d=f[b];if(d.collapsed&&d.isHorz===e.isHorz)return false}if(!(a.constrainTo=a.calculateConstrainRegion()))return false;a.createDragOverlay();return true},performResize:function(j,i){var d=this,b=d.splitter,g=b.collapseDirection,h=b.collapseTarget,f=d.splitAdjusters[b.vertical?"horz":"vert"],a=i[f.index],c=d.dragInfo,e;if(g=="right"||g=="bottom")a=-a;a=Math.min(Math.max(c.minRange,a),c.maxRange);if(a){(e=b.ownerCt).suspendLayouts();f.adjustTarget(h,c.targetSize,a);e.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null;a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(undefined,b+c)}}}});Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var a=this;a.callParent();a.addCls(a.baseHandleCls,a.baseHandleCls+"-"+a.region,a.handleCls)},onRender:function(){this.callParent(arguments);this.el.unselectable()}});Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}">&#160;</div>',"</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",collapsible:false,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1e3,width:5,height:5,collapseTarget:"next",horizontal:false,vertical:false,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget(),c=a.getCollapseDirection();a.callParent();b.collapsed&&a.addCls(a.collapsedClsInternal);a.addCls(a.baseCls+"-"+a.orientation);Ext.applyIf(a.renderData,{collapseDir:c,collapsible:a.collapsible||b.collapsible})},onRender:function(){var a=this;a.callParent(arguments);if(a.performCollapse!==false){a.renderData.collapsible&&a.mon(a.collapseEl,"click",a.toggleTargetCmp,a);a.collapseOnDblClick&&a.mon(a.el,"dblclick",a.toggleTargetCmp,a)}a.mon(a.getCollapseTarget(),{collapse:a.onTargetCollapse,expand:a.onTargetExpand,scope:a});a.el.unselectable();a.tracker=Ext.create(a.getTrackerConfig());a.relayEvents(a.tracker,["beforedragstart","dragstart","dragend"])},getCollapseDirection:function(){var a=this,b=a.collapseDirection,c,d,e,f;if(!b){c=a.collapseTarget;if(c.isComponent)b=c.collapseDirection;if(!b){f=a.ownerCt.layout.type;if(c.isComponent){e=a.ownerCt.items;d=Number(e.indexOf(c)==e.indexOf(a)-1)<<1|Number(f=="hbox")}else d=Number(a.collapseTarget=="prev")<<1|Number(f=="hbox");b=(["bottom","right","top","left"])[d]}a.collapseDirection=b}a.orientation=b=="top"||b=="bottom"?"horizontal":"vertical";a[a.orientation]=true;return b},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget=="prev"?a.previousSibling():a.nextSibling()},onTargetCollapse:function(){this.el.addCls([this.collapsedClsInternal,this.collapsedCls])},onTargetExpand:function(){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls])},toggleTargetCmp:function(){var a=this.getCollapseTarget(),c=a.placeholder,b;if(c&&!c.hidden)b=true;else b=!a.hidden;if(b)if(a.collapsed)a.expand();else if(a.collapseDirection)a.collapse();else a.collapse(this.renderData.collapseDir)},setSize:function(){var a=this;a.callParent(arguments);Ext.isIE&&a.el&&a.el.repaint()}});Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}});Ext.define("Ext.layout.container.Border",{alias:"layout.border",extend:"Ext.layout.container.Container",requires:["Ext.resizer.BorderSplitter","Ext.Component","Ext.fx.Anim"],alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",padding:undefined,percentageRe:/(\d+)%/,axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,collapseDirections:{north:"top",south:"bottom",east:"right",west:"left"},manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(r,s,m){for(var l=this,e=l.axisProps[m],f=!e.horizontal,u=e.sizeProp,j=0,n=r.childItems,t=n.length,d,a,c,b,h,q,i,o,g,p,k=0;k<t;++k){a=n[k];b=a.target;a.layoutPos={};if(b.region){a.region=h=b.region;a.isCenter=b.isCenter;a.isHorz=b.isHorz;a.isVert=b.isVert;a.weight=b.weight||l.regionWeights[h]||0;s[b.id]=a;if(b.isCenter){d=a;c=b.flex;r.centerRegion=d;continue}if(f!==a.isVert)continue;a.reverseWeighting=h==e.borderEnd;i=b[u];o=typeof i;if(!b.collapsed)if(o=="string"&&(q=l.percentageRe.exec(i)))a.percentage=parseInt(q[1],10);else if(b.flex)j+=a.flex=b.flex}}if(d){g=d.target;if(p=g.placeholderFor){if(!c&&f===p.collapsedVertical()){c=0;d.collapseAxis=m}}else if(g.collapsed&&f===g.collapsedVertical()){c=0;d.collapseAxis=m}}if(c==null)c=1;j+=c;return Ext.apply({before:f?"top":"left",totalFlex:j},e)},beginLayout:function(c){var b=this,f=b.getLayoutItems(),g=b.padding,k=typeof g,l=false,e,h,i,d,j,a;if(g){if(k=="string"||k=="number")g=Ext.util.Format.parseBox(g)}else{g=c.getEl("getTargetEl").getPaddingInfo();l=true}c.outerPad=g;c.padOnContainer=l;for(d=0,i=f.length;d<i;++d){h=f[d];a=b.getSplitterTarget(h);if(a&&h.hidden!==a.hidden)if(h.hidden)h.show();else h.hide()}b.callParent(arguments);f=c.childItems;i=f.length;j={};c.borderAxisHorz=b.beginAxis(c,j,"horz");c.borderAxisVert=b.beginAxis(c,j,"vert");for(d=0;d<i;++d){e=f[d];a=b.getSplitterTarget(e.target);if(a){e.collapseTarget=a=j[a.id];e.weight=a.weight;e.reverseWeighting=a.reverseWeighting;a.splitter=e;e.isHorz=a.isHorz;e.isVert=a.isVert}}b.sortWeightedItems(f,"reverseWeighting");b.setupSplitterNeighbors(f)},calculate:function(e){var g=this,n=g.getContainerSize(e),j=e.childItems,m=j.length,d=e.borderAxisHorz,f=e.borderAxisVert,h=e.outerPad,o=e.padOnContainer,c,a,i,b,l,k;d.begin=h.left;f.begin=h.top;l=d.end=d.flexSpace=n.width+(o?h.left:-h.right);k=f.end=f.flexSpace=n.height+(o?h.top:-h.bottom);for(c=0;c<m;++c){a=j[c];i=a.getMarginInfo();if(a.isHorz||a.isCenter){d.addUnflexed(i.width);l-=i.width}if(a.isVert||a.isCenter){f.addUnflexed(i.height);k-=i.height}if(!a.flex&&!a.percentage)if(a.isHorz||a.isCenter&&a.collapseAxis==="horz"){b=a.getProp("width");d.addUnflexed(b);if(a.collapseTarget)l-=b}else if(a.isVert||a.isCenter&&a.collapseAxis==="vert"){b=a.getProp("height");f.addUnflexed(b);if(a.collapseTarget)k-=b}}for(c=0;c<m;++c){a=j[c];i=a.getMarginInfo();if(a.percentage)if(a.isHorz){b=Math.ceil(l*a.percentage/100);b=a.setWidth(b);d.addUnflexed(b)}else if(a.isVert){b=Math.ceil(k*a.percentage/100);b=a.setHeight(b);f.addUnflexed(b)}}for(c=0;c<m;++c){a=j[c];if(!a.isCenter){g.calculateChildAxis(a,d);g.calculateChildAxis(a,f)}}if(g.finishAxis(e,f)+g.finishAxis(e,d)<2)g.done=false;else g.finishPositions(j)},calculateChildAxis:function(b,a){var i=b.collapseTarget,k="set"+a.sizePropCap,g=a.sizeProp,j=b.getMarginInfo()[g],e,f,h,d,c;if(i)e=i.region;else{e=b.region;h=b.flex}f=e==a.borderBegin;if(!f&&e!=a.borderEnd){b[k](a.end-a.begin-j);d=a.begin}else{if(h){c=Math.ceil(a.flexSpace*(h/a.totalFlex));c=b[k](c)}else if(b.percentage)c=b.peek(g);else c=b.getProp(g);c+=j;if(f){d=a.begin;a.begin+=c}else a.end=d=a.end-c}b.layoutPos[a.posProp]=d},finishAxis:function(d,a){var c=a.end-a.begin,b=d.centerRegion;if(b){b["set"+a.sizePropCap](c-b.getMarginInfo()[a.sizeProp]);b.layoutPos[a.posProp]=a.begin}return Ext.isNumber(c)?1:0},finishPositions:function(c){for(var d=c.length,a,b=0;b<d;++b){a=c[b];a.setProp("x",a.layoutPos.x+a.marginInfo.left);a.setProp("y",a.layoutPos.y+a.marginInfo.top)}},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(b){var a=b.collapseTarget;return a&&a.collapsed?a.placeholder||a:a},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},insertSplitter:function(a,e){var c=a.region,b={xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:!!a.hidden},d=e+(c=="south"||c=="east"?0:1);if(a.isHorz)b.height=null;else b.width=null;if(a.collapseMode=="mini")b.collapsedCls=a.collapsedCls;a.splitter=this.owner.add(d,b)},onAdd:function(a,e){var b=this,d=a.placeholderFor,c=a.region;b.callParent(arguments);if(c){Ext.apply(a,b.regionFlags[c]);if(c=="center")b.centerRegion=a;else{a.collapseDirection=this.collapseDirections[c];a.split&&(a.isHorz||a.isVert)&&b.insertSplitter(a,e)}if(!a.hasOwnProperty("collapseMode"))a.collapseMode=b.panelCollapseMode;if(!a.hasOwnProperty("animCollapse"))if(a.collapseMode!="placeholder")a.animCollapse=false;else a.animCollapse=b.panelCollapseAnimate}else if(d){Ext.apply(a,b.regionFlags[d.region]);a.region=d.region;a.weight=d.weight}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(a){var b=this,d=a.region,c=a.splitter;if(d){if(a.isCenter)b.centerRegion=null;delete a.isCenter;delete a.isHorz;delete a.isVert;if(c){b.owner.doRemove(c,true);delete a.splitter}}b.callParent(arguments)},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true},south:{isCenter:false,isHorz:false,isVert:true},west:{isCenter:false,isHorz:true,isVert:false},east:{isCenter:false,isHorz:true,isVert:false}},setupSplitterNeighbors:function(k){for(var j={},m=k.length,l=this.touchedRegions,a,h,f,d,b,g,e,c,i=0;i<m;++i){b=k[i].target;g=b.region;if(b.isCenter)h=b;else if(g){c=l[g];for(a=0,f=c.length;a<f;++a){d=j[c[a]];d&&d.neighbors.push(b)}if(b.placeholderFor)e=b.placeholderFor.splitter;else e=b.splitter;if(e)e.neighbors=[];j[g]=e}}if(h){c=l.center;for(a=0,f=c.length;a<f;++a){d=j[c[a]];d&&d.neighbors.push(h)}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{setsWidth:1,setsHeight:0},horz:{setsWidth:0,setsHeight:1},flexAll:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(b){var g=this,a=this.sizePolicies,d,c,e,f;if(b.isCenter){f=b.placeholderFor;return f?f.collapsedVertical()?a.vert:a.horz:b.collapsed?b.collapsedVertical()?a.vert:a.horz:a.flexAll}d=b.collapseTarget;if(d)return d.isVert?a.vert:a.horz;if(b.region){if(b.isVert){c=b.height;e=a.vert}else{c=b.width;e=a.horz}return b.flex||typeof c=="string"&&g.percentageRe.test(c)?a.flexAll:e}return g.autoSizePolicy}},function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.util.KeyNav"],isCellModel:true,enableKeyNav:true,preventWrap:false,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(b){var a=this;a.primaryView=b;a.views=a.views||[];a.views.push(b);a.bindStore(b.getStore(),true);b.on({cellmousedown:a.onMouseDown,refresh:a.onViewRefresh,scope:a});a.enableKeyNav&&a.initKeyNav(b)},initKeyNav:function(b){var a=this;if(!b.rendered){b.on("render",Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:true});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav(b.el,{up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,tab:a.onKeyTab,scope:a})},getHeaderCt:function(){return this.primaryView.headerCt},onKeyUp:function(a){this.keyNavigation=true;this.move("up",a);this.keyNavigation=false},onKeyDown:function(a){this.keyNavigation=true;this.move("down",a);this.keyNavigation=false},onKeyLeft:function(a){this.keyNavigation=true;this.move("left",a);this.keyNavigation=false},onKeyRight:function(a){this.keyNavigation=true;this.move("right",a);this.keyNavigation=false},move:function(c,d){var a=this,b=a.primaryView.walkCells(a.getCurrentPosition(),c,d,a.preventWrap);if(b)return a.setCurrentPosition(b)},getCurrentPosition:function(){return this.selection},setCurrentPosition:function(b){var a=this;a.lastSelection=a.selection;if(a.selection)a.onCellDeselect(a.selection);if(b){a.nextSelection=new a.Selection(a);a.nextSelection.setPosition(b);a.onCellSelect(a.nextSelection);return a.selection=a.nextSelection}},onStoreRemove:function(d,e,c){var b=this,a=b.getCurrentPosition();b.callParent(arguments);if(a)if(a.row==c)if(c<d.getCount()-1){a.setPosition(c,a.column);b.setCurrentPosition(a)}else delete b.selection;else if(c<a.row){a.setPosition(a.row-1,a.column);b.setCurrentPosition(a)}},onMouseDown:function(a,d,b,e,g,c){this.setCurrentPosition({view:a,row:c,column:b})},onCellSelect:function(a,b){a&&a.row!==undefined&&this.doSelect(this.view.getStore().getAt(a.row),false,b)},onCellDeselect:function(a,b){a&&a.row!==undefined&&this.doDeselect(this.view.getStore().getAt(a.row),b)},onSelectChange:function(e,g,f,h){var a=this,b,c,d=a.primaryView;if(g){b=a.nextSelection;c="select"}else{b=a.lastSelection||a.noSelection;c="deselect"}if((f||a.fireEvent("before"+c,a,e,b.row,b.column))!==false&&h()!==false){if(g){d.onCellSelect(b);d.onCellFocus(b)}else{d.onCellDeselect(b);delete a.selection}!f&&a.fireEvent(c,a,e,b.row,b.column)}},onKeyTab:function(b){var a=this,c=a.primaryView.editingPlugin;if(c&&a.wasEditing)a.onEditorTab(c,b);else a.move(b.shiftKey?"left":"right",b)},onEditorTab:function(d,c){var a=this,e=c.shiftKey?"left":"right",b=a.move(e,c);if(b)if(d.startEditByPosition(b))a.wasEditing=false;else{a.wasEditing=true;if(!b.columnHeader.dataIndex)a.onEditorTab(d,c)}},refresh:function(){var b=this.getCurrentPosition(),a;if(b&&(a=this.store.indexOf(this.selected.last()))!==-1)b.row=a},onViewRefresh:function(){var a=this,d=a.getCurrentPosition(),f=a.primaryView,c=f.headerCt,e,b;if(d){e=d.record;b=d.columnHeader;a.onCellDeselect(d,true);if(!b.isDescendantOf(c))b=c.queryById(b.id)||c.down('[text="'+b.text+'"]')||c.down('[dataIndex="'+b.dataIndex+'"]');if(b&&f.store.indexOfId(e.getId())!==-1){(a.selection=new a.Selection(a)).setPosition(e,b);a.onCellSelect(a.selection,true)}}},selectByPosition:function(a){this.setCurrentPosition(a)}},function(){var a=this.prototype.Selection=function(a){this.model=a};a.prototype.setPosition=function(b,d){var a=this,c=a.model.primaryView,e;if(arguments.length===1){if(b.view)c=b.view;d=b.column;b=b.row}e=c.store;if(typeof b==="number"){a.row=b;a.record=e.getAt(b)}else if(b.isModel){a.record=b;a.row=c.indexOf(b)}else if(b.tagName){a.record=c.getRecord(b);a.row=c.indexOf(a.record)}if(typeof d==="number"){a.column=d;a.columnHeader=c.getHeaderAtIndex(d)}else{a.columnHeader=d;a.column=d.getIndex()}return a}});Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:true,ignoreRightMouseSelection:false,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.views=[];this.callParent(arguments)},bindComponent:function(b){var a=this;a.views=a.views||[];a.views.push(b);a.bindStore(b.getStore(),true);b.on({itemmousedown:a.onRowMouseDown,scope:a});a.enableKeyNav&&a.initKeyNav(b)},initKeyNav:function(b){var a=this;if(!b.rendered){b.on("render",Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:true});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b,eventName:"itemkeydown",processEvent:function(d,b,e,c,a){a.record=b;a.recordIndex=c;return a},up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,pageDown:a.onKeyPageDown,pageUp:a.onKeyPageUp,home:a.onKeyHome,end:a.onKeyEnd,space:a.onKeySpace,scope:a})},getRowsVisible:function(){var e=false,a=this.views[0],d=a.getNode(0),b,c;if(d){b=Ext.fly(d).getHeight();c=a.el.getHeight();e=Math.floor(c/b)}return e},onKeyEnd:function(c){var a=this,b=a.store.getAt(a.store.getCount()-1);if(b)if(c.shiftKey){a.selectRange(b,a.lastFocused||0);a.setLastFocused(b)}else if(c.ctrlKey)a.setLastFocused(b);else a.doSelect(b)},onKeyHome:function(c){var a=this,b=a.store.getAt(0);if(b)if(c.shiftKey){a.selectRange(b,a.lastFocused||0);a.setLastFocused(b)}else if(c.ctrlKey)a.setLastFocused(b);else a.doSelect(b,false)},onKeyPageUp:function(b){var a=this,f=a.getRowsVisible(),e,d,c;if(f){e=b.recordIndex;d=e-f;if(d<0)d=0;c=a.store.getAt(d);if(b.shiftKey){a.selectRange(c,b.record,b.ctrlKey,"up");a.setLastFocused(c)}else if(b.ctrlKey){b.preventDefault();a.setLastFocused(c)}else a.doSelect(c)}},onKeyPageDown:function(b){var a=this,f=a.getRowsVisible(),e,d,c;if(f){e=b.recordIndex;d=e+f;if(d>=a.store.getCount())d=a.store.getCount()-1;c=a.store.getAt(d);if(b.shiftKey){a.selectRange(c,b.record,b.ctrlKey,"down");a.setLastFocused(c)}else if(b.ctrlKey){b.preventDefault();a.setLastFocused(c)}else a.doSelect(c)}},onKeySpace:function(){var b=this,a=b.lastFocused;if(a)if(b.isSelected(a))b.doDeselect(a,false);else b.doSelect(a,true)},onKeyUp:function(d){var a=this,c=a.store.indexOf(a.lastFocused),b;if(c>0){b=a.store.getAt(c-1);if(d.shiftKey&&a.lastFocused)if(a.isSelected(a.lastFocused)&&a.isSelected(b)){a.doDeselect(a.lastFocused,true);a.setLastFocused(b)}else if(!a.isSelected(a.lastFocused)){a.doSelect(a.lastFocused,true);a.doSelect(b,true)}else a.doSelect(b,true);else if(d.ctrlKey)a.setLastFocused(b);else a.doSelect(b)}},onKeyDown:function(c){var a=this,d=a.store.indexOf(a.lastFocused),b;if(d+1<a.store.getCount()){b=a.store.getAt(d+1);if(a.selected.getCount()===0)if(!c.ctrlKey)a.doSelect(b);else a.setLastFocused(b);else if(c.shiftKey&&a.lastFocused)if(a.isSelected(a.lastFocused)&&a.isSelected(b)){a.doDeselect(a.lastFocused,true);a.setLastFocused(b)}else if(!a.isSelected(a.lastFocused)){a.doSelect(a.lastFocused,true);a.doSelect(b,true)}else a.doSelect(b,true);else if(c.ctrlKey)a.setLastFocused(b);else a.doSelect(b)}},scrollByDeltaX:function(d){var b=this.views[0],c=b.up(),a=c.horizontalScroller;a&&a.scrollByDeltaX(d)},onKeyLeft:function(){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(c,b,e,d,a){if(!this.allowRightMouseSelection(a))return;(a.button===0||!this.isSelected(b))&&this.selectWithEvent(b,a)},allowRightMouseSelection:function(b){var a=this.ignoreRightMouseSelection&&b.button!==0;if(a)a=this.hasSelection();return!a},onSelectChange:function(e,g,d,i){var a=this,f=a.views,j=f.length,k=a.store,b=k.indexOf(e),h=g?"select":"deselect",c=0;if((d||a.fireEvent("before"+h,a,e,b))!==false&&i()!==false){for(;c<j;c++)if(g)f[c].onRowSelect(b,d);else f[c].onRowDeselect(b,d);!d&&a.fireEvent(h,a,e,b)}},onLastFocusChanged:function(g,e,h){var c=this.views,f=c.length,d=this.store,b,a=0;if(g){b=d.indexOf(g);if(b!=-1)for(;a<f;a++)c[a].onRowFocus(b,false)}if(e){b=d.indexOf(e);if(b!=-1)for(a=0;a<f;a++)c[a].onRowFocus(b,true,h)}this.callParent()},onEditorTab:function(c,e){var d=this,b=d.views[0],f=c.getActiveRecord(),h=c.getActiveColumn(),a=b.getPosition(f,h),g=e.shiftKey?"left":"right";do a=b.walkCells(a,g,e,d.preventWrap);while(a&&!b.headerCt.getHeaderAtIndex(a.column).getEditor());a&&c.startEditByPosition(a)},selectByPosition:function(a){var b=this.store.getAt(a.row);this.select(b)},selectNext:function(h,g){var b=this,d=b.store,e=b.getSelection(),f=e[e.length-1],a=d.indexOf(f)+1,c;if(a===d.getCount()||a===0)c=false;else{b.doSelect(a,h,g);c=true}return c},selectPrevious:function(g,e){var a=this,f=a.getSelection(),d=f[0],c=a.store.indexOf(d)-1,b;if(c<0)b=false;else{a.doSelect(c,g,e);b=true}return b}});Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:true,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",bindComponent:function(b){var a=this;a.sortable=false;a.callParent(arguments);if(!a.hasLockedHeader()||b.headerCt.lockedCt){if(a.showHeaderCheckbox!==false)b.headerCt.on("headerclick",a.onHeaderClick,a);a.addCheckbox(true);a.mon(b.ownerCt,"reconfigure",a.onReconfigure,a)}},hasLockedHeader:function(){for(var b=this.views,c=b.length,a=0;a<c;a++)if(b[a].headerCt.lockedCt)return true;return false},addCheckbox:function(e){var b=this,a=b.injectCheckbox,c=b.views[0],d=c.headerCt;if(a!==false){if(a=="first")a=0;else if(a=="last")a=d.getColumnCount();Ext.suspendLayouts();d.add(a,b.getHeaderConfig());Ext.resumeLayouts()}e!==true&&c.refresh()},onReconfigure:function(c,b,a){a&&this.addCheckbox()},toggleUiHeader:function(d){var b=this.views[0],c=b.headerCt,a=c.child("gridcolumn[isCheckerHd]");if(a)if(d)a.el.addCls(this.checkerOnCls);else a.el.removeCls(this.checkerOnCls)},onHeaderClick:function(e,b,c){if(b.isCheckerHd){c.stopEvent();var a=this,d=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");a.preventFocus=true;if(d)a.deselectAll();else a.selectAll();delete a.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==false;return{isCheckerHd:b,text:"&#160;",width:a.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:b?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},renderer:function(g,b){var a=Ext.baseCSSPrefix;b.tdCls=a+"grid-cell-special "+a+"grid-cell-row-checker";return'<div class="'+a+'grid-row-checker">&#160;</div>'},onRowMouseDown:function(f,d,h,g,b){f.el.focus();var a=this,e=b.getTarget("."+Ext.baseCSSPrefix+"grid-row-checker"),c;if(!a.allowRightMouseSelection(b))return;if(a.checkOnly&&!e)return;if(e){c=a.getSelectionMode();c!=="SINGLE"&&a.setSelectionMode("SIMPLE");a.selectWithEvent(d,b);a.setSelectionMode(c)}else a.selectWithEvent(d,b)},onSelectChange:function(){this.callParent(arguments);var a=this.selected.getCount()===this.store.getCount();this.toggleUiHeader(a)}});Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",pruneRemoved:false,onKeyRight:function(d,c){var a=this.getLastFocused(),b=this.view;if(a)if(a.isExpanded())this.onKeyDown(d,c);else!a.isLeaf()&&b.expand(a)},onKeyLeft:function(d){var b=this.getLastFocused(),e=this.view,c=e.getSelectionModel(),a,g;if(b){a=b.parentNode;if(b.isExpanded())e.collapse(b);else if(a&&!a.isRoot())if(d.shiftKey){c.selectRange(a,b,d.ctrlKey,"up");c.setLastFocused(a)}else if(d.ctrlKey)c.setLastFocused(a);else c.select(a)}},onKeyPress:function(a){var c=a.getKey(),b,e;if(c===a.SPACE||c===a.ENTER){a.stopEvent();b=this.getLastSelected();if(b)this.view.onCheckChange(b)}else this.callParent(arguments)}});Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.layout.component.Tab","Ext.util.KeyNav"],componentLayout:"tab",isTab:true,baseCls:Ext.baseCSSPrefix+"tab",activeCls:"active",closableCls:"closable",closable:true,closeText:"Close Tab",active:false,childEls:["closeEl"],scale:false,position:"top",initComponent:function(){var a=this;a.addEvents("activate","deactivate","beforeclose","close");a.callParent(arguments);a.card&&a.setCard(a.card)},getTemplateArgs:function(){var b=this,a=b.callParent();a.closable=b.closable;a.closeText=b.closeText;return a},beforeRender:function(){var a=this,b=a.up("tabbar"),c=a.up("tabpanel");a.callParent();a.addClsWithUI(a.position);a.syncClosableUI();if(!a.minWidth){a.minWidth=b?b.minTabWidth:a.minWidth;if(!a.minWidth&&c)a.minWidth=c.minTabWidth;if(a.minWidth&&a.iconCls)a.minWidth+=25}if(!a.maxWidth){a.maxWidth=b?b.maxTabWidth:a.maxWidth;if(!a.maxWidth&&c)a.maxWidth=c.maxTabWidth}},onRender:function(){var a=this;a.callParent(arguments);a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},enable:function(){var a=this;a.callParent(arguments);a.removeClsWithUI(a.position+"-disabled");return a},disable:function(){var a=this;a.callParent(arguments);a.addClsWithUI(a.position+"-disabled");return a},onDestroy:function(){var a=this;Ext.destroy(a.keyNav);delete a.keyNav;a.callParent(arguments)},setClosable:function(b){var a=this;b=!arguments.length||!!b;if(a.closable!=b){a.closable=b;if(a.card)a.card.closable=b;a.syncClosableUI();if(a.rendered){a.syncClosableElements();a.updateLayout()}}},syncClosableElements:function(){var a=this,b=a.closeEl;if(a.closable){if(!b)a.closeEl=a.btnWrap.insertSibling({tag:"a",cls:a.baseCls+"-close-btn",href:"#",title:a.closeText},"after")}else if(b){b.remove();delete a.closeEl}},syncClosableUI:function(){var a=this,b=[a.closableCls,a.closableCls+"-"+a.position];if(a.closable)a.addClsWithUI(b);else a.removeClsWithUI(b)},setCard:function(b){var a=this;a.card=b;a.setText(a.title||b.title);a.setIconCls(a.iconCls||b.iconCls);a.setIcon(a.icon||b.icon)},onCloseClick:function(){var a=this;if(a.fireEvent("beforeclose",a)!==false)if(a.tabBar){if(a.tabBar.closeTab(a)===false)return}else a.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(b){var a=this;if(a.tabBar)a.tabBar.onClick(b,a.el)},onDeleteKey:function(){this.closable&&this.onCloseClick()},activate:function(b){var a=this;a.active=true;a.addClsWithUI([a.activeCls,a.position+"-"+a.activeCls]);b!==true&&a.fireEvent("activate",a)},deactivate:function(b){var a=this;a.active=false;a.removeClsWithUI([a.activeCls,a.position+"-"+a.activeCls]);b!==true&&a.fireEvent("deactivate",a)}});Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Header",alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab"],isTabBar:true,defaultType:"tab",plain:false,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip<tpl if="ui"> {baseCls}-strip-{ui}<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl></tpl>"></div>'],initComponent:function(){var a=this;a.plain&&a.setUI(a.ui+"-plain");a.addClsWithUI(a.dock);a.addEvents("change");a.callParent(arguments);a.layout.align=a.orientation=="vertical"?"left":"top";a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout);a.remove(a.titleCmp);delete a.titleCmp;Ext.apply(a.renderData,{bodyCls:a.bodyCls})},getLayout:function(){var a=this;a.layout.type=a.dock==="top"||a.dock==="bottom"?"hbox":"vbox";return a.callParent(arguments)},onAdd:function(a){a.position=this.dock;this.callParent(arguments)},onRemove:function(b){var a=this;if(b===a.previousTab)a.previousTab=null;a.callParent(arguments)},afterComponentLayout:function(a){this.callParent(arguments);this.strip.setWidth(a)},onClick:function(d,g){var c=this,f=d.getTarget("."+Ext.tab.Tab.prototype.baseCls),a=f&&Ext.getCmp(f.id),e=c.tabPanel,b=a&&a.closeEl&&g===a.closeEl.dom;b&&d.preventDefault();if(a&&a.isDisabled&&!a.isDisabled())if(a.closable&&b)a.onCloseClick();else{if(e)e.setActiveTab(a.card);else c.setActiveTab(a);a.focus()}},closeTab:function(b){var d=this,a=b.card,e=d.tabPanel,c;if(a&&a.fireEvent("beforeclose",a)===false)return false;c=d.findNextActivatable(b);Ext.suspendLayouts();if(e&&a){delete b.ownerCt;a.fireEvent("close",a);e.remove(a);if(!e.getComponent(a)){b.fireClose();d.remove(b)}else{b.ownerCt=d;Ext.resumeLayouts(true);return false}}if(c){if(e)e.setActiveTab(c.card);else d.setActiveTab(c);c.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(b){var a=this;if(b.active&&a.items.getCount()>1)return a.previousTab&&a.previousTab!==b&&!a.previousTab.disabled?a.previousTab:b.next("tab[disabled=false]")||b.prev("tab[disabled=false]")},setActiveTab:function(b){var a=this;if(!b.disabled&&b!==a.activeTab){if(a.activeTab)if(a.activeTab.isDestroyed)a.previousTab=null;else{a.previousTab=a.activeTab;a.activeTab.deactivate()}b.activate();a.activeTab=b;a.fireEvent("change",a,b,b.card);a.on({afterlayout:a.afterTabActivate,scope:a,single:true});a.updateLayout()}},afterTabActivate:function(){this.layout.overflowHandler.scrollToItem(this.activeTab)}});Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:true,flex:1});Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:false});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(b){var a=this;a.callParent(arguments);a.triggerButtonCls=a.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-"+b.getNames().right;a.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(a,b){this.callParent(arguments);if(!b){this.clearOverflow(a);this.layout.cacheChildItems(a)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner.id;a.menu=new Ext.menu.Menu({listeners:{scope:a,beforeshow:a.beforeMenuShow}});a.menuTrigger=new Ext.button.Button({id:c+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+a.triggerButtonCls,hidden:true,ownerCt:b.owner,ownerLayout:b,iconCls:Ext.baseCSSPrefix+a.getOwnerType(b.owner)+"-more-icon",ui:b.owner instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:a.menu,getSplitCls:function(){return""}});return a.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(d){var a=this,f=a.layout,b=f.getNames(),e="get"+b.widthCap,g=d.state.boxPlan,c=[null,null];a.showTrigger(d);c[b.heightIndex]=(g.maxSize-a.menuTrigger["get"+b.heightCap]())/2;a.menuTrigger.setPosition.apply(a.menuTrigger,c);return{reservedSpace:a.menuTrigger[e]()}},captureChildElements:function(){var a=this.menuTrigger;a.rendering&&a.finishRender()},clearOverflow:function(){var b=this,c=b.menuItems,a,d=0,f=c.length,e=b.layout.owner;e.suspendLayouts();b.captureChildElements();b.hideTrigger();e.resumeLayouts();for(;d<f;d++){a=c[d];a.suspendLayouts();a.show();a.resumeLayouts({isRoot:true})}c.length=0},showTrigger:function(i){var a=this,l=a.layout,g=l.owner,m=l.getNames(),p=m.x,j=m.width,o=i.state.boxPlan,h=o.targetSize[j],k=i.childItems,n=k.length,c=a.menuTrigger,f,d,b,e;c.suspendLayouts();c.show();c.resumeLayouts({isRoot:true});h-=a.menuTrigger.getWidth();g.suspendLayouts();a.menuItems.length=0;for(b=0;b<n;b++){f=k[b];e=f.props;if(e[p]+e[j]>h){d=f.target;a.menuItems.push(d);d.hide()}}g.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;a&&a.hide()},beforeMenuShow:function(a){var e=this,f=e.menuItems,c=0,h=f.length,b,d,g=function(b,a){return b.isXType("buttongroup")&&!(a instanceof Ext.toolbar.Separator)};a.suspendLayouts();e.clearMenu();a.removeAll();for(;c<h;c++){b=f[c];if(!c&&b instanceof Ext.toolbar.Separator)continue;d&&(g(b,d)||g(d,b))&&a.add("-");e.addComponentToMenu(a,b);d=b}a.items.length<1&&a.add(e.noItemsMenuText);a.resumeLayouts()},createMenuConfig:function(a,d){var b=Ext.apply({},a.initialConfig),c=a.toggleGroup;Ext.copyTo(b,a,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(b,{text:a.overflowText||a.text,hideOnClick:d,destroyMenu:false});(c||a.enableToggle)&&Ext.apply(b,{group:c,checked:a.pressed,listeners:{checkchange:function(c,b){a.toggle(b)}}});delete b.ownerCt;delete b.xtype;delete b.id;return b},addComponentToMenu:function(b,a){var d=this,c,e,f;if(a instanceof Ext.toolbar.Separator)b.add("-");else if(a.isComponent)if(a.isXType("splitbutton"))b.add(d.createMenuConfig(a,true));else if(a.isXType("button"))b.add(d.createMenuConfig(a,!a.menu));else if(a.isXType("buttongroup")){e=a.items.items;f=e.length;for(c=0;c<f;c++)d.addComponentToMenu(b,e[c])}else b.add(Ext.create(Ext.getClassName(a),d.createMenuConfig(a)))},clearMenu:function(){var d=this.moreMenu,b,a,e,c;if(d&&d.items){b=d.items.items;e=b.length;for(a=0;a<e;a++){c=b[a];if(c.menu)delete c.menu}}},destroy:function(){Ext.destroy(this.menu,this.menuTrigger)}});Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:undefined,stretchMaxPartner:undefined,type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:true,manageMargins:true,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" style="position:absolute;',"width:20000px;","left:0px;top:0px;",'height:1px">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(){var a=this,b;a.callParent(arguments);a.flexSortFn=Ext.Function.bind(a.flexSort,a);a.initOverflowHandler();b=typeof a.padding;if(b=="string"||b=="number"){a.padding=Ext.util.Format.parseBox(a.padding);a.padding.height=a.padding.top+a.padding.bottom;a.padding.width=a.padding.left+a.padding.right}},getNames:function(){return this.names},getItemSizePolicy:function(f,g){var a=this,c=a.sizePolicy,d=a.align,b=d,e;if(d==="stretch"){e=(g||a.owner.getSizeModel())[a.names.height];if(e.shrinkWrap)b="stretchmax"}else if(d!=="stretchmax")b="";if(f.flex)c=c.flex;return c[b]},flexSort:function(b,a){var c=this.getNames().maxWidth,d=Infinity;b=b.target[c]||d;a=a.target[c]||d;return!isFinite(b)&&!isFinite(a)?0:b-a},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},minSizeSortFn:function(b,a){return a.available-b.available},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;if(b.direction==="vertical"&&a.collapsedVertical()){a.collapseMemento.capture(["flex"]);delete a.flex}else if(b.direction==="horizontal"&&a.collapsedHorizontal()){a.collapseMemento.capture(["flex"]);delete a.flex}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(b){var a=this,c=a.owner.stretchMaxPartner,e=a.innerCt.dom.style,d=a.getNames();a.overflowHandler.beginLayout(b);if(typeof c==="string")c=Ext.getCmp(c)||a.owner.query(c)[0];b.stretchMaxPartner=c&&b.context.getCmp(c);a.callParent(arguments);b.innerCtContext=b.getEl("innerCt",a);a.scrollParallel=!!(a.owner.autoScroll||a.owner[d.overflowX]);a.scrollPerpendicular=!!(a.owner.autoScroll||a.owner[d.overflowY]);if(a.scrollParallel)a.scrollPos=a.owner.getTargetEl().dom[d.scrollLeft];e.width="";e.height="";a.cacheFlexes(b)},beginLayoutCycle:function(a,l){var c=this,b=c.align,g=c.getNames(),d=c.pack,h=g.heightModel,f,i,e,j,k;c.overflowHandler.beginLayoutCycle(a,l);c.callParent(arguments);a.parallelSizeModel=a[g.widthModel];a.perpendicularSizeModel=a[h];a.boxOptions={align:b={stretch:b=="stretch",stretchmax:b=="stretchmax",center:b==g.center},pack:d={center:d=="center",end:d=="end"}};if(b.stretch&&a.perpendicularSizeModel.shrinkWrap){b.stretchmax=true;b.stretch=false}if(a.parallelSizeModel.shrinkWrap)d.center=d.end=false;if(b.stretchmax){f=a.childItems;j=f.length;k=c.sizeModels.shrinkWrap;for(e=0;e<j;++e){i=f[e];if(!i[h].configured)i[h]=k}}},cacheFlexes:function(b){var j=this.getNames(),l=j.widthModel,g=0,i=b.childItems,h=i.length,e=[],f=0,k=j.minWidth,c,a,d;while(h--){a=i[h];if(a[l].calculated){c=a.target;a.flex=d=c.flex;if(d){g+=d;e.push(a);f+=c[k]||0}}}b.flexedItems=e;b.flexedMinSize=f;b.totalFlex=g;Ext.Array.sort(e,this.flexSortFn)},calculate:function(b){var a=this,f=a.getContainerSize(b),e=a.getNames(),c=b.state,d=c.boxPlan||(c.boxPlan={}),g=Ext.getScrollbarSize()[e.width];d.targetSize=f;if(g&&a.scrollPerpendicular&&b.parallelSizeModel.shrinkWrap&&!b.boxOptions.align.stretch&&!b.perpendicularSizeModel.shrinkWrap){c.additionalScrollbarWidth=g;if(!f[e.gotHeight]){a.done=false;return}}else c.additionalScrollbarWidth=0;if(!b.parallelSizeModel.shrinkWrap&&!f[e.gotWidth]){a.done=false;return}if(!c.parallelDone)c.parallelDone=a.calculateParallel(b,e,d);if(!c.perpendicularDone)c.perpendicularDone=a.calculatePerpendicular(b,e,d);if(c.parallelDone&&c.perpendicularDone){if(a.owner.dock&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&!a.owner.width&&!a.horizontal){d.isIEVerticalDock=true;d.calculatedWidth=d.maxSize+b.getPaddingInfo().width+b.getFrameInfo().width}a.publishInnerCtSize(b,a.reserveOffset?a.availableSpaceOffset:0);if(a.done&&b.childItems.length>1&&b.boxOptions.align.stretchmax&&!c.stretchMaxDone){a.calculateStretchMax(b,e,d);c.stretchMaxDone=true}}else a.done=false},calculateParallel:function(b,f,d){for(var g=this,w=b.parallelSizeModel.shrinkWrap,j=f.width,m=b.childItems,r=f.left,t=f.right,x=f.setWidth,q=m.length,v=b.flexedItems,y=v.length,u=b.boxOptions.pack,s=g.padding,e=s[r],l=e+s[t]+g.scrollOffset+(g.reserveOffset?g.availableSpaceOffset:0),i,h,p,c,o,k,n,a=0;a<q;++a){c=m[a];i=c.marginInfo||c.getMarginInfo();l+=i[j];if(!c.flex){l+=c.getProp(j);if(isNaN(l))return false}}if(w){d.availableSpace=0;d.tooNarrow=false}else{d.availableSpace=d.targetSize[j]-l;d.tooNarrow=d.availableSpace<b.flexedMinSize;if(d.tooNarrow&&Ext.getScrollbarSize()[f.height]&&g.scrollParallel&&b.state.perpendicularDone){b.state.perpendicularDone=false;for(a=0;a<q;++a)m[a].invalidate()}}n=l;h=d.availableSpace;p=b.totalFlex;for(a=0;a<y;a++){c=v[a];o=c.flex;k=g.roundFlex(o/p*h);k=c[x](k);n+=k;h=Math.max(0,h-k);p-=o}if(u.center){e+=h/2;if(e<0)e=0}else if(u.end)e+=h;for(a=0;a<q;++a){c=m[a];i=c.marginInfo;e+=i[r];c.setProp(f.x,e);e+=i[t]+c.props[j]}b.state.contentWidth=n+b.targetContext.getPaddingInfo()[j];!b.state.additionalScrollbarWidth&&b[f.setContentWidth](b.state.contentWidth);return true},calculatePerpendicular:function(e,f,i){var n=this,w=e.perpendicularSizeModel.shrinkWrap,C=i.targetSize,m=e.childItems,x=m.length,p=Math.max,c=f.height,D=f.setHeight,z=f.top,B=f.y,A=n.padding,u=A[z],j=C[c]-u-A[f.bottom],v=e.boxOptions.align,l=v.stretch,E=v.stretchmax,s=v.center,b=0,o,d,y,h,t,g,a,k,r,q;if(l||s&&!w)if(isNaN(j))return false;if(l&&n.scrollParallel&&i.tooNarrow){r=Ext.getScrollbarSize().height;j-=r;i.targetSize[c]-=r}if(l)g=j;else{for(d=0;d<x;d++){a=m[d];h=a.marginInfo||a.getMarginInfo();y=a.getProp(c);if(isNaN(b=p(b,y+h[c],a.target[f.minHeight]||0)))return false}k=e.stretchMaxPartner;if(k){e.setProp("maxChildHeight",b);q=k.childItems;if(q&&q.length){b=p(b,k.getProp("maxChildHeight"));if(isNaN(b))return false}}i.maxSize=b;e[f.setContentHeight](b+n.padding[c]+e.targetContext.getPaddingInfo()[c]);if(E)g=b;else if(s){g=w?b:p(j,b);g-=e.innerCtContext.getBorderInfo()[c]}}for(d=0;d<x;d++){a=m[d];h=a.marginInfo||a.getMarginInfo();o=u+h[z];if(l)a[D](g-h[c]);else if(s){t=g-a.props[c];if(t>0)o=u+Math.round(t/2)}a.setProp(B,o)}return true},calculateStretchMax:function(k,c,l){for(var f=this,h=c.height,m=c.width,g=k.childItems,j=g.length,n=l.maxSize,i=f.onBeforeInvalidateChild,o=f.onAfterInvalidateChild,b,a,d,e=0;e<j;++e){b=g[e];a=b.props;d=n-b.getMarginInfo()[h];(d!=a[h]||b[c.heightModel].constrained)&&b.invalidate({before:i,after:o,layout:f,childWidth:a[m],childHeight:d,childX:a.x,childY:a.y,names:c})}},completeLayout:function(b){var a=this;a.overflowHandler.completeLayout(b);if(a.scrollParallel)a.owner.getTargetEl().dom[a.getNames().scrollLeft]=a.scrollPos},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);this.callParent(arguments)},onBeforeInvalidateChild:function(a,c){var b=c.names.heightModel;if(!a[b].constrainedMax)a[b]=Ext.layout.SizeModel.calculated},onAfterInvalidateChild:function(a,b){var c=b.names;a.setProp("x",b.childX);a.setProp("y",b.childY);a[c.heightModel].calculated&&a[c.setHeight](b.childHeight);a[c.widthModel].calculated&&a[c.setWidth](b.childWidth)},publishInnerCtSize:function(a,o){var e=this,b=e.getNames(),k=b.height,p=b.width,j=a.boxOptions.align,n=e.owner.dock,l=e.padding,d=a.state.boxPlan,i=d.targetSize,m=i[k],g=a.innerCtContext,f=b.contentWidth,h=(a.parallelSizeModel.shrinkWrap||d.tooNarrow&&e.scrollParallel?a.state.contentWidth:i[p])-(o||0),c;if(j.stretch)c=m;else{c=d.maxSize+l[b.top]+l[b.bottom]+g.getBorderInfo()[k];if(!a.perpendicularSizeModel.shrinkWrap&&j.center)c=Math.max(m,c)}g[b.setWidth](h);g[b.setHeight](c);if(a.state.additionalScrollbarWidth)if(c>d.targetSize[b.height]){a.setProp(f,a.state.contentWidth+a.state.additionalScrollbarWidth);(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&a[b.setWidth](a.props[f]+a.getPaddingInfo()[b.width]+a.getBorderInfo()[b.width])}else a.setProp(f,a.state.contentWidth);if(isNaN(h+c))e.done=false;d.calculatedWidth&&(n=="left"||n=="right")&&a.setWidth(d.calculatedWidth,true,true)},onRemove:function(b){var a=this;a.callParent(arguments);if(a.overflowHandler)a.overflowHandler.onRemove(b);if(b.layoutMarginCap==a.id)delete b.layoutMarginCap},initOverflowHandler:function(){var b=this,a=b.overflowHandler,d,c;if(typeof a=="string")a={type:a};d="None";if(a&&a.type!==undefined)d=a.type;c=Ext.layout.container.boxOverflow[d];if(c[b.type])c=c[b.type];b.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+d,b,a)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)}});Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",type:"hbox",direction:"horizontal",horizontal:true,names:{lr:"lr",left:"left",leftCap:"Left",right:"right",position:"left",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",center:"middle",top:"top",topPosition:"top",bottom:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",scrollTop:"scrollTop",overflowY:"overflowY",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight"},sizePolicy:{flex:{"":{setsWidth:1,setsHeight:0},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:0,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:0,setsHeight:1}}});Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:false,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",beginLayout:function(f){var a=this,i=a.owner,e=i.up("[scrollerOwner]"),b=e.view,g=0,c=a.getVisibleItems(),h=c.length,d;if(e.lockable)if(a.owner.up("tablepanel")===b.normalGrid)b=b.normalGrid.getView();else b=null;a.callParent(arguments);for(;g<h;g++){d=c[g];d.removeCls([a.firstHeaderCls,a.lastHeaderCls]);d.el.setStyle({height:"auto"});d.titleEl.setStyle({height:"auto",paddingTop:""})}if(h>0){c[0].addCls(a.firstHeaderCls);c[h-1].addCls(a.lastHeaderCls)}if(!a.owner.isHeader&&Ext.getScrollbarSize().width&&!e.collapsed&&b&&b.rendered&&(f.viewTable=b.el.child("table",true)))f.viewContext=f.context.getCmp(b)},roundFlex:function(a){return Math.floor(a)},getContainerSize:function(c){var e=this,d=e.callParent(arguments),a=c.viewContext,b;if(a&&!a.heightModel.shrinkWrap&&a.target.componentLayout.ownerContext){b=a.getProp("height");if(isNaN(b))e.done=false;else if(c.state.tableHeight>b){d.width-=Ext.getScrollbarSize().width;c.state.parallelDone=false;a.invalidate()}}return d},calculate:function(a){var c=this,b=a.viewContext;if(b&&!a.state.tableHeight)a.state.tableHeight=a.viewTable.offsetHeight;c.callParent(arguments)},completeLayout:function(a){var d=this,g=d.owner,j=a.state,h=false,k=d.sizeModels.calculated,e,i,b,f,c;d.callParent(arguments);if(!j.flexesCalculated&&g.forceFit&&!g.isHeader){e=a.childItems;i=e.length;for(b=0;b<i;b++){f=e[b];c=f.target;if(c.width){c.flex=a.childItems[b].flex=c.width;delete c.width;f.widthModel=k;h=true}}if(h){d.cacheFlexes(a);a.invalidate({state:{flexesCalculated:true}})}}},finalizeLayout:function(){var g=this,b=0,a,e,c,d=g.owner,f=d.titleEl;a=g.getVisibleItems();e=a.length;c=d.el.getViewSize().height;if(f)c-=f.getHeight();for(;b<e;b++)a[b].setPadding(c)},publishInnerCtSize:function(c){var b=this,e=c.state.boxPlan,d=e.targetSize,a=c.peek("contentWidth");if(a!=null&&!b.owner.isHeader)d.width=a+Ext.getScrollbarSize().width;return b.callParent(arguments)}});Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],uses:["Ext.grid.column.Column","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],border:true,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:false,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",triStateSort:false,ddLock:false,dragging:false,sortable:true,initComponent:function(){var a=this;a.headerCounter=0;a.plugins=a.plugins||[];if(!a.isHeader){if(a.enableColumnResize){a.resizer=new Ext.grid.plugin.HeaderResizer;a.plugins.push(a.resizer)}if(a.enableColumnMove){a.reorderer=new Ext.grid.plugin.HeaderReorderer;a.plugins.push(a.reorderer)}}if(a.isHeader&&!a.items)a.layout=a.layout||"auto";else a.layout=Ext.apply({type:"gridcolumn",align:"stretchmax"},a.initialConfig.layout);a.defaults=a.defaults||{};Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable});a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a);a.callParent();a.addEvents("columnresize","headerclick","headertriggerclick","columnmove","columnhide","columnshow","sortchange","menucreate")},onDestroy:function(){var a=this;a.menuTask.cancel();Ext.destroy(a.resizer,a.reorderer);a.callParent()},applyColumnsState:function(c){if(!c||!c.length)return;for(var h=this,g=h.items.items,j=g.length,e=0,i=c.length,a,d,b,f=0;f<i;f++){d=c[f];for(b=j;b--;){a=g[b];if(a.getStateId&&a.getStateId()==d.id){e!==b&&h.moveHeader(b,e);a.applyColumnState&&a.applyColumnState(d);++e;break}}}},getColumnsState:function(){var c=this,b=[],a;c.items.each(function(c){a=c.getColumnState&&c.getColumnState();a&&b.push(a)});return b},onAdd:function(a){var b=this;if(!a.headerId)a.headerId=a.initialConfig.id||Ext.id(null,"header-");if(!a.stateId)a.stateId=a.initialConfig.id||"h"+ ++b.headerCounter;b.callParent(arguments);b.purgeCache()},onRemove:function(){var a=this;a.callParent(arguments);a.purgeCache()},applyDefaults:function(b){var a;if(b&&!b.isComponent&&b.xtype=="rownumberer")a=b;else{a=this.callParent(arguments);if(!("width"in a)&&!a.flex)a.width=this.defaultWidth}return a},afterRender:function(){this.callParent();this.setSortState()},setSortState:function(){var c=this.up("[store]").store,d=c.sorters,b=d.first(),a;if(b){a=this.down("gridcolumn[dataIndex="+b.property+"]");a&&a.setSortState(b.direction,false,true)}},getHeaderMenu:function(){var b=this.getMenu(),a;if(b){a=b.child("#columnItem");if(a)return a.menu}return null},onHeaderVisibilityChange:function(e,d){var b=this,c=b.getHeaderMenu(),a;if(c){a=b.getMenuItemForHeader(c,e);a&&a.setChecked(d,true);b.menuTask.delay(50)}},getLeafMenuItems:function(){for(var c=this,e=c.getGridColumns(),d=[],b=0,f=0,g=e.length,h=c.getMenu(),a;b<g;++b){a=e[b];if(a.hideable){a=c.getMenuItemForHeader(h,a);if(a){d.push(a);if(a.checked)++f}}}return{items:d,checkedCount:f}},updateMenuDisabledState:function(){var a=this,d=a.getLeafMenuItems(),f=d.checkedCount,b=d.items,g=b.length,c=0,e=a.getMenu().child("#columnItem");if(f<=1)a.disableMenuItems(e,Ext.ComponentQuery.query("[checked=true]",b)[0]);else for(;c<g;++c)a.setMenuItemState(f,e,b[c])},disableMenuItems:function(b,a){while(a&&a!=b){a.disableCheckChange();a=a.parentMenu.ownerItem}},setMenuItemState:function(e,b,a){var d,c;while(a&&a!=b){d=a.parentMenu;c=a.parentMenu.query("[checked=true]:not([menu])").length;a.enableCheckChange();a=d.ownerItem;if(c===e)break}this.disableMenuItems(b,a)},getMenuItemForHeader:function(b,a){return a?b.down("menucheckitem[headerId="+a.id+"]"):null},onHeaderShow:function(b){var a=this,c=a.ownerCt;a.onHeaderVisibilityChange(b,true);if(!b.isGroupHeader){if(a.view)a.view.onHeaderShow(a,b,true);if(c)c.onHeaderShow(a,b)}a.fireEvent("columnshow",a,b);a.updateLayout()},onHeaderHide:function(b){var a=this,c=a.ownerCt;a.onHeaderVisibilityChange(b,false);if(!b.isGroupHeader){if(a.view){a.view.ignoreTemplate=true;a.view.onHeaderHide(a,b,true);a.view.ignoreTemplate=false}if(c)c.onHeaderHide(a,b);a.updateLayout()}a.fireEvent("columnhide",a,b)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(d,c,g){var a=this,b=a.view,e=a.ownerCt,f;if(b&&(f=b.el)&&f.dom.firstChild){a.tempLock();b.onHeaderResize(d,c,g);if(e)e.onHeaderResize(a,d,c)}a.fireEvent("columnresize",this,d,c)},onHeaderClick:function(a,c,b){a.fireEvent("headerclick",this,a,c,b);this.fireEvent("headerclick",this,a,c,b)},onHeaderTriggerClick:function(b,d,c){var a=this;b.fireEvent("headertriggerclick",a,b,d,c)!==false&&a.fireEvent("headertriggerclick",a,b,d,c)!==false&&a.showMenuBy(c,b)},showMenuBy:function(f,b){var a=this.getMenu(),e=a.down("#ascItem"),d=a.down("#descItem"),c;a.activeHeader=a.ownerCt=b;a.setFloatParent(b);b.titleEl.addCls(this.headerOpenCls);c=b.sortable?"enable":"disable";e&&e[c]();d&&d[c]();a.showBy(f)},onMenuDeactivate:function(){var a=this.getMenu();a.activeHeader.titleEl.removeCls(this.headerOpenCls)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),a,b)},purgeCache:function(){var a=this;delete a.gridDataColumns;delete a.hideableColumns;if(a.menu){a.menu.hide();a.menu.destroy();delete a.menu}},onHeaderMoved:function(e,f,c,d){var a=this,b=a.ownerCt;if(b&&b.onHeaderMove)b.onHeaderMove(a,e,f,c,d);a.fireEvent("columnmove",a,e,c,d)},getMenu:function(){var a=this;if(!a.menu){a.menu=new Ext.menu.Menu({hideOnParentHide:false,items:a.getMenuItems(),listeners:{deactivate:a.onMenuDeactivate,scope:a}});a.updateMenuDisabledState();a.fireEvent("menucreate",a,a.menu)}return a.menu},getMenuItems:function(){var a=this,c=[],b=a.enableColumnHide?a.getColumnMenu(a):null;if(a.sortable)c=[{itemId:"ascItem",text:a.sortAscText,cls:Ext.baseCSSPrefix+"hmenu-sort-asc",handler:a.onSortAscClick,scope:a},{itemId:"descItem",text:a.sortDescText,cls:Ext.baseCSSPrefix+"hmenu-sort-desc",handler:a.onSortDescClick,scope:a}];b&&b.length&&c.push("-",{itemId:"columnItem",text:a.columnsText,cls:Ext.baseCSSPrefix+"cols-icon",menu:b});return c},onSortAscClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState("ASC")},onSortDescClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState("DESC")},getColumnMenu:function(f){for(var e=[],c=0,a,d=f.query(">gridcolumn[hideable]"),g=d.length,b;c<g;c++){a=d[c];b=new Ext.menu.CheckItem({text:a.menuText||a.text,checked:!a.hidden,hideOnClick:false,headerId:a.id,menu:a.isGroupHeader?this.getColumnMenu(a):undefined,checkHandler:this.onColumnCheckChange,scope:this});e.push(b);a.on({destroy:Ext.Function.bind(b.destroy,b)})}return e},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);c[b?"show":"hide"]()},getColumnsForTpl:function(f){for(var d=[],e=this.getGridColumns(f),g=e.length,b=0,a,c;b<g;b++){a=e[b];if(a.hidden||a.up("headercontainer[hidden=true]"))c=0;else c=a.getDesiredWidth();d.push({dataIndex:a.dataIndex,align:a.align,width:c,id:a.id,cls:a.tdCls,columnId:a.getItemId()})}return d},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(e){for(var c=0,d=this.getVisibleGridColumns(e),f=d.length,b=0,a;b<f;b++){a=d[b];if(a.getDesiredWidth)c+=a.getDesiredWidth()||0;else c+=a.getWidth()}return c},clearOtherSortStates:function(c){for(var b=this.getGridColumns(),d=b.length,a=0;a<d;a++)b[a]!==c&&b[a].setSortState(null,true)},getVisibleGridColumns:function(a){return Ext.ComponentQuery.query(":not([hidden])",this.getGridColumns(a))},getGridColumns:function(c){var b=this,a=c?null:b.gridDataColumns;if(!a){b.gridDataColumns=a=[];b.cascade(function(c){c!==b&&!c.isGroupHeader&&a.push(c)})}return a},getHideableColumns:function(c){var b=this,a=c?null:b.hideableColumns;if(!a)a=b.hideableColumns=b.query("[hideable]");return a},getHeaderIndex:function(a){if(a.isGroupHeader)a=a.down(":not([isgroupHeader])");return Ext.Array.indexOf(this.getGridColumns(),a)},getHeaderAtIndex:function(b){var a=this.getGridColumns();return a.length?a[b]:null},getVisibleHeaderClosestToIndex:function(b){var a=this.getHeaderAtIndex(b);if(a&&a.hidden)a=a.next(":not([hidden])")||a.next(":not([hidden])");return a},prepareData:function(n,l,j,o,k){for(var g=this,c={},i=g.gridDataColumns||g.getGridColumns(),m=i.length,f=0,b,d,h,a,e,p=k.store;f<m;f++){e={tdCls:"",style:""};b=i[f];d=b.id;h=b.renderer;a=n[b.dataIndex];if(typeof h=="function")a=h.call(b.scope||g.ownerCt,a,e,j,l,f,p,o);if(g.markDirty)c[d+"-modified"]=j.isModified(b.dataIndex)?Ext.baseCSSPrefix+"grid-dirty-cell":"";c[d+"-tdCls"]=e.tdCls;c[d+"-tdAttr"]=e.tdAttr;c[d+"-style"]=e.style;if(typeof a==="undefined"||a===null||a==="")a=b.emptyCellText;c[d]=a}return c},expandToFit:function(b){var a=this.view;a&&a.expandToFit(b)}});Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav","Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout"],alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header "+Ext.baseCSSPrefix+"unselectable",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:5,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],renderTpl:'<div id="{id}-titleEl" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,editRenderer:false,align:"left",draggable:true,initDraggable:Ext.emptyFn,isHeader:true,componentLayout:"columncomponent",initResizable:Ext.emptyFn,initComponent:function(){var a=this,b;if(Ext.isDefined(a.header)){a.text=a.header;delete a.header}if(!a.triStateSort)a.possibleSortStates.length=2;if(Ext.isDefined(a.columns)){a.isGroupHeader=true;a.items=a.columns;delete a.columns;delete a.flex;delete a.width;a.cls=(a.cls||"")+" "+Ext.baseCSSPrefix+"group-header";a.sortable=false;a.resizable=false;a.align="center"}else{a.isContainer=false;if(a.flex)a.minWidth=a.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}a.addCls(Ext.baseCSSPrefix+"column-header-align-"+a.align);b=a.renderer;if(b){if(typeof b=="string")a.renderer=Ext.util.Format[b];a.hasCustomRenderer=true}else if(a.defaultRenderer){a.scope=a;a.renderer=a.defaultRenderer}a.callParent(arguments);a.on({element:"el",click:a.onElClick,dblclick:a.onElDblClick,scope:a});a.on({element:"titleEl",mouseenter:a.onTitleMouseOver,mouseleave:a.onTitleMouseOut,scope:a})},onAdd:function(a){a.isSubHeader=true;a.addCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},onRemove:function(a){a.isSubHeader=false;a.removeCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},initRenderData:function(){var a=this;return Ext.applyIf(a.callParent(arguments),{text:a.text,menuDisabled:a.menuDisabled})},applyColumnState:function(a){var b=this,c=Ext.isDefined;b.applyColumnsState(a.columns);if(c(a.hidden))b.hidden=a.hidden;if(c(a.locked))b.locked=a.locked;if(c(a.sortable))b.sortable=a.sortable;if(c(a.width)){delete b.flex;b.width=a.width}else if(c(a.flex)){delete b.width;b.flex=a.flex}},getColumnState:function(){var a=this,d=a.items.items,f=d?d.length:0,c,e=[],b={id:a.getStateId()};a.savePropsToState(["hidden","sortable","locked","flex","width"],b);if(a.isGroupHeader){for(c=0;c<f;c++)e.push(d[c].getColumnState());if(e.length)b.columns=e}else if(a.isSubHeader&&a.ownerCt.hidden)delete a.hidden;if("width"in b)delete b.flex;return b},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;this.rendered&&this.textEl.update(a)},getOwnerHeaderCt:function(){return this.up(":not([isHeader])")},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this,b=a.up("tablepanel");a.callParent();if(b&&(!a.sortable||b.sortableColumns===false)&&!a.groupable&&!a.lockable&&(b.enableColumnHide===false||!a.getOwnerHeaderCt().getHideableColumns().length))a.menuDisabled=true},afterRender:function(){var a=this,b=a.el;a.callParent(arguments);a.overCls&&b.addClsOnOver(a.overCls);(!Ext.isIE8||!Ext.isStrict)&&a.mon(a.getFocusEl(),{focus:a.onTitleMouseOver,blur:a.onTitleMouseOut,scope:a});a.keyNav=new Ext.util.KeyNav(b,{enter:a.onEnterKey,down:a.onDownKey,scope:a})},afterComponentLayout:function(d,e,c){var a=this,b=a.getOwnerHeaderCt();a.callParent(arguments);if(b&&(c!=null||a.flex)&&d!==c)b.onHeaderResize(a,d,true);delete a.oldWidth},setPadding:function(f){var a=this,e=parseInt(a.textEl.getStyle("line-height"),10),c=a.textEl.dom.offsetHeight,b=a.titleEl,g=f-a.el.getBorderWidth("tb"),d;if(!a.isGroupHeader)if(b.getHeight()<g){b.setHeight(g);a.ownerCt.layout.innerCt.setHeight(f)}d=b.getViewSize().height;if(c){if(e)c=Math.ceil(c/e)*e;b.setStyle({paddingTop:Math.floor(Math.max((d-c)/2,0))+"px"})}Ext.isIE&&a.triggerEl&&a.triggerEl.setHeight(d)},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav);delete a.keyNav;a.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl)this.onElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onElClick(a,this.el.dom)},onElDblClick:function(c){var a=this,b=a.ownerCt;b&&Ext.Array.indexOf(b.items,a)!==0&&a.isOnLeftEdge(c)&&b.expandToFit(a.previousSibling("gridcolumn"))},onElClick:function(b,d){var a=this,c=a.getOwnerHeaderCt();if(c&&!c.ddLock)if(a.triggerEl&&(b.target===a.triggerEl.dom||d===a.triggerEl.dom||b.within(a.triggerEl)))c.onHeaderTriggerClick(a,b,d);else if(b.getKey()||!a.isOnLeftEdge(b)&&!a.isOnRightEdge(b)){a.toggleSortState();c.onHeaderClick(a,b,d)}},processEvent:function(){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a=this,b,c;if(a.sortable){b=Ext.Array.indexOf(a.possibleSortStates,a.sortState);c=(b+1)%a.possibleSortStates.length;a.setSortState(a.possibleSortStates[c])}},doSort:function(b){var a=this.up("tablepanel").store;a.sort({property:this.getSortParam(),direction:b})},getSortParam:function(){return this.dataIndex},setSortState:function(b,j,i){var a=this,d=Ext.baseCSSPrefix+"column-header-sort-",g=d+"ASC",f=d+"DESC",e=d+"null",c=a.getOwnerHeaderCt(),h=a.sortState;if(h!==b&&a.getSortParam()){a.addCls(d+b);b&&!i&&a.doSort(b);switch(b){case"DESC":a.removeCls([g,e]);break;case"ASC":a.removeCls([f,e]);break;case null:a.removeCls([g,f])}c&&!a.triStateSort&&!j&&c.clearOtherSortStates(a);a.sortState=b;(a.triStateSort||b!=null)&&c.fireEvent("sortchange",c,a,b)}},hide:function(h){var a=this,i=a.getOwnerHeaderCt(),e=a.ownerCt,g=e.isGroupHeader,d,b,f,c;if(g&&!h){b=e.query(">:not([hidden])");if(b.length===1&&b[0]==a){a.ownerCt.hide();return}}Ext.suspendLayouts();if(a.isGroupHeader){b=a.items.items;for(c=0,f=b.length;c<f;c++){d=b[c];!d.hidden&&d.hide(true)}}a.callParent();i.onHeaderHide(a);Ext.resumeLayouts(true)},show:function(h,g){var a=this,b=a.ownerCt,d,f,c,e;Ext.suspendLayouts();a.isSubHeader&&b.hidden&&b.show(false,true);a.callParent(arguments);if(a.isGroupHeader&&g!==true&&!a.query(":not([hidden])").length){d=a.query(">*");for(c=0,f=d.length;c<f;c++){e=d[c];e.hidden&&e.show(true)}}Ext.resumeLayouts(true);b=a.getOwnerHeaderCt();if(b)b.onHeaderShow(a)},getDesiredWidth:function(){var a=this;return a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize?a.componentLayout.lastComponentSize.width:a.flex?a.width:a.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.el.getLeft()<=this.handleWidth},isOnRightEdge:function(a){return this.el.getRight()-a.getXY()[0]<=this.handleWidth}});Ext.define("Ext.grid.RowNumberer",{extend:"Ext.grid.column.Column",alias:"widget.rownumberer",text:"&#160",width:23,sortable:false,draggable:false,align:"right",constructor:function(){this.width=this.width;this.callParent(arguments);if(this.rowspan)this.renderer=Ext.Function.bind(this.renderer,this)},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",rowspan:undefined,renderer:function(e,a,b,d,f,c){if(this.rowspan)a.cellAttr='rowspan="'+this.rowspan+'"';a.tdCls=Ext.baseCSSPrefix+"grid-cell-special";return c.indexOfTotal(b)+1}});Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,constructor:function(d){var a=this,b=Ext.apply({},d),c=b.items||[a];a.origRenderer=b.renderer||a.renderer;a.origScope=b.scope||a.scope;delete a.renderer;delete a.scope;delete b.renderer;delete b.scope;delete b.items;a.callParent([b]);a.items=c;if(a.origRenderer)a.hasCustomRenderer=true},defaultRenderer:function(e,i){var b=this,d=Ext.baseCSSPrefix,g=b.origScope||b,f=b.items,h=f.length,c=0,a;e=Ext.isFunction(b.origRenderer)?b.origRenderer.apply(g,arguments)||"":"";i.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;c<h;c++){a=f[c];if(!a.hasActionConfiguration){a.stopSelection=b.stopSelection;a.disable=Ext.Function.bind(b.disableAction,b,[c],0);a.enable=Ext.Function.bind(b.enableAction,b,[c],0);a.hasActionConfiguration=true}e+='<img alt="'+(a.altText||b.altText)+'" src="'+(a.icon||Ext.BLANK_IMAGE_URL)+'" class="'+d+"action-col-icon "+d+"action-col-"+String(c)+" "+(a.disabled?d+"item-disabled":" ")+" "+(Ext.isFunction(a.getClass)?a.getClass.apply(a.scope||g,arguments):a.iconCls||b.iconCls||"")+'"'+(a.tooltip?' data-qtip="'+a.tooltip+'"':"")+" />"}return e},enableAction:function(a,c){var b=this;if(!a)a=0;else if(!Ext.isNumber(a))a=Ext.Array.indexOf(b.items,a);b.items[a].disabled=false;b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).removeCls(b.disabledCls);!c&&b.fireEvent("enable",b)},disableAction:function(a,c){var b=this;if(!a)a=0;else if(!Ext.isNumber(a))a=Ext.Array.indexOf(b.items,a);b.items[a].disabled=true;b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).addCls(b.disabledCls);!c&&b.fireEvent("disable",b)},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(e,i,m,j,l,c,k,n){var b=this,d=c.getTarget(),h,a,f,g=e=="keydown"&&c.getKey();if(g&&!Ext.fly(d).findParent(i.cellSelector))d=Ext.fly(m).down("."+Ext.baseCSSPrefix+"action-col-icon",true);if(d&&(h=d.className.match(b.actionIdRe))){a=b.items[parseInt(h[1],10)];if(a)if(e=="click"||(g==c.ENTER||g==c.SPACE)){f=a.handler||b.handler;f&&!a.disabled&&f.call(a.scope||b.scope||b,i,j,l,a,c,k,n)}else if(e=="mousedown"&&a.stopSelection!==false)return false}return b.callParent(arguments)},cascade:function(b,a){b.call(a||this,this)},getRefItems:function(){return[]}});Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(a){return a===undefined?this.undefinedText:!a||a==="false"?this.falseText:this.trueText}});Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){if(!this.format)this.format=Ext.Date.defaultFormat;this.callParent(arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)}});Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)}});Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var a=this;a.tpl=!Ext.isPrimitive(a.tpl)&&a.tpl.compile?a.tpl:new Ext.XTemplate(a.tpl);a.hasCustomRenderer=true;a.callParent(arguments)},defaultRenderer:function(c,d,a){var b=Ext.apply({},a.data,a.getAssociatedData());return this.tpl.apply(b)}});Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",requires:["Ext.grid.column.Column","Ext.util.KeyNav"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,triggerEvent:undefined,defaultFieldXType:"textfield",editStyle:"",constructor:function(b){var a=this;Ext.apply(a,b);a.addEvents("beforeedit","edit","validateedit","canceledit");a.mixins.observable.constructor.call(a);a.on("edit",function(b,c){a.fireEvent("afteredit",b,c)})},init:function(a){var b=this;if(a.lockable)a=a.view.normalGrid;b.grid=a;b.view=a.view;b.initEvents();b.mon(a,"reconfigure",b.onReconfigure,b);b.onReconfigure();a.relayEvents(b,["beforeedit","edit","validateedit","canceledit"]);a.isEditable=true;a.editingPlugin=a.view.editingPlugin=b},onReconfigure:function(){this.initFieldAccessors(this.view.getGridColumns())},destroy:function(){var a=this,b=a.grid;Ext.destroy(a.keyNav);a.removeFieldAccessors(b.getView().getGridColumns());a.clearListeners();delete a.grid.editingPlugin;delete a.grid.view.editingPlugin;delete a.grid;delete a.view;delete a.editor;delete a.keyNav},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){a=[].concat(a);for(var d=this,e=a.length,c,b=0;b<e;b++){c=a[b];Ext.applyIf(c,{getEditor:function(b,a){return d.getColumnField(this,a)},setEditor:function(a){d.setColumnField(this,a)}})}},removeFieldAccessors:function(a){a=[].concat(a);for(var d=a.length,b,c=0;c<d;c++){b=a[c];delete b.getEditor;delete b.setEditor}},getColumnField:function(b,c){var a=b.field;if(!a&&b.editor){a=b.editor;delete b.editor}if(!a&&c)a=c;if(a){if(Ext.isString(a))a={xtype:a};if(!a.isFormField)a=Ext.ComponentManager.create(a,this.defaultFieldXType);b.field=a;Ext.apply(a,{name:b.dataIndex});return a}},setColumnField:function(b,a){if(Ext.isObject(a)&&!a.isFormField)a=Ext.ComponentManager.create(a,this.defaultFieldXType);b.field=a},initEvents:function(){var a=this;a.initEditTriggers();a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var a=this,b=a.view;if(a.triggerEvent=="cellfocus")a.mon(b,"cellfocus",a.onCellFocus,a);else if(a.triggerEvent=="rowfocus")a.mon(b,"rowfocus",a.onRowFocus,a);else{if(b.selModel.isCellModel)b.onCellFocus=Ext.Function.bind(a.beforeViewCellFocus,a);a.mon(b,a.triggerEvent||"cell"+(a.clicksToEdit===1?"click":"dblclick"),a.onCellClick,a)}b.on("render",a.addHeaderEvents,a,{single:true})},beforeViewCellFocus:function(a){(this.view.selModel.keyNavigation||!this.isCellEditable||!this.isCellEditable(a.row,a.columnHeader))&&this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(b,a){this.startEdit(a,0)},onCellFocus:function(c,b,a){this.startEdit(a.row,a.column)},onCellClick:function(a,e,d,b,g,f,c){(!a.expanderSelector||!c.getTarget(a.expanderSelector))&&this.startEdit(b,a.getHeaderAtIndex(d))},addHeaderEvents:function(){var a=this;a.mon(a.grid.headerCt,{scope:a,add:a.onColumnAdd,remove:a.onColumnRemove});a.keyNav=Ext.create("Ext.util.KeyNav",a.view.el,{enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onColumnAdd:function(b,a){a.isHeader&&this.initFieldAccessors(a)},onColumnRemove:function(b,a){a.isHeader&&this.removeFieldAccessors(a)},onEnterKey:function(){var f=this,b=f.grid,d=b.getSelectionModel(),a,c,e=b.headerCt.getHeaderAtIndex(0);if(d.getCurrentPosition){c=d.getCurrentPosition();if(c){a=b.store.getAt(c.row);e=b.headerCt.getHeaderAtIndex(c.column)}}else a=d.getLastSelected();a&&e&&f.startEdit(a,e)},onEscKey:function(){this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(c,d){var a=this,b=a.getEditingContext(c,d);if(a.beforeEdit(b)===false||a.fireEvent("beforeedit",a,b)===false||b.cancel||!a.grid.view.isVisible(true))return false;a.context=b;a.editing=true},getEditingContext:function(b,a){var h=this,e=h.grid,c=e.getView(),f=c.getNode(b),d,g;if(!f)return;a=e.headerCt.getVisibleHeaderClosestToIndex(Ext.isNumber(a)?a:a.getIndex());if(!a)return;g=a.getIndex();if(Ext.isNumber(b)){d=b;b=c.getRecord(f)}else d=c.indexOf(f);return{grid:e,record:b,field:a.dataIndex,value:b.get(a.dataIndex),row:c.getNode(d),column:a,rowIdx:d,colIdx:g}},cancelEdit:function(){var a=this;a.editing=false;a.fireEvent("canceledit",a,a.context)},completeEdit:function(){var a=this;a.editing&&a.validateEdit()&&a.fireEvent("edit",a,a.context);delete a.context;a.editing=false},validateEdit:function(){var a=this,b=a.context;return a.fireEvent("validateedit",a,b)!==false&&!b.cancel}});Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],constructor:function(){this.callParent(arguments);this.editors=new Ext.util.MixedCollection(false,function(a){return a.editorId});this.editTask=new Ext.util.DelayedTask},onReconfigure:function(){this.editors.clear();this.callParent()},destroy:function(){var a=this;a.editTask.cancel();a.editors.each(Ext.destroy,Ext);a.editors.clear();a.callParent(arguments)},onBodyScroll:function(){var b=this,a=b.getActiveEditor(),c=b.view.el.getScroll();if(a&&a.editing)if(c.top!==b.scroll.top){if(a.field)if(a.field.triggerBlur)a.field.triggerBlur();else a.field.blur()}else a.realign();b.scroll=c},initCancelTriggers:function(){var a=this,c=a.grid,b=c.view;b.addElListener("mousewheel",a.cancelEdit,a);a.mon(b,"bodyscroll",a.onBodyScroll,a);a.mon(c,{columnresize:a.cancelEdit,columnmove:a.cancelEdit,scope:a})},isCellEditable:function(b,a){var d=this,c=d.getEditingContext(b,a);if(d.grid.view.isVisible(true)&&c){a=c.column;b=c.record;if(a&&d.getEditor(b,a))return true}},startEdit:function(d,c){var a=this,b=a.getEditingContext(d,c),f,e;a.completeEdit();if(!b||!a.grid.view.isVisible(true))return false;d=b.record;c=b.column;if(c&&!c.getEditor(d))return false;f=d.get(c.dataIndex);b.originalValue=b.value=f;if(a.beforeEdit(b)===false||a.fireEvent("beforeedit",a,b)===false||b.cancel)return false;e=a.getEditor(d,c);a.grid.view.cancelFocus();a.view.focusCell({row:b.row,column:b.colIdx});if(e){a.context=b;a.setActiveEditor(e);a.setActiveRecord(d);a.setActiveColumn(c);a.editTask.delay(15,e.startEdit,e,[a.getCell(d,c),f]);a.editing=true;a.scroll=a.view.el.getScroll();return true}return false},completeEdit:function(){var a=this.getActiveEditor();if(a){a.completeEdit();this.editing=false}},setActiveEditor:function(a){this.activeEditor=a},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a},getActiveRecord:function(){return this.activeRecord},getEditor:function(f,d){var b=this,e=b.editors,c=d.getItemId(),a=e.getByKey(c);if(a)return a;else{a=d.getEditor(f);if(!a)return false;if(!(a instanceof Ext.grid.CellEditor))a=new Ext.grid.CellEditor({editorId:c,field:a,ownerCt:b.grid});a.editingPlugin=b;a.isForTree=b.grid.isTree;a.on({scope:b,specialkey:b.onSpecialKey,complete:b.onEditComplete,canceledit:b.cancelEdit});e.add(a);return a}},setColumnField:function(a){var b=this.editors.getByKey(a.getItemId());Ext.destroy(b,a.field);this.editors.removeAtKey(a.getItemId());this.callParent(arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onSpecialKey:function(c,f,a){var d=this,e=d.grid,b;if(a.getKey()===a.TAB){a.stopEvent();if(c)c.onEditorTab(a);b=e.getSelectionModel();if(b.onEditorTab)b.onEditorTab(d,a)}},onEditComplete:function(g,d,e){var a=this,f=a.grid,c=a.getActiveColumn(),b;if(c){b=a.context.record;a.setActiveEditor(null);a.setActiveColumn(null);a.setActiveRecord(null);if(!a.validateEdit())return;if(!b.isEqual(d,e))b.set(c.dataIndex,d);else f.getView().getEl(c).focus();a.context.value=d;a.fireEvent("edit",a,a.context)}},cancelEdit:function(){var a=this,b=a.getActiveEditor(),c=a.grid.getView().getEl(a.getActiveColumn());a.setActiveEditor(null);a.setActiveColumn(null);a.setActiveRecord(null);if(b){b.cancelEdit();c.focus();a.callParent(arguments)}},startEditByPosition:function(a){var b=this.grid.getSelectionModel();a.column=this.view.getHeaderCt().getVisibleHeaderClosestToIndex(a.column).getIndex();b.selectByPosition&&b.selectByPosition(a);return this.startEdit(a.row,a.column)}});Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",constructor:function(b,c){var a=this;a.grid=b;a.store=c;a.callParent([{items:[{header:a.nameText,width:b.nameColumnWidth||a.nameWidth,sortable:b.sortableColumns,dataIndex:b.nameField,renderer:Ext.Function.bind(a.renderProp,a),itemId:b.nameField,menuDisabled:true,tdCls:a.nameColumnCls},{header:a.valueText,renderer:Ext.Function.bind(a.renderCell,a),getEditor:Ext.Function.bind(a.getCellEditor,a),sortable:b.sortableColumns,flex:1,fixed:true,dataIndex:b.valueField,itemId:b.valueField,menuDisabled:true}]}])},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(b,f,e){var a=this,d=a.grid.customRenderers[e.get(a.grid.nameField)],c=b;if(d)return d.apply(a,arguments);if(Ext.isDate(b))c=a.renderDate(b);else if(Ext.isBoolean(b))c=a.renderBool(b);return Ext.util.Format.htmlEncode(c)},renderDate:Ext.util.Format.date,renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(b){var a=this.grid.propertyNames;return a&&a[b]?a[b]:b}});Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",type:"vbox",direction:"vertical",horizontal:false,names:{lr:"tb",left:"top",leftCap:"Top",right:"bottom",position:"top",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",center:"center",top:"left",topPosition:"left",bottom:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",scrollTop:"scrollLeft",overflowY:"overflowX",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth"},sizePolicy:{flex:{"":{setsWidth:0,setsHeight:1},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:0}}});Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:true,activeOnTop:false,multi:false,defaultAnimatePolicy:{y:true,height:true},constructor:function(){var a=this;a.callParent(arguments);if(a.animate)a.animatePolicy=Ext.apply({},a.defaultAnimatePolicy);else a.animatePolicy=null},beforeRenderItems:function(d){for(var a=this,e=d.length,c=0,b;c<e;c++){b=d[c];if(!b.rendered){if(a.collapseFirst)b.collapseFirst=a.collapseFirst;if(a.hideCollapseTool){b.hideCollapseTool=a.hideCollapseTool;b.titleCollapse=true}else if(a.titleCollapse)b.titleCollapse=a.titleCollapse;delete b.hideHeader;delete b.width;b.collapsible=true;b.title=b.title||"&#160;";b.addBodyCls(Ext.baseCSSPrefix+"accordion-body");if(!a.multi){if(a.expandedItem!==undefined)b.collapsed=true;else if(b.hasOwnProperty("collapsed")&&b.collapsed===false)a.expandedItem=c;else b.collapsed=true;a.owner.mon(b,{show:a.onComponentShow,beforeexpand:a.onComponentExpand,scope:a})}a.fill&&a.owner.mon(b,{beforecollapse:a.onComponentCollapse,scope:a})}}if(e&&a.expandedItem===undefined){a.expandedItem=0;d[0].collapsed=false}},getItemsRenderTree:function(a){this.beforeRenderItems(a);return this.callParent(arguments)},renderItems:function(a){this.beforeRenderItems(a);this.callParent(arguments)},configureItem:function(a){this.callParent(arguments);a.animCollapse=a.border=false;if(this.fill)a.flex=1},onChildPanelRender:function(a){a.header.addCls(Ext.baseCSSPrefix+"accordion-hd")},beginLayout:function(a){this.callParent(arguments);this.updatePanelClasses(a)},updatePanelClasses:function(g){for(var e=g.visibleItems,f=e.length,d=true,c,a,b=0;b<f;b++){c=e[b];a=c.header;a.addCls(Ext.baseCSSPrefix+"accordion-hd");if(d)a.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded");else a.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded");if(b+1==f&&c.collapsed)a.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed");else a.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed");d=c.collapsed}},onComponentExpand:function(){var a=this,b=a.owner,d,f,c,e;if(!a.processing){a.processing=true;e=b.deferLayouts;b.deferLayouts=true;d=a.multi?[]:b.query(">panel:not([collapsed])");f=d.length;for(c=0;c<f;c++)d[c].collapse();b.deferLayouts=e;a.processing=false}},onComponentCollapse:function(f){var a=this,c=a.owner,b,e,d;if(!a.processing){a.processing=true;d=c.deferLayouts;c.deferLayouts=true;b=f.next()||f.prev();if(a.multi){e=a.owner.query(">panel:not([collapsed])");e.length===1&&b.expand()}else b&&b.expand();c.deferLayouts=d;a.processing=false}},onComponentShow:function(a){this.onComponentExpand(a)}});Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:false});Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var a=this;a.callParent();Ext.apply(a.renderData,{text:a.text})},setText:function(a){if(this.rendered){this.el.update(a);this.ownerCt.doLayout()}else this.text=a}});Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:false,enableOverflow:false,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this,b;if(!a.layout&&a.enableOverflow)a.layout={overflowHandler:"Menu"};if(a.dock==="right"||a.dock==="left")a.vertical=true;a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?"vbox":"hbox",align:a.vertical?"stretchmax":"middle"});a.vertical&&a.addClsWithUI("vertical");if(a.ui==="footer")a.ignoreBorderManagement=true;a.callParent();a.addEvents("overflowchange")},getRefItems:function(d){var c=this,b=c.callParent(arguments),e=c.layout,a;if(d&&c.enableOverflow){a=e.overflowHandler;if(a&&a.menu)b=b.concat(a.menu.getRefItems(d))}return b},lookupComponent:function(a){if(typeof a=="string"){var c=Ext.toolbar.Toolbar,b=c.shortcutsHV[this.vertical?1:0][a]||c.shortcuts[a];if(typeof b=="string")a={xtype:b};else if(b)a=Ext.apply({},b);else a={xtype:"tbtext",text:a};this.applyDefaults(a)}return this.callParent(arguments)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments);var b=this.internalDefaults;if(a.events){Ext.applyIf(a.initialConfig,b);Ext.apply(a,b)}else Ext.applyIf(a,b)}return a},trackMenu:function(b,d){if(this.trackMenus&&b.menu){var c=d?"mun":"mon",a=this;a[c](b,"mouseover",a.onButtonOver,a);a[c](b,"menushow",a.onButtonMenuShow,a);a[c](b,"menuhide",a.onButtonMenuHide,a)}},constructButton:function(a){return a.events?a:Ext.widget(a.split?"splitbutton":this.defaultType,a)},onBeforeAdd:function(a){if(a.is("field")||a.is("button")&&this.ui!="footer")a.ui=a.ui+"-toolbar";a instanceof Ext.toolbar.Separator&&a.setUI(this.vertical?"vertical":"horizontal");this.callParent(arguments)},onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}});Ext.define("Ext.panel.AbstractPanel",{extend:"Ext.container.Container",mixins:{docking:"Ext.container.DockingContainer"},requires:["Ext.util.MixedCollection","Ext.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:true,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE6||Ext.isIE7||Ext.isIEQuirks?"<div></div>":"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:true,initComponent:function(){var a=this;a.addEvents("bodyresize");if(a.frame&&a.border&&a.bodyBorder===undefined)a.bodyBorder=false;if(a.frame&&a.border&&(a.bodyBorder===false||a.bodyBorder===0))a.manageBodyBorders=true;a.callParent()},beforeDestroy:function(){this.destroyDockedItems();this.callParent()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this,b=a.callParent();a.initBodyStyles();a.protoBody.writeTo(b);delete a.protoBody;return b},getComponent:function(b){var a=this.callParent(arguments);if(a===undefined&&!Ext.isNumber(b))a=this.getDockedComponent(b);return a},getProtoBody:function(){var a=this,b=a.protoBody;if(!b)a.protoBody=b=new Ext.util.ProtoElement({cls:a.bodyCls,style:a.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true});return b},initBodyStyles:function(){var a=this,b=a.getProtoBody(),c=Ext.Element;a.bodyPadding!==undefined&&b.setStyle("padding",c.unitizeBox(a.bodyPadding===true?5:a.bodyPadding));if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder))a.bodyBorder=1;b.setStyle("border-width",c.unitizeBox(a.bodyBorder))}},getCollapsedDockedItems:function(){return[this.getReExpander()]},setBodyStyle:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();if(Ext.isFunction(a))a=a();if(arguments.length==1&&Ext.isString(a))a=Ext.Element.parseStyles(a);c.setStyle.apply(b.body,arguments)},addBodyCls:function(c){var a=this,b=a.rendered?a.body:a.getProtoBody();b.addCls(c)},removeBodyCls:function(c){var a=this,b=a.rendered?a.body:a.getProtoBody();b.removeCls(c)},addUIClsToElement:function(b){var a=this,c=a.callParent(arguments);a.addBodyCls([Ext.baseCSSPrefix+b,a.baseCls+"-body-"+b,a.baseCls+"-body-"+a.ui+"-"+b]);return c},removeUIClsFromElement:function(b){var a=this,c=a.callParent(arguments);a.removeBodyCls([Ext.baseCSSPrefix+b,a.baseCls+"-body-"+b,a.baseCls+"-body-"+a.ui+"-"+b]);return c},addUIToElement:function(){var a=this;a.callParent(arguments);a.addBodyCls(a.baseCls+"-body-"+a.ui)},removeUIFromElement:function(){var a=this;a.callParent(arguments);a.removeBodyCls(a.baseCls+"-body-"+a.ui)},getTargetEl:function(){return this.body},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)}});Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:false,floatable:true,collapsible:false,closable:false,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:false,header:undefined,headerPosition:"top",frame:false,frameHeader:true,titleAlign:"left",manageHeight:true,initComponent:function(){var a=this;a.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange");a.collapsible&&this.addStateEvents(["expand","collapse"]);a.unstyled&&a.setUI("plain");a.frame&&a.setUI(a.ui+"-framed");a.bridgeToolbars();a.callParent();a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);a.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var b=this,a=b.el,c=b.header;a&&c&&a.dom.setAttribute("aria-labelledby",c.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(b){var a=this,f=a.title,c=a.header,e=a.reExpander,d=a.placeholder;a.title=b;if(c)if(c.isHeader)c.setTitle(b);else c.title=b;e&&e.setTitle(b);d&&d.setTitle&&d.setTitle(b);a.fireEvent("titlechange",a,b,f)},setIconCls:function(b){var a=this,e=a.iconCls,c=a.header,d=a.placeholder;a.iconCls=b;if(c)if(c.isHeader)c.setIconCls(b);else c.iconCls=b;d&&d.setIconCls&&d.setIconCls(b);a.fireEvent("iconclschange",a,b,e)},setIcon:function(b){var a=this,e=a.icon,c=a.header,d=a.placeholder;a.icon=b;if(c)if(c.isHeader)c.setIcon(b);else c.icon=b;d&&d.setIcon&&d.setIcon(b);a.fireEvent("iconchange",a,b,e)},bridgeToolbars:function(){var a=this,b=[],c,e,f=a.minButtonWidth;function d(b,c,d){if(Ext.isArray(b))b={xtype:"toolbar",items:b};else if(!b.xtype)b.xtype="toolbar";b.dock=c;if(c=="left"||c=="right")b.vertical=true;if(d)b.layout=Ext.applyIf(b.layout||{},{pack:({left:"start",center:"center"})[a.buttonAlign]||"end"});return b}if(a.tbar){b.push(d(a.tbar,"top"));a.tbar=null}if(a.bbar){b.push(d(a.bbar,"bottom"));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){c=d(a.fbar,"bottom",true);c.ui="footer";if(f){e=c.defaults;c.defaults=function(a){var b=e||{};if((!a.xtype||a.xtype==="button"||a.isComponent&&a.isXType("button"))&&!("minWidth"in b))b=Ext.apply({minWidth:f},b);return b}}b.push(c);a.fbar=null}if(a.lbar){b.push(d(a.lbar,"left"));a.lbar=null}if(a.rbar){b.push(d(a.rbar,"right"));a.rbar=null}if(a.dockedItems){if(!Ext.isArray(a.dockedItems))a.dockedItems=[a.dockedItems];a.dockedItems=a.dockedItems.concat(b)}else a.dockedItems=b},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var a=this,b;a.callParent();a.initTools();!(a.preventHeader||a.header===false)&&a.updateHeader();if(a.collapsed)if(a.isPlaceHolderCollapse()){a.hidden=true;a.placeholderCollapse();b=a.collapsed;a.collapsed=false}else{a.beginCollapse();a.addClsWithUI(a.collapsedCls)}if(b)a.collapsed=b},initTools:function(){var a=this;a.tools=a.tools?Ext.Array.clone(a.tools):[];if(a.collapsible&&!(a.hideCollapseTool||a.header===false||a.preventHeader)){a.collapseDirection=a.collapseDirection||a.headerPosition||"top";a.collapseTool=a.expandTool=Ext.widget({xtype:"tool",type:a.collapsed&&!a.isPlaceHolderCollapse()?"expand-"+a.getOppositeDirection(a.collapseDirection):"collapse-"+a.collapseDirection,handler:a.toggleCollapse,scope:a});a.collapseFirst&&a.tools.unshift(a.collapseTool)}a.addTools();if(a.closable){a.addClsWithUI("closable");a.addTool({type:"close",handler:Ext.Function.bind(a.close,a,[])})}a.collapseTool&&!a.collapseFirst&&a.addTool(a.collapseTool)},addTools:Ext.emptyFn,close:function(){this.fireEvent("beforeclose",this)!==false&&this.doClose()},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(f){var a=this,b=a.header,d=a.title,c=a.tools,e=a.headerPosition=="left"||a.headerPosition=="right";if(b!==false&&(f||d||c&&c.length||a.collapsible&&!a.titleCollapse)){if(b&&b.isHeader)b.show();else{b=a.header=Ext.widget(Ext.apply({xtype:"header",title:d,titleAlign:a.titleAlign,orientation:e?"vertical":"horizontal",dock:a.headerPosition||"top",textCls:a.headerTextCls,iconCls:a.iconCls,icon:a.icon,baseCls:a.baseCls+"-header",tools:c,ui:a.ui,id:a.id+"_header",indicateDrag:a.draggable,frame:a.frame&&a.frameHeader,ignoreParentFrame:a.frame||a.overlapHeader,ignoreBorderManagement:a.frame||a.ignoreHeaderBorderManagement,listeners:a.collapsible&&a.titleCollapse?{click:a.toggleCollapse,scope:a}:null},a.header));a.addDocked(b,0);a.tools=b.tools}a.initHeaderAria()}else b&&b.hide()},setUI:function(b){var a=this;a.callParent(arguments);a.header&&a.header.rendered&&a.header.setUI(b)},getContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(b){var a=this;return a.collapsed&&a.placeholder?a.placeholder.isVisible(b):a.callParent(arguments)},onHide:function(){var a=this;if(a.collapsed&&a.placeholder)a.placeholder.hide();else a.callParent(arguments)},onShow:function(){var a=this;if(a.collapsed&&a.placeholder){a.hidden=true;a.placeholder.show()}else a.callParent(arguments)},onRemoved:function(b){var a=this;a.callParent(arguments);a.placeholder&&!b&&a.ownerCt.remove(a.placeholder,false)},addTool:function(a){a=[].concat(a);for(var d=this,e=d.header,f=a.length,b,c=0;c<f;c++){b=a[c];d.tools.push(b);e&&e.addTool(b)}d.updateHeader()},getOppositeDirection:function(b){var a=Ext.Component;switch(b){case a.DIRECTION_TOP:return a.DIRECTION_BOTTOM;case a.DIRECTION_RIGHT:return a.DIRECTION_LEFT;case a.DIRECTION_BOTTOM:return a.DIRECTION_TOP;case a.DIRECTION_LEFT:return a.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return a=="left"||a=="right"},collapsedVertical:function(){var a=this.getCollapsed();return a=="top"||a=="bottom"},getCollapsed:function(){var a=this;return a.collapsed===true?a.collapseDirection:a.collapsed},getState:function(){var c=this,a=c.callParent(),b;a=c.addPropertyToState(a,"collapsed");if(c.collapsed){b=c.collapseMemento;b=b&&b.data;if(c.collapsedVertical()){if(a)delete a.height;if(b)a=c.addPropertyToState(a,"height",b.height)}else{if(a)delete a.width;if(b)a=c.addPropertyToState(a,"width",b.width)}}return a},findReExpander:function(g){var f=this,c=Ext.Component,d=f.dockedItems.items,e=d.length,a,b;if(f.collapseMode=="mini")return;switch(g){case c.DIRECTION_TOP:case c.DIRECTION_BOTTOM:for(b=0;b<e;b++){a=d[b];if(!a.hidden)if(a.isHeader&&(!a.dock||a.dock=="top"||a.dock=="bottom"))return a}break;case c.DIRECTION_LEFT:case c.DIRECTION_RIGHT:for(b=0;b<e;b++){a=d[b];if(!a.hidden)if(a.isHeader&&(a.dock=="left"||a.dock=="right"))return a}break;default:throw"Panel#findReExpander must be passed a valid collapseDirection";}},getReExpander:function(d){var a=this,c=d||a.collapseDirection,b=a.reExpander||a.findReExpander(c);a.expandDirection=a.getOppositeDirection(c);if(!b){a.reExpander=b=a.createReExpander(c,{dock:c,cls:Ext.baseCSSPrefix+"docked "+a.baseCls+"-"+a.ui+"-collapsed",ownerCt:a,ownerLayout:a.componentLayout});a.dockedItems.insert(0,b)}return b},createReExpander:function(c,h){var a=this,g=c=="left",e=c=="right",f=g||e,d,b=Ext.apply({hideMode:"offsets",title:a.title,orientation:f?"vertical":"horizontal",textCls:a.headerTextCls,icon:a.icon,iconCls:a.iconCls,baseCls:a.baseCls+"-header",ui:a.ui,frame:a.frame&&a.frameHeader,ignoreParentFrame:a.frame||a.overlapHeader,indicateDrag:a.draggable},h);if(a.collapseMode=="mini")if(f)b.width=1;else b.height=1;if(!a.hideCollapseTool){d=g||e&&a.isPlaceHolderCollapse();b[d?"items":"tools"]=[{xtype:"tool",type:"expand-"+a.getOppositeDirection(c),uiCls:["top"],handler:a.toggleCollapse,scope:a}]}b=new Ext.panel.Header(b);b.addClsWithUI(a.getHeaderCollapsedClasses(b));return b},getHeaderCollapsedClasses:function(d){var a=this,c=a.collapsedCls,b;b=[c,c+"-"+d.dock];a.border&&(!a.frame||a.frame&&Ext.supports.CSS3BorderRadius)&&b.push(c+"-border-"+d.dock);return b},beginCollapse:function(){var a=this,d=a.lastBox,f=a.rendered,c=a.collapseMemento||(a.collapseMemento=new Ext.util.Memento(a)),e=a.getSizeModel(),b;c.capture(["height","minHeight","width","minWidth"]);d&&c.capture(["x","y","height","width"],d,"last.");if(a.collapsedVertical()){if(e.width.shrinkWrap)a.width=f?a.getWidth():a.width||a.minWidth||100;delete a.height;a.minHeight=0}else if(a.collapsedHorizontal()){if(e.height.shrinkWrap)a.height=f?a.getHeight():a.height||a.minHeight||100;delete a.width;a.minWidth=0}a.ownerCt&&a.ownerCt.getLayout().beginCollapse(a);if(!a.isPlaceHolderCollapse())if(a.header===(b=a.getReExpander())){a.header.addClsWithUI(a.getHeaderCollapsedClasses(a.header));a.header.rendered&&a.header.updateFrame()}else if(b.el){b.el.show();b.hidden=false}a.resizer&&a.resizer.disable()},beginExpand:function(){var a=this,d=a.lastBox,c=a.collapseMemento,b;c.restore(["height","minHeight","width","minWidth"]);d&&c.restore(["x","y","height","width"],true,d,"last.");a.ownerCt&&a.ownerCt.getLayout().beginExpand(a);if(!a.isPlaceHolderCollapse())if(a.header===(b=a.getReExpander())){a.header.removeClsWithUI(a.getHeaderCollapsedClasses(a.header));a.header.rendered&&a.header.updateFrame()}else{b.hidden=true;b.el.hide()}a.resizer&&a.resizer.enable()},collapse:function(c,b){var a=this,e=c||a.collapseDirection,d=a.ownerCt;if(a.isCollapsingOrExpanding)return a;if(arguments.length<2)b=a.animCollapse;if(a.collapsed||a.fireEvent("beforecollapse",a,c,b)===false)return a;if(d&&a.isPlaceHolderCollapse())return a.placeholderCollapse(c,b);a.collapsed=e;a.beginCollapse();a.fireHierarchyEvent("collapse");return a.doCollapseExpand(1,b)},doCollapseExpand:function(d,b){var a=this,e=a.animCollapse,c=a.ownerLayout;a.animCollapse=b;a.isCollapsingOrExpanding=d;if(c&&!b)c.onContentChange(a);else a.updateLayout({isRoot:true});a.animCollapse=e;return a},afterCollapse:function(c){var a=this,b=a.ownerLayout;a.isCollapsingOrExpanding=0;a.collapseTool&&a.collapseTool.setType("expand-"+a.getOppositeDirection(a.collapseDirection));if(b&&c)b.onContentChange(a);a.setHiddenDocked();a.fireEvent("collapse",a)},setHiddenDocked:function(){var b=this,c=b.hiddenOnCollapse,g=b.getReExpander(),e=b.getDockedItems(),f=e.length,d=0,a;c.add(b.body);for(;d<f;d++){a=e[d];a&&a!==g&&a.el&&c.add(a.el)}c.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},getPlaceholder:function(e){var a=this,d=e||a.collapseDirection,c=null,b=a.placeholder;if(!b){if(a.floatable||a.collapsible&&a.titleCollapse)c={click:{fn:a.floatable?a.floatCollapsedPanel:a.toggleCollapse,element:"el",scope:a}};a.placeholder=b=Ext.widget(a.createReExpander(d,{id:a.id+"-placeholder",listeners:c}))}if(!b.placeholderFor){if(!b.isComponent)a.placeholder=b=a.lookupComponent(b);Ext.applyIf(b,{margins:a.margins,placeholderFor:a});b.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+d+"-placeholder",a.collapsedCls])}return b},placeholderCollapse:function(g,e){var a=this,c=a.ownerCt,d=g||a.collapseDirection,f=Ext.baseCSSPrefix+"border-region-slide-in",b=a.getPlaceholder(g);a.isCollapsingOrExpanding=1;a.hidden=true;a.collapsed=d;if(b.rendered){b.el.dom.parentNode!==a.el.dom.parentNode&&a.el.dom.parentNode.insertBefore(b.el.dom,a.el.dom);b.hidden=false;b.el.show();c.updateLayout()}else c.insert(c.items.indexOf(a),b);if(a.rendered){a.el.setVisibilityMode(a.placeholderCollapseHideMode);if(e){a.el.addCls(f);b.el.hide();a.el.slideOut(d.substr(0,1),{preserveScroll:true,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(f);b.el.show().setStyle("display","none").slideIn(d.substr(0,1),{easing:"linear",duration:100,listeners:{afteranimate:function(){b.focus();a.isCollapsingOrExpanding=0;a.fireEvent("collapse",a)}}})}}})}else{a.el.hide();a.isCollapsingOrExpanding=0;a.fireEvent("collapse",a)}}else{a.isCollapsingOrExpanding=0;a.fireEvent("collapse",a)}return a},floatCollapsedPanel:function(){var a=this,e=a.placeholder,b=e.getBox(true),d,g=Ext.baseCSSPrefix+"border-region-slide-in",i=a.collapsed,h=a.ownerCt||a,c;if(a.el.hasCls(g)){a.slideOutFloatedPanel();return}if(a.isSliding)return;a.isSliding=true;function f(c){var b=a.el.getRegion().union(e.el.getRegion()).adjust(1,-1,-1,1);!b.contains(c.getPoint())&&a.slideOutFloatedPanel()}a.placeholder.el.hide();a.placeholder.hidden=true;a.el.show();a.hidden=false;a.collapsed=false;h.updateLayout();d=a.getBox(true);a.placeholder.el.show();a.placeholder.hidden=false;a.el.hide();a.hidden=true;a.collapsed=i;h.updateLayout();a.placeholderMouseMon=e.el.monitorMouseLeave(500,f);a.panelMouseMon=a.el.monitorMouseLeave(500,f);a.el.addCls(g);a.collapseTool&&a.collapseTool.el.hide();switch(a.collapsed){case"top":a.el.setLeftTop(b.x,b.y+b.height-1);c="t";break;case"right":a.el.setLeftTop(b.x-d.width+1,b.y);c="r";break;case"bottom":a.el.setLeftTop(b.x,b.y-d.height+1);c="b";break;case"left":a.el.setLeftTop(b.x+b.width-1,b.y);c="l"}a.floatedFromCollapse=a.collapsed;a.collapsed=a.hidden=false;a.el.slideIn(c,{preserveScroll:true,listeners:{afteranimate:function(){a.isSliding=false}}})},isLayoutRoot:function(){return this.floatedFromCollapse?true:this.callParent()},slideOutFloatedPanel:function(){var a=this,c=this.el,b;if(a.isSliding)return;a.isSliding=true;a.slideOutFloatedPanelBegin();if(typeof a.collapsed=="string")b=a.collapsed.charAt(0);c.slideOut(b,{preserveScroll:true,listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in");a.isSliding=false}}})},slideOutFloatedPanelBegin:function(){var a=this,b=this.el;a.collapsed=a.floatedFromCollapse;a.hidden=true;a.floatedFromCollapse=null;b.un(a.panelMouseMon);a.placeholder.el.un(a.placeholderMouseMon)},slideOutFloatedPanelEnd:function(){this.collapseTool&&this.collapseTool.el.show()},expand:function(b){var a=this;if(a.isCollapsingOrExpanding)return a;if(!arguments.length)b=a.animCollapse;if(!a.collapsed&&!a.floatedFromCollapse)return a;if(a.fireEvent("beforeexpand",a,b)===false)return a;if(a.isPlaceHolderCollapse())return a.placeholderExpand(b);a.restoreHiddenDocked();a.beginExpand();a.collapsed=false;a.fireHierarchyEvent("expand");return a.doCollapseExpand(2,b)},placeholderExpand:function(c){var a=this,g=a.collapsed,d=Ext.baseCSSPrefix+"border-region-slide-in",e,b,f;if(a.floatedFromCollapse){b=a.getPosition(true);a.slideOutFloatedPanelBegin();a.slideOutFloatedPanelEnd()}a.isCollapsingOrExpanding=2;a.placeholder.hidden=true;a.placeholder.el.hide();a.collapsed=false;a.show();if(c)if(b){e=a.el.getXY();a.el.setLeftTop(b[0],b[1]);a.el.moveTo(e[0],e[1],{duration:Ext.Number.from(c,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.el.removeCls(d);a.isCollapsingOrExpanding=0;a.fireEvent("expand",a)}}})}else{a.hidden=true;a.el.addCls(d);a.el.hide();a.collapsed=g;a.placeholder.show();f=g.substr(0,1);a.hidden=false;a.el.slideIn(f,{preserveScroll:true,duration:Ext.Number.from(c,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.collapsed=false;a.el.removeCls(d);a.placeholder.hide();a.isCollapsingOrExpanding=0;a.fireEvent("expand",a)}}})}else{a.isCollapsingOrExpanding=0;a.fireEvent("expand",a)}return a},afterExpand:function(c){var a=this,b=a.ownerLayout;a.isCollapsingOrExpanding=0;a.collapseTool&&a.collapseTool.setType("collapse-"+a.collapseDirection);if(b&&c)b.onContentChange(a);a.fireEvent("expand",a)},setBorder:function(a,d){if(d)return;var b=this,c=b.header;if(!a)a=0;else a=Ext.Element.unitizeBox(a===true?1:a);if(c)if(c.isHeader)c.setBorder(a);else c.border=a;b.rendered&&b.bodyBorder!==false&&b.body.setStyle("border-width",a);b.updateLayout();b.border=a},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},ghostTools:function(){var c=[],f=this.header,b=f?f.query("tool[hidden=false]"):[],a,d,e;if(b.length){a=0;d=b.length;for(;a<d;a++){e=b[a];c.push({type:e.type})}}else c=[{type:"placeholder"}];return c},ghost:function(e){var a=this,b=a.ghostPanel,d=a.getBox(),c;if(!b){b=new Ext.panel.Panel({renderTo:document.body,floating:{shadow:false},frame:a.frame&&!a.alwaysFramed,alwaysFramed:a.alwaysFramed,overlapHeader:a.overlapHeader,headerPosition:a.headerPosition,baseCls:a.baseCls,cls:a.baseCls+"-ghost "+(e||"")});a.ghostPanel=b}b.floatParent=a.floatParent;if(a.floating)b.setZIndex(Ext.Number.from(a.el.getStyle("zIndex"),0));else b.toFront();if(!(a.preventHeader||a.header===false)){c=b.header;if(c){c.suspendLayouts();Ext.Array.forEach(c.query("tool"),c.remove,c);c.resumeLayouts()}b.addTool(a.ghostTools());b.setTitle(a.title);b.setIconCls(a.iconCls)}b.el.show();b.setPagePosition(d.x,d.y);b.setSize(d.width,d.height);a.el.hide();return b},unghost:function(c,b){var a=this;if(!a.ghostPanel)return;if(c!==false){a.el.show();if(b!==false){a.setPagePosition(a.ghostPanel.el.getXY());if(a.hideMode=="offsets")delete a.el.hideModeStyles}Ext.defer(a.focus,10,a)}a.ghostPanel.el.hide()},beginDrag:function(){this.floatingItems&&this.floatingItems.hide()},endDrag:function(){this.floatingItems&&this.floatingItems.show()},initResizable:function(a){if(this.collapsed)a.disabled=true;this.callParent([a])}},function(){this.prototype.animCollapse=Ext.enableFx});Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:true,frameHeader:false,internalDefaults:{removeMode:"container",hideParent:true},titleAlign:"center",initComponent:function(){var a=this,b=a.columns;a.noTitleCls=a.baseCls+"-notitle";if(b)a.layout=Ext.apply({},{columns:b},a.layout);!a.title&&a.addCls(a.noTitleCls);a.callParent(arguments)},onBeforeAdd:function(a){if(a.isButton)a.ui=a.ui+"-toolbar";this.callParent(arguments)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments);var b=this.internalDefaults;if(a.events){Ext.applyIf(a.initialConfig,b);Ext.apply(a,b)}else Ext.applyIf(a,b)}return a}});Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],allowOtherMenus:false,ariaRole:"menu",defaultAlign:"tl-bl?",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,initComponent:function(){var a=this,b=Ext.baseCSSPrefix,c=[b+"menu"],d=a.bodyCls?[a.bodyCls]:[],e=a.floating!==false;a.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(a);a.plain&&c.push(b+"menu-plain");a.cls=c.join(" ");d.unshift(b+"menu-body");a.bodyCls=d.join(" ");if(!a.layout)a.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"};if(e&&a.minWidth===undefined)a.minWidth=a.defaultMinWidth;if(!e&&a.initialConfig.hidden!==true)a.hidden=false;a.callParent(arguments);a.on("beforeshow",function(){var b=!!a.items.length;b&&a.rendered&&a.el.setStyle("visibility",null);return b})},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap)this.layout.align="stretch"},onBoxReady:function(){var a=this,b;a.callParent(arguments);if(a.showSeparator){b={cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"};if(!Ext.isStrict&&Ext.isIE||Ext.isIE6)b.style="height:"+a.el.getHeight()+"px";a.iconSepEl=a.layout.getElementTarget().insertFirst(b)}a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a});a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a);a.keyNav=new Ext.menu.KeyNav(a)},getBubbleTarget:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(d){var a=this,b=a.activeItem,c=a.focusedItem;if(b){b.deactivate();if(!b.activated)delete a.activeItem}if(c&&d){c.blur();delete a.focusedItem}},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){var b=this;if(typeof a=="string")a=b.lookupItemFromString(a);else if(Ext.isObject(a))a=b.lookupItemFromObject(a);a.minWidth=a.minWidth||b.minWidth;return a},lookupItemFromObject:function(a){var d=this,c=Ext.baseCSSPrefix,b;if(!a.isComponent)if(!a.xtype)a=Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a);else a=Ext.ComponentManager.create(a,a.xtype);if(a.isMenuItem)a.parentMenu=d;if(!a.isMenuItem&&!a.dock){b=[c+"menu-item",c+"menu-item-cmp"];!d.plain&&(a.indent===true||a.iconCls==="no-icon")&&b.push(c+"menu-item-indent");if(a.rendered)a.el.addCls(b);else a.cls=(a.cls?a.cls:"")+" "+b.join(" ")}return a},lookupItemFromString:function(a){return a=="separator"||a=="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:a})},onClick:function(c){var b=this,a;if(b.disabled){c.stopEvent();return}a=c.type==="click"?b.getItemFromEvent(c):b.activeItem;if(a&&a.isMenuItem)if(!a.menu||!b.ignoreParentClicks)a.onClick(c);else c.stopEvent();if(!a||a.disabled)a=undefined;b.fireEvent("click",b,a,c)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);delete a.parentMenu;delete a.ownerButton;if(a.rendered){a.el.un(a.mouseMonitor);a.keyNav.destroy();delete a.keyNav}a.callParent(arguments)},onMouseLeave:function(b){var a=this;a.deactivateActiveItem();if(a.disabled)return;a.fireEvent("mouseleave",a,b)},onMouseOver:function(c){var a=this,g=c.getRelatedTarget(),f=!a.el.contains(g),b=a.getItemFromEvent(c),d=a.parentMenu,e=a.parentItem;if(f&&d){d.setActiveItem(e);e.cancelDeferHide();d.mouseMonitor.mouseenter()}if(a.disabled)return;if(b&&!b.activated){a.setActiveItem(b);b.activated&&b.expandMenu&&b.expandMenu()}f&&a.fireEvent("mouseenter",a,c);a.fireEvent("mouseover",a,b,c)},setActiveItem:function(a){var b=this;if(a&&a!=b.activeItem){b.deactivateActiveItem();if(b.canActivateItem(a))if(a.activate){a.activate();if(a.activated){b.activeItem=a;b.focusedItem=a;b.focus()}}else{a.focus();b.focusedItem=a}a.el.scrollIntoView(b.layout.getRenderTarget())}},showBy:function(b,d,c){var a=this;if(a.floating&&b){a.show();a.setPagePosition(a.el.getAlignToXY(b.el||b,d||a.defaultAlign,c));a.setVerticalPosition()}return a},show:function(){var a=this,d,b,c,e=a.maxHeight;!a.rendered&&a.doAutoRender();if(a.floating){d=Ext.fly(a.el.getScopeParent());b=d.getViewSize().height;a.maxHeight=Math.min(e||b,b)}c=a.callParent(arguments);a.maxHeight=e;return c},afterComponentLayout:function(){var a=this;a.callParent(arguments);a.showSeparator&&a.iconSepEl.setHeight(a.componentLayout.lastComponentSize.contentHeight)},setVerticalPosition:function(){var a=this,f,b=a.el.getY(),d=b,c=a.getHeight(),h=Ext.Element.getViewportHeight().height,e=Ext.fly(a.el.getScopeParent()),g=e.getViewSize().height,i=b-e.getScroll().top;e=null;if(a.floating){f=a.maxHeight?a.maxHeight:g-i;if(c>g)d=b-i;else if(f<c)d=b-(c-f);else if(b+c>h)d=h-c}a.el.setY(d)}});Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:true,pickerId:null,initComponent:function(){var a=this,b=Ext.apply({},a.initialConfig);delete b.listeners;Ext.apply(a,{plain:true,showSeparator:false,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:a.pickerId,xtype:"colorpicker"},b)});a.callParent(arguments);a.picker=a.down("colorpicker");a.relayEvents(a.picker,["select"]);if(a.hideOnClick)a.on("select",a.hidePickerOnSelect,a)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],hideOnClick:true,pickerId:null,initComponent:function(){var a=this;Ext.apply(a,{showSeparator:false,plain:true,border:false,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:a.pickerId,xtype:"datepicker"},a.initialConfig)});a.callParent(arguments);a.picker=a.down("datepicker");a.relayEvents(a.picker,["select"]);if(a.hideOnClick)a.on("select",a.hidePickerOnSelect,a)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:["Ext.selection.RowModel","Ext.grid.PagingScroller","Ext.grid.header.Container","Ext.grid.Lockable"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:false,viewType:null,selType:"rowmodel",scroll:true,deferRowRender:true,sortableColumns:true,enableLocking:false,scrollerOwner:true,enableColumnMove:true,restrictColumnReorder:false,enableColumnResize:true,enableColumnHide:true,rowLines:true,initComponent:function(){var a=this,e=a.scroll,g=false,f=false,b=a.columns||a.colModel,c,h=a.border,d,i;a.columnLines&&a.addCls(Ext.baseCSSPrefix+"grid-with-col-lines");a.rowLines&&a.addCls(Ext.baseCSSPrefix+"grid-with-row-lines");a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store");if(b instanceof Ext.grid.header.Container){a.headerCt=b;a.headerCt.border=h;a.columns=a.headerCt.items.items}else{if(Ext.isArray(b))b={items:b,border:h};Ext.apply(b,{forceFit:a.forceFit,sortable:a.sortableColumns,enableColumnMove:a.enableColumnMove,enableColumnResize:a.enableColumnResize,enableColumnHide:a.enableColumnHide,border:h,restrictReorder:a.restrictColumnReorder});a.columns=b.items;if(a.enableLocking||Ext.ComponentQuery.query("{locked !== undefined}{processed != true}",a.columns).length){a.self.mixin("lockable",Ext.grid.Lockable);a.injectLockable()}}a.scrollTask=new Ext.util.DelayedTask(a.syncHorizontalScroll,a);a.addEvents("reconfigure","viewready");a.bodyCls=a.bodyCls||"";a.bodyCls+=" "+a.extraBodyCls;a.cls=a.cls||"";a.cls+=" "+a.extraBaseCls;delete a.autoScroll;if(!a.hasView){if(!a.headerCt)a.headerCt=new Ext.grid.header.Container(b);a.columns=a.headerCt.items.items;if(a.store.buffered&&!a.store.remoteSort)for(d=0,i=a.columns.length;d<i;d++)a.columns[d].sortable=false;if(a.hideHeaders){a.headerCt.height=0;a.headerCt.addCls(Ext.baseCSSPrefix+"grid-header-ct-hidden");a.addCls(Ext.baseCSSPrefix+"grid-header-hidden");if(Ext.isIEQuirks)a.headerCt.style={display:"none"}}if(e===true||e==="both")g=f=true;else if(e==="horizontal")f=true;else if(e==="vertical")g=true;a.relayHeaderCtEvents(a.headerCt);a.features=a.features||[];if(!Ext.isArray(a.features))a.features=[a.features];a.dockedItems=[].concat(a.dockedItems||[]);a.dockedItems.unshift(a.headerCt);a.viewConfig=a.viewConfig||{};if(a.store&&a.store.buffered)a.viewConfig.preserveScrollOnRefresh=true;else if(a.invalidateScrollerOnRefresh!==undefined)a.viewConfig.preserveScrollOnRefresh=!a.invalidateScrollerOnRefresh;c=a.getView();a.items=[c];a.hasView=true;if(g)if(a.store.buffered)a.verticalScroller=new Ext.grid.PagingScroller(Ext.apply({panel:a,store:a.store,view:a.view},a.verticalScroller));if(f)if(!a.hideHeaders)c.on({scroll:{fn:a.onHorizontalScroll,element:"el",scope:a}});a.mon(c.store,{load:a.onStoreLoad,scope:a});a.mon(c,{viewready:a.onViewReady,refresh:a.onRestoreHorzScroll,scope:a})}this.relayEvents(a.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]);a.callParent(arguments);a.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange"]);if(a.headerCt)a.headerCt.on("afterlayout",a.onRestoreHorzScroll,a)},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","sortchange"])},getState:function(){var a=this,b=a.callParent(),c=a.store.sorters.first();b=a.addPropertyToState(b,"columns",(a.headerCt||a).getColumnsState());if(c)b=a.addPropertyToState(b,"sort",{property:c.property,direction:c.direction,root:c.root});return b},applyState:function(d){var b=this,a=d.sort,c=b.store,e=d.columns;delete d.columns;b.callParent(arguments);e&&(b.headerCt||b).applyColumnsState(e);if(a)if(c.remoteSort)c.sort({property:a.property,direction:a.direction,root:a.root},null,false);else c.sort(a.property,a.direction)},getStore:function(){return this.store},getView:function(){var a=this,b;if(!a.view){b=a.getSelectionModel();a.view=Ext.widget(Ext.apply({},a.viewConfig,{grid:a,deferInitialRefresh:a.deferRowRender!==false,scroll:a.scroll,xtype:a.viewType,store:a.store,headerCt:a.headerCt,selModel:b,features:a.features,panel:a,emptyText:a.emptyText?'<div class="'+Ext.baseCSSPrefix+'grid-empty">'+a.emptyText+"</div>":""}));a.mon(a.view,{uievent:a.processEvent,scope:a});b.view=a.view;a.headerCt.view=a.view;a.relayEvents(a.view,["cellclick","celldblclick"])}return a.view},setAutoScroll:Ext.emptyFn,processEvent:function(g,e,d,f,b){var c=this,a;if(b!==-1){a=c.headerCt.getGridColumns()[b];return a.processEvent.apply(a,arguments)}},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(b,a){this.getView().scrollBy(0,b,a)},scrollByDeltaX:function(b,a){this.getView().scrollBy(b,0,a)},afterCollapse:function(){var a=this;a.saveScrollPos();a.saveScrollPos();a.callParent(arguments)},afterExpand:function(){var a=this;a.callParent(arguments);a.restoreScrollPos();a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(e,f,b,c,d){var a=this;if(a.optimizedColumnMove===false)a.view.refresh();else a.view.moveColumn(c,d,b);a.delayScroll()},onHeaderHide:function(){this.delayScroll()},onHeaderShow:function(){this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;a&&this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;a&&this.syncHorizontalScroll(a)},setScrollTop:function(c){var b=this,a=b.getScrollerOwner();a.virtualScrollTop=c},getScrollerOwner:function(){var a=this;if(!this.scrollerOwner)a=this.up("[scrollerOwner]");return a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true))},getSelectionModel:function(){if(!this.selModel)this.selModel={};var a="SINGLE",b;if(this.simpleSelect)a="SIMPLE";else if(this.multiSelect)a="MULTI";Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:a});if(!this.selModel.events){b=this.selModel.selType||this.selType;this.selModel=Ext.create("selection."+b,this.selModel)}if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect"]);this.selModel.hasRelaySetup=true}if(this.disableSelection)this.selModel.locked=true;return this.selModel},getScrollTarget:function(){var b=this.getScrollerOwner(),a=b.query("tableview");return a[1]||a[0]},onHorizontalScroll:function(b,a){this.syncHorizontalScroll(a.scrollLeft)},syncHorizontalScroll:function(b){var a=this,c;if(a.rendered){c=a.getScrollTarget();c.el.dom.scrollLeft=b;a.headerCt.el.dom.scrollLeft=b;a.scrollLeftPos=b}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a){var b=this;b.store=a;b.getView().bindStore(a)},beforeDestroy:function(){Ext.destroy(this.verticalScroller);this.callParent()},reconfigure:function(b,c){var a=this,d=a.headerCt;if(a.lockable)a.reconfigureLockable(b,c);else{if(c){delete a.scrollLeftPos;d.suspendLayouts();d.removeAll();d.add(c)}if(b){b=Ext.StoreManager.lookup(b);a.bindStore(b)}else a.getView().refresh();c&&d.resumeLayouts(true);d.setSortState()}a.fireEvent("reconfigure",a,b,c)}});Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],tabPosition:"top",removePanelHeader:true,plain:false,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,initComponent:function(){var a=this,b=[].concat(a.dockedItems||[]),c=a.activeTab||(a.activeTab=0);a.layout=new Ext.layout.container.Card(Ext.apply({owner:a,deferredRender:a.deferredRender,itemCls:a.itemCls,activeItem:a.activeTab},a.layout));a.tabBar=new Ext.tab.Bar(Ext.apply({dock:a.tabPosition,plain:a.plain,border:a.border,cardLayout:a.layout,tabPanel:a},a.tabBar));b.push(a.tabBar);a.dockedItems=b;a.addEvents("beforetabchange","tabchange");a.callParent(arguments);a.activeTab=a.getComponent(c);if(a.activeTab){a.activeTab.tab.activate(true);a.tabBar.activeTab=a.activeTab.tab}},setActiveTab:function(a){var b=this,c;a=b.getComponent(a);if(a){c=b.getActiveTab();if(c!==a&&b.fireEvent("beforetabchange",b,a,c)===false)return false;if(!a.isComponent){Ext.suspendLayouts();a=b.add(a);Ext.resumeLayouts()}b.activeTab=a;Ext.suspendLayouts();b.layout.setActiveItem(a);a=b.activeTab=b.layout.getActiveItem();if(a&&a!==c){b.tabBar.setActiveTab(a.tab);Ext.resumeLayouts(true);c!==a&&b.fireEvent("tabchange",b,a,c)}else Ext.resumeLayouts(true);return a}},getActiveTab:function(){var a=this,b=a.getComponent(a.activeTab);if(b&&a.items.indexOf(b)!=-1)a.activeTab=b;else a.activeTab=null;return a.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(a,e){var b=this,c=a.tabConfig||{},d={xtype:"tab",card:a,disabled:a.disabled,closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:b.tabBar,closeText:a.closeText};c=Ext.applyIf(c,d);a.tab=b.tabBar.insert(e,c);a.on({scope:b,enable:b.onItemEnable,disable:b.onItemDisable,beforeshow:b.onItemBeforeShow,iconchange:b.onItemIconChange,iconclschange:b.onItemIconClsChange,titlechange:b.onItemTitleChange});if(a.isPanel){if(b.removePanelHeader)if(a.rendered)a.header&&a.header.hide();else a.header=false;a.isPanel&&b.border&&a.setBorder(false)}},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab){this.setActiveTab(a);return false}},onItemIconChange:function(b,a){b.tab.setIcon(a)},onItemIconClsChange:function(b,a){b.tab.setIconCls(a)},onItemTitleChange:function(a,b){a.tab.setText(b)},doRemove:function(b){var a=this,c;if(a.destroying||a.items.getCount()==1)a.activeTab=null;else(c=a.tabBar.items.indexOf(a.tabBar.findNextActivatable(b.tab)))!==-1&&a.setActiveTab(c);this.callParent(arguments);delete b.tab.card;delete b.tab},onRemove:function(b){var a=this;b.un({scope:a,enable:a.onItemEnable,disable:a.onItemDisable,beforeshow:a.onItemBeforeShow});!a.destroying&&b.tab.ownerCt===a.tabBar&&a.tabBar.remove(b.tab)}});Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true,constrain:true},focusOnToFront:false,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:true,frameHeader:false,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow},a.self.prototype.floating);a.callParent(arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(b){var a=this;this.callParent(arguments);if(a.isVisible()){a.setPagePosition(b[0],b[1]);(a.constrainPosition||a.constrain)&&a.doConstrain();a.toFront(true)}},showBy:function(a,b){this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.getScopeParent()};Ext.Component.prototype.initDraggable.call(a)},ghost:undefined,unghost:undefined});Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:true,init:function(d){var a=this,c,b;if(!a.position)a.position=d.vertical?a.defaultVerticalPosition:a.defaultHorizontalPosition;switch(a.position){case"top":b=[0,-10];c="b-t?";break;case"bottom":b=[0,10];c="t-b?";break;case"left":b=[-10,0];c="r-l?";break;case"right":b=[10,0];c="l-r?"}if(!a.align)a.align=c;if(!a.offsets)a.offsets=b;d.on({scope:a,dragstart:a.onSlide,drag:a.onSlide,dragend:a.hide,destroy:a.destroy})},onSlide:function(c,d,b){var a=this;a.show();a.update(a.getText(b));a.el.alignTo(b.el,a.align,a.offsets)},getText:function(a){return String(a.value)}});Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template","Ext.layout.component.field.Slider"],childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+'slider {fieldCls} {vertical}" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(h,g){for(var e=g.$comp,a=0,c=e.thumbs,f=c.length,d,b;a<f;a++){d=c[a];b=d.getElConfig();b.id=e.id+"-thumb-"+a;Ext.DomHelper.generateMarkup(b,h)}},disableFormats:true}],vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,componentLayout:"sliderfield",useTips:true,tipText:null,ariaRole:"slider",initValue:function(){var a=this,c=Ext.value,b=c(a.values,[c(a.value,c(a.minValue,0))]),d=0,e=b.length;a.originalValue=b;for(;d<e;d++)a.addThumb(b[d])},initComponent:function(){var a=this,d,f,b,e,c;a.thumbs=[];a.keyIncrement=Math.max(a.increment,a.keyIncrement);a.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(a.increment){a.maxValue=Ext.Number.snapInRange(a.maxValue,a.increment,a.minValue);a.value=a.normalizeValue(a.value)}a.callParent();if(a.useTips){if(Ext.isObject(a.useTips))d=Ext.apply({},a.useTips);else d=a.tipText?{getText:a.tipText}:{};c=a.plugins=a.plugins||[];e=c.length;for(b=0;b<e;b++)if(c[b].isSliderTip){f=true;break}!f&&a.plugins.push(new Ext.slider.Tip(d))}},addThumb:function(c){var a=this,b=new Ext.slider.Thumb({ownerCt:a,ownerLayout:a.getComponentLayout(),value:c,slider:a,index:a.thumbs.length,constrain:a.constrainThumbs});a.thumbs.push(b);a.rendered&&b.render();return b},promoteThumb:function(d){for(var c=this.thumbs,e=c.length,f,a,b=0;b<e;b++){a=c[b];if(a==d)a.bringToFront();else a.sendToBack()}},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{$comp:a,vertical:a.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:a.minValue,maxValue:a.maxValue,value:a.value})},onRender:function(){var b=this,d=b.thumbs,e=d.length,a=0,c;b.callParent(arguments);for(a=0;a<e;a++){c=d[a];c.el=b.el.getById(b.id+"-thumb-"+a);c.onRender()}},initEvents:function(){var a=this;a.mon(a.el,{scope:a,mousedown:a.onMouseDown,keydown:a.onKeyDown})},getTrackpoint:function(f){var e=this,b,d,c=e.innerEl,a;if(e.vertical){d="top";a=c.getHeight()}else{d="left";a=c.getWidth()}b=Ext.Number.constrain(c.translatePoints(f)[d],0,a);return e.vertical?a-b:b},onMouseDown:function(f){var a=this,d=false,b=0,e=a.thumbs,g=e.length,c;if(a.disabled)return;for(;b<g;b++)d=d||f.target==e[b].el.dom;if(a.clickToChange&&!d){c=a.getTrackpoint(f.getXY());if(c!==undefined)a.onClickChange(c)}a.focus()},onClickChange:function(d){var a=this,b,c;b=a.getNearest(d);if(!b.disabled){c=b.index;a.setValue(c,Ext.util.Format.round(a.reversePixelValue(d),a.decimalPrecision),undefined,true)}},getNearest:function(k){for(var a=this,j=a.reversePixelValue(k),f=a.maxValue-a.minValue+5,e=null,i=a.thumbs,c=0,h=i.length,b,g,d;c<h;c++){b=a.thumbs[c];g=b.value;d=Math.abs(g-j);if(Math.abs(d<=f)){e=b;f=d}}return e},onKeyDown:function(a){var b=this,d,c;if(b.disabled||b.thumbs.length!==1){a.preventDefault();return}d=a.getKey();switch(d){case a.UP:case a.RIGHT:a.stopEvent();c=a.ctrlKey?b.maxValue:b.getValue(0)+b.keyIncrement;b.setValue(0,c,undefined,true);break;case a.DOWN:case a.LEFT:a.stopEvent();c=a.ctrlKey?b.minValue:b.getValue(0)-b.keyIncrement;b.setValue(0,c,undefined,true);break;default:a.preventDefault()}},normalizeValue:function(a){var b=this,c=Ext.Number,d=c[b.zeroBasedSnapping?"snap":"snapInRange"];a=d.call(c,a,b.increment,b.minValue,b.maxValue);a=Ext.util.Format.round(a,b.decimalPrecision);a=Ext.Number.constrain(a,b.minValue,b.maxValue);return a},setMinValue:function(c){var a=this,d=0,e=a.thumbs,f=e.length,b;a.minValue=c;a.rendered&&a.inputEl.dom.setAttribute("aria-valuemin",c);for(;d<f;++d){b=e[d];b.value=b.value<c?c:b.value}a.syncThumbs()},setMaxValue:function(c){var a=this,d=0,e=a.thumbs,f=e.length,b;a.maxValue=c;a.rendered&&a.inputEl.dom.setAttribute("aria-valuemax",c);for(;d<f;++d){b=e[d];b.value=b.value>c?c:b.value}a.syncThumbs()},setValue:function(e,b,d,f){var a=this,c=a.thumbs[e];b=a.normalizeValue(b);if(b!==c.value&&a.fireEvent("beforechange",a,b,c.value,c)!==false){c.value=b;if(a.rendered){a.inputEl.set({"aria-valuenow":b,"aria-valuetext":b});c.move(a.calculateThumbPosition(b),Ext.isDefined(d)?d!==false:a.animate);a.fireEvent("change",a,b,c);a.checkDirty();f&&a.fireEvent("changecomplete",a,b,c)}}},calculateThumbPosition:function(a){return(a-this.minValue)/(this.maxValue-this.minValue)*100},getRatio:function(){var c=this,a=this.vertical?this.innerEl.getHeight():this.innerEl.getWidth(),b=this.maxValue-this.minValue;return b===0?a:a/b},reversePixelValue:function(a){return this.minValue+a/this.getRatio()},reversePercentageValue:function(a){return this.minValue+(this.maxValue-this.minValue)*(a/100)},onDisable:function(){var a=this,c=0,e=a.thumbs,g=e.length,b,d,f;a.callParent();for(;c<g;c++){b=e[c];d=b.el;b.disable();if(Ext.isIE){f=d.getXY();d.hide();a.innerEl.addCls(a.disabledCls).dom.disabled=true;if(!a.thumbHolder)a.thumbHolder=a.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+a.disabledCls});a.thumbHolder.show().setXY(f)}}},onEnable:function(){var a=this,c=0,d=a.thumbs,f=d.length,b,e;this.callParent();for(;c<f;c++){b=d[c];e=b.el;b.enable();if(Ext.isIE){a.innerEl.removeCls(a.disabledCls).dom.disabled=false;a.thumbHolder&&a.thumbHolder.hide();e.show();a.syncThumbs()}}},syncThumbs:function(){if(this.rendered)for(var b=this.thumbs,c=b.length,a=0;a<c;a++)b[a].move(this.calculateThumbPosition(b[a].value))},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){for(var c=[],a=0,b=this.thumbs,d=b.length;a<d;a++)c.push(b[a].value);return c},getSubmitValue:function(){var a=this;return a.disabled||!a.submitValue?null:a.getValue()},reset:function(){for(var b=this,c=[].concat(b.originalValue),a=0,e=c.length,d;a<e;a++){d=c[a];b.setValue(a,d)}b.clearInvalid();delete b.wasValid},beforeDestroy:function(){var a=this,c=a.thumbs,b=0,e=c.length,d;Ext.destroy(a.innerEl,a.endEl,a.focusEl);for(;b<e;b++){d=c[b];Ext.destroy(d)}a.callParent()}});Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(){var a=arguments,b=a.length;if(b==1||b<=3&&typeof a[1]!="number"){a=Ext.toArray(a);a.unshift(0)}return this.callParent(a)},getNearest:function(){return this.thumbs[0]}});Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;a.callParent(arguments);a.lastActive=new Date;a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(){var a=this;a.callParent(arguments);a.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+a.getAnchorPosition();a.anchorEl=a.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+a.anchorCls})},setTarget:function(d){var a=this,c=Ext.get(d),b;if(a.target){b=Ext.get(a.target);a.mun(b,"mouseover",a.onTargetOver,a);a.mun(b,"mouseout",a.onTargetOut,a);a.mun(b,"mousemove",a.onMouseMove,a)}a.target=c;c&&a.mon(c,{freezeEvent:true,mouseover:a.onTargetOver,mouseout:a.onTargetOut,mousemove:a.onMouseMove,scope:a});if(a.anchor)a.anchorTarget=a.target},onMouseMove:function(c){var a=this,d=a.delegate?c.getTarget(a.delegate):(a.triggerElement=true),b;if(d){a.targetXY=c.getXY();if(d===a.triggerElement){if(!a.hidden&&a.trackMouse){b=a.getTargetXY();if(a.constrainPosition)b=a.el.adjustForConstraints(b,a.el.getScopeParent());a.setPagePosition(b)}}else{a.hide();a.lastActive=new Date(0);a.onTargetOver(c)}}else!a.closable&&a.isVisible()&&a.autoHide!==false&&a.hide()},getTargetXY:function(){var a=this,c,d,h,i,k,g,e,m,l,b,f,j;if(a.delegate)a.anchorTarget=a.triggerElement;if(a.anchor){a.targetCounter++;d=a.getOffsets();h=a.anchorToTarget&&!a.trackMouse?a.el.getAlignToXY(a.anchorTarget,a.getAnchorAlign()):a.targetXY;i=Ext.Element.getViewWidth()-5;k=Ext.Element.getViewHeight()-5;g=document.documentElement;e=document.body;m=(g.scrollLeft||e.scrollLeft||0)+5;l=(g.scrollTop||e.scrollTop||0)+5;b=[h[0]+d[0],h[1]+d[1]];f=a.getSize();j=a.constrainPosition;a.anchorEl.removeCls(a.anchorCls);if(a.targetCounter<2&&j){if(b[0]<m){if(a.anchorToTarget){a.defaultAlign="l-r";if(a.mouseOffset)a.mouseOffset[0]*=-1}a.anchor="left";return a.getTargetXY()}if(b[0]+f.width>i){if(a.anchorToTarget){a.defaultAlign="r-l";if(a.mouseOffset)a.mouseOffset[0]*=-1}a.anchor="right";return a.getTargetXY()}if(b[1]<l){if(a.anchorToTarget){a.defaultAlign="t-b";if(a.mouseOffset)a.mouseOffset[1]*=-1}a.anchor="top";return a.getTargetXY()}if(b[1]+f.height>k){if(a.anchorToTarget){a.defaultAlign="b-t";if(a.mouseOffset)a.mouseOffset[1]*=-1}a.anchor="bottom";return a.getTargetXY()}}a.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+a.getAnchorPosition();a.anchorEl.addCls(a.anchorCls);a.targetCounter=0;return b}else{c=a.getMouseOffset();return a.targetXY?[a.targetXY[0]+c[0],a.targetXY[1]+c[1]]:c}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},getAnchorPosition:function(){var a=this,b;if(a.anchor)a.tipAnchor=a.anchor.charAt(0);else{b=a.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);a.tipAnchor=b[1].charAt(0)}switch(a.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var b=this,c,a,d=b.getAnchorPosition().charAt(0);if(b.anchorToTarget&&!b.trackMouse)switch(d){case"t":a=[0,9];break;case"b":a=[0,-13];break;case"r":a=[-13,0];break;default:a=[9,0]}else switch(d){case"t":a=[-15-b.anchorOffset,30];break;case"b":a=[-19-b.anchorOffset,-13-b.el.dom.offsetHeight];break;case"r":a=[-15-b.el.dom.offsetWidth,-13-b.anchorOffset];break;default:a=[25,-13-b.anchorOffset]}c=b.getMouseOffset();a[0]+=c[0];a[1]+=c[1];return a},onTargetOver:function(c){var a=this,b;if(a.disabled||c.within(a.target.dom,true))return;b=c.getTarget(a.delegate);if(b){a.triggerElement=b;a.clearTimer("hide");a.targetXY=c.getXY();a.delayShow()}},delayShow:function(){var a=this;if(a.hidden&&!a.showTimer)if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval)a.show();else a.showTimer=Ext.defer(a.show,a.showDelay,a);else!a.hidden&&a.autoHide!==false&&a.show()},onTargetOut:function(b){var a=this;if(a.disabled||b.within(a.target.dom,true))return;a.clearTimer("show");a.autoHide!==false&&a.delayHide()},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer)a.hideTimer=Ext.defer(a.hide,a.hideDelay,a)},hide:function(){var a=this;a.clearTimer("dismiss");a.lastActive=new Date;a.anchorEl&&a.anchorEl.hide();a.callParent(arguments);delete a.triggerElement},show:function(){var a=this;this.callParent();if(this.hidden===false){a.setPagePosition(-1e4,-1e4);if(a.anchor)a.anchor=a.origAnchor;!a.calledFromShowAt&&a.showAt(a.getTargetXY());if(a.anchor){a.syncAnchor();a.anchorEl.show()}else a.anchorEl.hide()}},showAt:function(b){var a=this;a.lastActive=new Date;a.clearTimers();a.calledFromShowAt=true;!a.isVisible()&&this.callParent(arguments);if(a.isVisible()){a.setPagePosition(b[0],b[1]);(a.constrainPosition||a.constrain)&&a.doConstrain();a.toFront(true);a.el.sync(true);if(a.dismissDelay&&a.autoHide!==false)a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a);if(a.anchor){a.syncAnchor();!a.anchorEl.isVisible()&&a.anchorEl.show()}else a.anchorEl.hide()}delete a.calledFromShowAt},syncAnchor:function(){var a=this,b,c,d;switch(a.tipAnchor.charAt(0)){case"t":b="b";c="tl";d=[20+a.anchorOffset,1];break;case"r":b="l";c="tr";d=[-1,12+a.anchorOffset];break;case"b":b="t";c="bl";d=[20+a.anchorOffset,-1];break;default:b="r";c="tl";d=[1,12+a.anchorOffset]}a.anchorEl.alignTo(a.el,b+"-"+c,d);a.anchorEl.setStyle("z-index",parseInt(a.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(){var a=this;a.callParent(arguments);a.anchor&&a.syncAnchor()},clearTimer:function(a){a=a+"Timer";clearTimeout(this[a]);delete this[a]},clearTimers:function(){var a=this;a.clearTimer("show");a.clearTimer("dismiss");a.clearTimer("hide")},onShow:function(){var a=this;a.callParent();a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent();a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(b){var a=this;if(!a.closable&&!b.within(a.el.dom)){a.disable();Ext.defer(a.doEnable,100,a)}},doEnable:function(){!this.isDestroyed&&this.enable()},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(d){var a=this,b,e,c;if(d.tips){a.tipTimeout=null;a.tipConfig=Ext.apply({},d.tips,{renderer:Ext.emptyFn,constrainPosition:true,autoHide:true});a.tooltip=new Ext.tip.ToolTip(a.tipConfig);a.chart.surface.on("mousemove",a.tooltip.onMouseMove,a.tooltip);a.chart.surface.on("mouseleave",function(){a.hideTip()});if(a.tipConfig.surface){b=a.tipConfig.surface;e=b.sprites;c=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:e});b.width&&b.height&&c.setSize(b.width,b.height);a.tooltip.add(c);a.spriteTip=c}}},showTip:function(d){var c=this,b,e,f,g,a,j,i,h,l,k;if(!c.tooltip)return;clearTimeout(c.tipTimeout);b=c.tooltip;e=c.spriteTip;f=c.tipConfig;g=b.trackMouse;if(!g){b.trackMouse=true;a=d.sprite;j=a.surface;i=Ext.get(j.getId());if(i){h=i.getXY();l=h[0]+(a.attr.x||0)+(a.attr.translation&&a.attr.translation.x||0);k=h[1]+(a.attr.y||0)+(a.attr.translation&&a.attr.translation.y||0);b.targetXY=[l,k]}}if(e)f.renderer.call(b,d.storeItem,d,e.surface);else f.renderer.call(b,d.storeItem,d);b.show();b.trackMouse=g},hideTip:function(){var a=this.tooltip;if(!a)return;clearTimeout(this.tipTimeout);this.tipTimeout=setTimeout(function(){a.hide()},0)}});Ext.define("Ext.chart.series.Series",{mixins:{observable:"Ext.util.Observable",labels:"Ext.chart.Label",highlights:"Ext.chart.Highlight",tips:"Ext.chart.Tip",callouts:"Ext.chart.Callout"},type:null,title:null,showInLegend:true,renderer:function(e,b,a){return a},shadowAttributes:null,triggerAfterDraw:false,constructor:function(b){var a=this;b&&Ext.apply(a,b);a.shadowGroups=[];a.mixins.labels.constructor.call(a,b);a.mixins.highlights.constructor.call(a,b);a.mixins.tips.constructor.call(a,b);a.mixins.callouts.constructor.call(a,b);a.addEvents({scope:a,itemmouseover:true,itemmouseout:true,itemmousedown:true,itemmouseup:true,mouseleave:true,afterdraw:true,titlechange:true});a.mixins.observable.constructor.call(a,b);a.on({scope:a,itemmouseover:a.onItemMouseOver,itemmouseout:a.onItemMouseOut,mouseleave:a.onMouseLeave});a.style&&Ext.apply(a.seriesStyle,a.style)},eachRecord:function(c,b){var a=this.chart;(a.substore||a.store).each(c,b)},getRecordCount:function(){var b=this.chart,a=b.substore||b.store;return a?a.getCount():0},isExcluded:function(b){var a=this.__excludes;return!!(a&&a[b])},setBBox:function(e){var d=this,a=d.chart,c=a.chartBBox,g=e?0:a.maxGutter[0],f=e?0:a.maxGutter[1],b,h;b={x:c.x,y:c.y,width:c.width,height:c.height};d.clipBox=b;h={x:b.x+g-a.zoom.x*a.zoom.width,y:b.y+f-a.zoom.y*a.zoom.height,width:(b.width-g*2)*a.zoom.width,height:(b.height-f*2)*a.zoom.height};d.bbox=h},onAnimate:function(b,c){var a=this;b.stopAnimation();if(a.triggerAfterDraw)return b.animate(Ext.applyIf(c,a.chart.animate));else{a.triggerAfterDraw=true;return b.animate(Ext.apply(Ext.applyIf(c,a.chart.animate),{listeners:{afteranimate:function(){a.triggerAfterDraw=false;a.fireEvent("afterrender")}}}))}},getGutters:function(){return[0,0]},onItemMouseOver:function(b){var a=this;if(b.series===a){a.highlight&&a.highlightItem(b);a.tooltip&&a.showTip(b)}},onItemMouseOut:function(b){var a=this;if(b.series===a){a.unHighlightItem();a.tooltip&&a.hideTip(b)}},onMouseLeave:function(){var a=this;a.unHighlightItem();a.tooltip&&a.hideTip()},getItemForPoint:function(c,f){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var e=this,b=e.items,g=e.bbox,h,a,d;if(!Ext.draw.Draw.withinBox(c,f,g))return null;for(a=0,d=b.length;a<d;a++)if(b[a]&&this.isItemInPoint(c,f,b[a],a))return b[a];return null},isItemInPoint:function(){return false},hideAll:function(){var a=this,h=a.items,i,g,d,c,f,b,e;a.seriesIsHidden=true;a._prevShowMarkers=a.showMarkers;a.showMarkers=false;a.hideLabels(0);for(d=0,g=h.length;d<g;d++){i=h[d];b=i.sprite;b&&b.setAttributes({hidden:true},true);if(b&&b.shadows){e=b.shadows;for(c=0,f=e.length;c<f;++c)e[c].setAttributes({hidden:true},true)}}},showAll:function(){var a=this,b=a.chart.animate;a.chart.animate=false;a.seriesIsHidden=false;a.showMarkers=a._prevShowMarkers;a.drawSeries();a.chart.animate=b},hide:function(){if(this.items){var g=this,a=g.items,b,c,e,f,d;if(a&&a.length){for(b=0,f=a.length;b<f;++b)if(a[b].sprite){a[b].sprite.hide(true);d=a[b].shadows||a[b].sprite.shadows;if(d)for(c=0,e=d.length;c<e;++c)d[c].hide(true)}g.hideLabels()}}},getLegendColor:function(){var a=this,b,c;if(a.seriesStyle){b=a.seriesStyle.fill;c=a.seriesStyle.stroke;if(b&&b!="none")return b;if(c)return c}return a.colorArrayStyle?a.colorArrayStyle[a.seriesIdx%a.colorArrayStyle.length]:"#000"},visibleInLegend:function(b){var a=this.__excludes;return a?!a[b]:!this.seriesIsHidden},setTitle:function(a,b){var c=this,d=c.title;if(Ext.isString(a)){b=a;a=0}if(Ext.isArray(d))d[a]=b;else c.title=b;c.fireEvent("titlechange",b,a)}});Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var h=this,b=[],g,a,e,d=h.combinations,f,c,j,i;g=[].concat(h.yField);for(a=0,e=g.length;a<e;a++){f=h.title;b.push((Ext.isArray(f)?f[a]:f)||g[a])}if(d){d=Ext.Array.from(d);for(a=0,e=d.length;a<e;a++){c=d[a];j=b[c[0]];i=b[c[1]];b[c[1]]=j+" & "+i;b.splice(c[0],1)}}return b},eachYValue:function(e,g,f){var h=this,d=h.getYValueAccessors(),a,c,b;for(a=0,c=d.length;a<c;a++){b=d[a];g.call(f,b(e),a)}},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(c,b){var d=this,a=d.getYValueAccessors(),f=a[c],e=a[b];a[b]=function(a){return f(a)+e(a)};a.splice(c,1);d.callParent([c,b])},clearCombinations:function(){delete this.yValueAccessors;this.callParent()},getYValueAccessors:function(){var c=this,a=c.yValueAccessors,d,e,b,f;if(!a){a=c.yValueAccessors=[];d=[].concat(c.yField);for(b=0,f=d.length;b<f;b++){e=d[b];a.push(function(a){return a.get(e)})}}return a},getMinMaxXValues:function(){var e=this,j=e.chart,k=j.getChartStore(),f=k.data.items,d,h,g,a,c,i=e.xField,b;if(e.getRecordCount()>0){a=Infinity;c=-a;for(d=0,h=f.length;d<h;d++){g=f[d];b=g.get(i);if(b>c)c=b;if(b<a)a=b}}else a=c=0;return[a,c]},getMinMaxYValues:function(){var b=this,l=b.chart,m=l.getChartStore(),h=m.data.items,d,i,g,k=b.stacked,a,c,f,e;function j(a,c){if(!b.isExcluded(c))if(a<0)e+=a;else f+=a}function n(d,e){if(!b.isExcluded(e)){if(d>c)c=d;if(d<a)a=d}}if(b.getRecordCount()>0){a=Infinity;c=-a;for(d=0,i=h.length;d<i;d++){g=h[d];if(k){f=0;e=0;b.eachYValue(g,j);if(f>c)c=f;if(e<a)a=e}else b.eachYValue(g,n)}}else a=c=0;return[a,c]},getAxesForXAndYFields:function(){var g=this,d=g.chart.axes,h=[].concat(g.axis),k={},i=[].concat(g.yField),m={},j=[].concat(g.xField),b,e,f,a,c,l;l=g.type==="bar"&&g.column===false;if(l){b=i;i=j;j=b}if(Ext.Array.indexOf(h,"top")>-1)e="top";else if(Ext.Array.indexOf(h,"bottom")>-1)e="bottom";else if(d.get("top")&&d.get("bottom")){for(a=0,c=j.length;a<c;a++)m[j[a]]=true;b=[].concat(d.get("bottom").fields);for(a=0,c=b.length;a<c;a++)if(m[b[a]]){e="bottom";break}b=[].concat(d.get("top").fields);for(a=0,c=b.length;a<c;a++)if(m[b[a]]){e="top";break}}else if(d.get("top"))e="top";else if(d.get("bottom"))e="bottom";if(Ext.Array.indexOf(h,"left")>-1)f="left";else if(Ext.Array.indexOf(h,"right")>-1)f="right";else if(d.get("left")&&d.get("right")){for(a=0,c=i.length;a<c;a++)k[i[a]]=true;b=[].concat(d.get("right").fields);for(a=0,c=b.length;a<c;a++)if(k[b[a]])break;b=[].concat(d.get("left").fields);for(a=0,c=b.length;a<c;a++)if(k[b[a]]){f="left";break}}else if(d.get("left"))f="left";else if(d.get("right"))f="right";return l?{xAxis:f,yAxis:e}:{xAxis:e,yAxis:f}}});Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:true,style:{},constructor:function(b){this.callParent(arguments);var a=this,c=a.chart.surface,e,d;b.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},b.highlightCfg);Ext.apply(a,b,{__excludes:[]});if(a.highlight)a.highlightSprite=c.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:true,stroke:"#444"});a.group=c.getGroup(a.seriesId)},shrink:function(g,k,l){for(var j=g.length,f=Math.floor(j/l),c,e=0,d=this.areas.length,b=[],i=[],h=[],a=0;a<d;++a)b[a]=0;for(c=0;c<j;++c){e+=+g[c];for(a=0;a<d;++a)b[a]+=+k[c][a];if(c%f==0){i.push(e/f);for(a=0;a<d;++a)b[a]/=f;h.push(b);e=0;for(a=0,b=[];a<d;++a)b[a]=0}}return{x:i,y:h}},getBounds:function(){var a=this,r=a.chart,G=r.getChartStore(),A=G.data.items,j,y,u,E=[].concat(a.yField),v=E.length,m=[],n=[],o=Infinity,e=o,c=o,l=-o,f=-o,C=Math,F=C.min,x=C.max,B=a.getAxesForXAndYFields(),H=B.xAxis,I=B.yAxis,g,t,h,z,w,d,s,k,p,D,q,J,i,b,K;a.setBBox();h=a.bbox;if(b=r.axes.get(H)){if(b.type==="Time")t=true;g=b.applyData();e=g.from;l=g.to}if(b=r.axes.get(I)){g=b.applyData();c=g.from;f=g.to}if(a.xField&&!Ext.isNumber(e)){b=a.getMinMaxXValues();t=true;e=b[0];l=b[1]}if(a.yField&&!Ext.isNumber(c)){b=a.getMinMaxYValues();c=b[0];f=b[1]}if(!Ext.isNumber(c))c=0;if(!Ext.isNumber(f))f=0;for(j=0,y=A.length;j<y;j++){u=A[j];d=u.get(a.xField);s=[];if(typeof d!="number")if(t)d=+d;else d=j;m.push(d);p=0;for(k=0;k<v;k++){if(a.__excludes[k])continue;i=u.get(E[k]);if(typeof i=="number"){c=F(c,i);s.push(i);p+=i}}e=F(e,d);l=x(l,d);f=x(f,p);n.push(s)}z=h.width/(l-e||1);w=h.height/(f-c||1);D=m.length;if(D>h.width&&a.areas){q=a.shrink(m,n,h.width);m=q.x;n=q.y}return{bbox:h,minX:e,minY:c,xValues:m,yValues:n,xScale:z,yScale:w,areasLen:v}},getPaths:function(){var i=this,u=i.chart,v=u.getChartStore(),p=true,c=i.getBounds(),d=c.bbox,m=i.items=[],k=[],e,n=0,j=[],b,l,f,g,q,s,o,a,r,t,h;l=c.xValues.length;for(b=0;b<l;b++){q=c.xValues[b];s=c.yValues[b];f=d.x+(q-c.minX)*c.xScale;o=0;n=0;for(a=0;a<c.areasLen;a++){if(i.__excludes[a])continue;if(!k[a])k[a]=[];t=s[n];o+=t;g=d.y+d.height-(o-c.minY)*c.yScale;if(!j[a]){j[a]=["M",f,g];k[a].push(["L",f,g])}else{j[a].push("L",f,g);k[a].push(["L",f,g])}if(!m[a])m[a]={pointsUp:[],pointsDown:[],series:i};m[a].pointsUp.push([f,g]);n++}}for(a=0;a<c.areasLen;a++){if(i.__excludes[a])continue;h=j[a];if(a==0||p){p=false;h.push("L",f,d.y+d.height,"L",d.x,d.y+d.height,"Z")}else{e=k[r];e.reverse();h.push("L",f,e[0][2]);for(b=0;b<l;b++){h.push(e[b][0],e[b][1],e[b][2]);m[a].pointsDown[l-b-1]=[e[b][1],e[b][2]]}h.push("L",d.x,h[2],"Z")}r=a}return{paths:j,areasLen:c.areasLen}},drawSeries:function(){var a=this,j=a.chart,g=j.getChartStore(),m=j.surface,l=j.animate,n=a.group,e=Ext.apply(a.seriesStyle,a.style),c=a.colorArrayStyle,d=c&&c.length||0,b,f,i,k,h;a.unHighlightItem();a.cleanHighlights();if(!g||!g.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}i=a.getPaths();if(!a.areas)a.areas=[];for(b=0;b<i.areasLen;b++){if(a.__excludes[b])continue;if(!a.areas[b])a.items[b].sprite=a.areas[b]=m.add(Ext.apply({},{type:"path",group:n,path:i.paths[b],stroke:e.stroke||c[b%d],fill:c[b%d]},e||{}));f=a.areas[b];k=i.paths[b];if(l){h=a.renderer(f,false,{path:k,fill:c[b%d],stroke:e.stroke||c[b%d]},b,g);a.animation=a.onAnimate(f,{to:h})}else{h=a.renderer(f,false,{path:k,hidden:false,fill:c[b%d],stroke:e.stroke||c[b%d]},b,g);a.areas[b].setAttributes(h,true)}}a.renderLabels();a.renderCallouts()},onAnimate:function(a){a.show();return this.callParent(arguments)},onCreateLabel:function(h,f){var a=this,e=a.labelsGroup,c=a.label,b=a.bbox,d=Ext.apply(c,a.seriesLabelStyle);return a.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:e,x:f.point[0],y:b.y+b.height/2},d||{}))},onPlaceLabel:function(d,m,i,s,r,q,l){var e=this,n=e.chart,p=n.resizing,j=e.label,o=j.renderer,k=j.field,a=e.bbox,c=i.point[0],b=i.point[1],h,g,f;d.setAttributes({text:o(m.get(k[l])),hidden:true},true);h=d.getBBox();g=h.width/2;f=h.height/2;c=c-g<a.x?a.x+g:c;c=c+g>a.x+a.width?c-(c+g-a.x-a.width):c;b=b-f<a.y?a.y+f:b;b=b+f>a.y+a.height?b-(b+f-a.y-a.height):b;if(e.chart.animate&&!e.chart.resizing){d.show(true);e.onAnimate(d,{to:{x:c,y:b}})}else{d.setAttributes({x:c,y:b},true);if(p)e.animation.on("afteranimate",function(){d.show(true)});else d.show(true)}},onPlaceCallout:function(g,H,z,o){var s=this,x=s.chart,B=x.surface,E=x.resizing,G=s.callouts,w=s.items,i=o==0?false:w[o-1].point,j=o==w.length-1?false:w[o+1].point,b=z.point,u,v,a,r,m,n,d=g.label.getBBox(),p=30,A=10,c=3,l,k,q,t,y,e=s.clipRect,h,f;if(!i)i=b;if(!j)j=b;r=(j[1]-i[1])/(j[0]-i[0]);m=(b[1]-i[1])/(b[0]-i[0]);n=(j[1]-b[1])/(j[0]-b[0]);v=Math.sqrt(1+r*r);u=[1/v,r/v];a=[-u[1],u[0]];if(m>0&&n<0&&a[1]<0||m<0&&n>0&&a[1]>0){a[0]*=-1;a[1]*=-1}else if(Math.abs(m)<Math.abs(n)&&a[0]<0||Math.abs(m)>Math.abs(n)&&a[0]>0){a[0]*=-1;a[1]*=-1}h=b[0]+a[0]*p;f=b[1]+a[1]*p;l=h+(a[0]>0?0:-(d.width+2*c));k=f-d.height/2-c;q=d.width+2*c;t=d.height+2*c;if(l<e[0]||l+q>e[0]+e[2])a[0]*=-1;if(k<e[1]||k+t>e[1]+e[3])a[1]*=-1;h=b[0]+a[0]*p;f=b[1]+a[1]*p;l=h+(a[0]>0?0:-(d.width+2*c));k=f-d.height/2-c;q=d.width+2*c;t=d.height+2*c;g.lines.setAttributes({path:["M",b[0],b[1],"L",h,f,"Z"]},true);g.box.setAttributes({x:l,y:k,width:q,height:t},true);g.label.setAttributes({x:h+(a[0]>0?c:-(d.width+c)),y:f},true);for(y in g)g[y].show(true)},isItemInPoint:function(l,k,c,n){var j=this,d=c.pointsUp,e=c.pointsDown,m=Math.abs,f=false,g=false,i=Infinity,a,h,b;for(a=0,h=d.length;a<h;a++){b=[d[a][0],d[a][1]];f=false;g=a==h-1;if(i>m(l-b[0])){i=m(l-b[0]);f=true;if(g)++a}if(!f||f&&g){b=d[a-1];if(k>=b[1]&&(!e.length||k<=e[a-1][1])){c.storeIndex=a-1;c.storeField=j.yField[n];c.storeItem=j.chart.store.getAt(a-1);c._points=e.length?[b,e[a-1]]:[b];return true}else break}}return false},highlightSeries:function(){var a,b,c;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim)a.__highlightAnim.paused=true;a.__highlighted=true;a.__prevOpacity=a.__prevOpacity||a.attr.opacity||1;a.__prevFill=a.__prevFill||a.attr.fill;a.__prevLineWidth=a.__prevLineWidth||a.attr.lineWidth;c=Ext.draw.Color.fromString(a.__prevFill);b={lineWidth:(a.__prevLineWidth||0)+2};if(c)b.fill=c.getLighter(.2).toString();else b.opacity=Math.max(a.__prevOpacity-.3,0);if(this.chart.animate)a.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:a,to:b},this.chart.animate));else a.setAttributes(b,true)}},unHighlightSeries:function(){var a;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim)a.__highlightAnim.paused=true;if(a.__highlighted){a.__highlighted=false;a.__highlightAnim=new Ext.fx.Anim({target:a,to:{fill:a.__prevFill,opacity:a.__prevOpacity,lineWidth:a.__prevLineWidth}})}}},highlightItem:function(c){var b=this,a,d;if(!c){this.highlightSeries();return}a=c._points;d=a.length==2?["M",a[0][0],a[0][1],"L",a[1][0],a[1][1]]:["M",a[0][0],a[0][1],"L",a[0][0],b.bbox.y+b.bbox.height];b.highlightSprite.setAttributes({path:d,hidden:false},true)},unHighlightItem:function(a){!a&&this.unHighlightSeries();this.highlightSprite&&this.highlightSprite.hide(true)},hideAll:function(b){var a=this;b=(isNaN(a._index)?b:a._index)||0;a.__excludes[b]=true;a.areas[b].hide(true);a.redraw()},showAll:function(b){var a=this;b=(isNaN(a._index)?b:a._index)||0;a.__excludes[b]=false;a.areas[b].show(true);a.redraw()},redraw:function(){var a=this,b;b=a.chart.legend.rebuild;a.chart.legend.rebuild=false;a.chart.redraw();a.chart.legend.rebuild=b},hide:function(){if(this.areas){var d=this,a=d.areas,b,f,e,c,g;if(a&&a.length){for(b=0,c=a.length;b<c;++b)a[b]&&a[b].hide(true);d.hideLabels()}}},getLegendColor:function(b){var a=this;return a.colorArrayStyle[b%a.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],type:"bar",alias:"series.bar",column:false,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(c){this.callParent(arguments);var a=this,d=a.chart.surface,f=a.chart.shadow,b,e;c.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},c.highlightCfg);Ext.apply(a,c,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]});a.group=d.getGroup(a.seriesId+"-bars");if(f)for(b=0,e=a.shadowAttributes.length;b<e;b++)a.shadowGroups.push(d.getGroup(a.seriesId+"-shadows"+b))},getBarGirth:function(){var a=this,d=a.chart.getChartStore(),b=a.column,e=d.getCount(),c=a.gutter/100;return(a.chart.chartBBox[b?"width":"height"]-a[b?"xPadding":"yPadding"]*2)/(e*(c+1)-c)},getGutters:function(){var a=this,c=a.column,b=Math.ceil(a[c?"xPadding":"yPadding"]+a.getBarGirth()/2);return a.column?[b,0]:[0,b]},getBounds:function(){var a=this,F=a.chart,K=F.getChartStore(),E=K.data.items,f,G,B,A=[].concat(a.yField),x=A.length,o=x,m=a.groupGutter/100,i=a.column,n=a.xPadding,p=a.yPadding,u=a.stacked,z=a.getBarGirth(),H=i?"width":"height",k=Math,J=k.min,D=k.max,w=k.abs,L=a.getAxesForXAndYFields(),I=L.yAxis,v,q,j,g,b,d,y,r,l,h,c,t,e,C,s;a.setBBox(true);g=a.bbox;if(a.__excludes)for(e=0,c=a.__excludes.length;e<c;e++)if(a.__excludes[e])o--;y=F.axes.get(I);if(y){v=y.applyData();b=v.from;d=v.to}if(a.yField&&!Ext.isNumber(b)){r=a.getMinMaxYValues();b=r[0];d=r[1]}if(!Ext.isNumber(b))b=0;if(!Ext.isNumber(d))d=0;l=(i?g.height-p*2:g.width-n*2)/(d-b);q=z;j=z/((u?1:o)*(m+1)-m);if(H in a.style){j=J(j,a.style[H]);q=j*((u?1:o)*(m+1)-m)}h=i?g.y+g.height-p:g.x+n;if(u){c=[[],[]];for(f=0,G=E.length;f<G;f++){B=E[f];c[0][f]=c[0][f]||0;c[1][f]=c[1][f]||0;for(e=0;e<x;e++){if(a.__excludes&&a.__excludes[e])continue;t=B.get(A[e]);c[+(t>0)][f]+=w(t)}}c[+(d>0)].push(w(d));c[+(b>0)].push(w(b));s=D.apply(k,c[0]);C=D.apply(k,c[1]);l=(i?g.height-p*2:g.width-n*2)/(C+s);h=h+s*l*(i?-1:1)}else if(b/d<0)h=h-b*l*(i?-1:1);return{bars:A,bbox:g,shrunkBarWidth:q,barsLen:x,groupBarsLen:o,barWidth:z,groupBarWidth:j,scale:l,zero:h,xPadding:n,yPadding:p,signed:b/d<0,minY:b,maxY:d}},getPaths:function(){var b=this,s=b.chart,L=s.getChartStore(),J=L.data.items,e,x,p,c=b.bounds=b.getBounds(),t=b.items=[],P=b.yField,G=b.gutter/100,E=b.groupGutter/100,S=s.animate,j=b.column,T=b.group,N=s.shadow,I=b.shadowGroups,V=b.shadowAttributes,Q=I.length,K=c.bbox,l=c.barWidth,F=c.shrunkBarWidth,O=b.xPadding,R=b.yPadding,g=b.stacked,r=c.barsLen,B=b.colorArrayStyle,M=B&&B.length||0,v=Math,A=v.max,U=v.min,q=v.abs,f,k,d,z,w,h,o,D,a,C,i,m,y,u,H,n;for(e=0,x=J.length;e<x;e++){p=J[e];h=c.zero;o=c.zero;z=0;w=0;D=false;for(f=0,i=0;f<r;f++){if(b.__excludes&&b.__excludes[f])continue;k=p.get(c.bars[f]);d=Math.round((k-A(c.minY,0))*c.scale);a={fill:B[(r>1?f:0)%M]};if(j)Ext.apply(a,{height:d,width:A(c.groupBarWidth,0),x:K.x+O+(l-F)*.5+e*l*(1+G)+i*c.groupBarWidth*(1+E)*!g,y:h-d});else{H=x-1-e;Ext.apply(a,{height:A(c.groupBarWidth,0),width:d+(h==c.zero),x:h+(h!=c.zero),y:K.y+R+(l-F)*.5+H*l*(1+G)+i*c.groupBarWidth*(1+E)*!g+1})}if(d<0)if(j){a.y=o;a.height=q(d)}else{a.x=o+d;a.width=q(d)}if(g){if(d<0)o+=d*(j?-1:1);else h+=d*(j?-1:1);z+=q(d);if(d<0)w+=q(d)}a.x=Math.floor(a.x)+1;n=Math.floor(a.y);if(!Ext.isIE9&&a.y>n)n--;a.y=n;a.width=Math.floor(a.width);a.height=Math.floor(a.height);t.push({series:b,yField:P[f],storeItem:p,value:[p.get(b.xField),k],attr:a,point:j?[a.x+a.width/2,k>=0?a.y:a.y+a.height]:[k>=0?a.x+a.width:a.x,a.y+a.height/2]});if(S&&s.resizing){C=j?{x:a.x,y:c.zero,width:a.width,height:0}:{x:c.zero,y:a.y,width:0,height:a.height};if(N&&(g&&!D||!g)){D=true;for(m=0;m<Q;m++){y=I[m].getAt(g?e:e*r+f);y&&y.setAttributes(C,true)}}u=T.getAt(e*r+f);u&&u.setAttributes(C,true)}i++}if(g&&t.length){t[e*i].totalDim=z;t[e*i].totalNegDim=w}}},renderShadows:function(e,r,x,j){var b=this,l=b.chart,v=l.surface,t=l.animate,h=b.stacked,i=b.shadowGroups,w=b.shadowAttributes,u=i.length,o=l.getChartStore(),s=b.column,q=b.items,n=[],p=j.zero,d,a,c,f,k,m,g;if(h&&e%j.groupBarsLen===0||!h){m=e/j.groupBarsLen;for(d=0;d<u;d++){a=Ext.apply({},w[d]);c=i[d].getAt(h?m:e);Ext.copyTo(a,r,"x,y,width,height");if(!c)c=v.add(Ext.apply({type:"rect",group:i[d]},Ext.apply({},x,a)));if(h){f=q[e].totalDim;k=q[e].totalNegDim;if(s){a.y=p+k-f-1;a.height=f}else{a.x=p-k;a.width=f}}g=b.renderer(c,o.getAt(m),a,e,o);g.hidden=!!r.hidden;if(t)b.onAnimate(c,{to:g});else c.setAttributes(g,true);n.push(c)}}return n},drawSeries:function(){var a=this,n=a.chart,g=n.getChartStore(),z=n.surface,y=n.animate,v=a.stacked,w=a.column,q=n.shadow,p=a.shadowGroups,t=p.length,m=a.group,x=a.seriesStyle,k,i,b,c,r,e,j,f,s,h,d,l,o,u;if(!g||!g.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}d=Ext.apply({},this.style,x);delete d.fill;delete d.x;delete d.y;delete d.width;delete d.height;a.unHighlightItem();a.cleanHighlights();a.getPaths();h=a.bounds;k=a.items;r=w?{y:h.zero,height:0}:{x:h.zero,width:0};i=k.length;for(b=0;b<i;b++){e=m.getAt(b);l=k[b].attr;if(q)k[b].shadows=a.renderShadows(b,l,r,h);if(!e){o=Ext.apply({},r,l);o=Ext.apply(o,d||{});e=z.add(Ext.apply({},{type:"rect",group:m},o))}if(y){j=a.renderer(e,g.getAt(b),l,b,g);e._to=j;u=a.onAnimate(e,{to:Ext.apply(j,d)});if(q&&v&&b%h.barsLen===0){c=b/h.barsLen;for(f=0;f<t;f++)u.on("afteranimate",function(){this.show(true)},p[f].getAt(c))}}else{j=a.renderer(e,g.getAt(b),Ext.apply(l,{hidden:false}),b,g);e.setAttributes(Ext.apply(j,d),true)}k[b].sprite=e}i=m.getCount();for(c=b;c<i;c++)m.getAt(c).hide(true);if(a.stacked)b=g.getCount();if(q)for(f=0;f<t;f++){s=p[f];i=s.getCount();for(c=b;c<i;c++)s.getAt(c).hide(true)}a.renderLabels()},onCreateLabel:function(){var a=this,b=a.chart.surface,e=a.labelsGroup,c=a.label,d=Ext.apply({},c,a.seriesLabelStyle||{}),i;return b.add(Ext.apply({type:"text",group:e},d||{}))},onPlaceLabel:function(f,D,o,I,b,v,H,F){var h=this,n=h.bounds,r=n.groupBarWidth,t=h.column,x=h.chart,j=x.chartBBox,B=x.resizing,J=o.value[0],i=o.value[1],a=o.attr,p=h.label,w=p.orientation=="vertical",C=[].concat(p.field),E=p.renderer,A=E(D.get(C[F])),u=h.getLabelSize(A),k=u.width,l=u.height,c=n.zero,g="outside",z="insideStart",y="insideEnd",s=10,q=6,G=n.signed,e,d,m;f.setAttributes({text:A});f.isOutside=false;if(t){if(b==g){if(l+q+a.height>(i>=0?c-j.y:j.y+j.height-c))b=y}else if(l+q>a.height){b=g;f.isOutside=true}e=a.x+r/2;d=b==z?c+(l/2+3)*(i>=0?-1:1):i>=0?a.y+(l/2+3)*(b==g?-1:1):a.y+a.height+(l/2+3)*(b===g?1:-1)}else{if(b==g){if(k+s+a.width>(i>=0?j.x+j.width-c:c-j.x))b=y}else if(k+s>a.width){b=g;f.isOutside=true}e=b==z?c+(k/2+5)*(i>=0?1:-1):i>=0?a.x+a.width+(k/2+5)*(b===g?1:-1):a.x+(k/2+5)*(b===g?-1:1);d=a.y+r/2}m={x:e,y:d};if(w)m.rotate={x:e,y:d,degrees:270};if(v&&B){if(t){e=a.x+a.width/2;d=c}else{e=c;d=a.y+a.height/2}f.setAttributes({x:e,y:d},true);w&&f.setAttributes({rotate:{x:e,y:d,degrees:270}},true)}if(v)h.onAnimate(f,{to:m});else f.setAttributes(Ext.apply(m,{hidden:false}),true)},getLabelSize:function(h){var a=this.testerLabel,e=this.label,g=Ext.apply({},e,this.seriesLabelStyle||{}),f=e.orientation==="vertical",d,c,b,i;if(!a)a=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},g));a.setAttributes({text:h},true);d=a.getBBox();c=d.width;b=d.height;return{width:f?b:c,height:f?c:b}},onAnimate:function(a){a.show();return this.callParent(arguments)},isItemInPoint:function(b,c,d){var a=d.sprite.getBBox();return a.x<=b&&a.y<=c&&a.x+a.width>=b&&a.y+a.height>=c},hideAll:function(b){var e=this.chart.axes,c=e.items,d=c.length,a=0;b=(isNaN(this._index)?b:this._index)||0;if(!this.__excludes)this.__excludes=[];this.__excludes[b]=true;this.drawSeries();for(a;a<d;a++)c[a].drawAxis()},showAll:function(b){var e=this.chart.axes,c=e.items,d=c.length,a=0;b=(isNaN(this._index)?b:this._index)||0;if(!this.__excludes)this.__excludes=[];this.__excludes[b]=false;this.drawSeries();for(a;a<d;a++)c[a].drawAxis()},getLegendColor:function(b){var a=this,c=a.colorArrayStyle.length;return a.style&&a.style.fill?a.style.fill:a.colorArrayStyle[b%c]},highlightItem:function(){this.callParent(arguments);this.renderLabels()},unHighlightItem:function(){this.callParent(arguments);this.renderLabels()},cleanHighlights:function(){this.callParent(arguments);this.renderLabels()}});Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:"Ext.chart.series.Bar",type:"column",alias:"series.column",column:true,xPadding:10,yPadding:0});Ext.define("Ext.chart.series.Gauge",{extend:"Ext.chart.series.Series",type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:false,needle:false,donut:false,showInLegend:false,style:{},constructor:function(f){this.callParent(arguments);var a=this,d=a.chart,c=d.surface,i=d.store,g=d.shadow,b,e,h;Ext.apply(a,f,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});a.group=c.getGroup(a.seriesId);if(g)for(b=0,e=a.shadowAttributes.length;b<e;b++)a.shadowGroups.push(c.getGroup(a.seriesId+"-shadows"+b));c.customAttributes.segment=function(b){return a.getSegment(b)}},initialize:function(){var a=this,f=a.chart.getChartStore(),d=f.data.items,b,c,e;a.yField=[];if(a.label.field)for(b=0,c=d.length;b<c;b++){e=d[b];a.yField.push(e.get(a.label.field))}},getSegment:function(a){var n=this,l=n.rad,c=Math.cos,b=Math.sin,q=Math.abs,f=n.centerX,e=n.centerY,g=0,u=0,t=0,r=0,d=0,p=0,o=0,m=0,y=.01,z=a.endRho-a.startRho,k=a.startAngle,j=a.endAngle,v=(k+j)/2*l,w=a.margin||0,s=q(j-k)>180,i=Math.min(k,j)*l,h=Math.max(k,j)*l,x=false;f+=w*c(v);e+=w*b(v);g=f+a.startRho*c(i);d=e+a.startRho*b(i);u=f+a.endRho*c(i);p=e+a.endRho*b(i);t=f+a.startRho*c(h);o=e+a.startRho*b(h);r=f+a.endRho*c(h);m=e+a.endRho*b(h);if(q(g-t)<=y&&q(d-o)<=y)x=true;return x?{path:[["M",g,d],["L",u,p],["A",a.endRho,a.endRho,0,+s,1,r,m],["Z"]]}:{path:[["M",g,d],["L",u,p],["A",a.endRho,a.endRho,0,+s,1,r,m],["L",t,o],["A",a.startRho,a.startRho,0,+s,0,g,d],["Z"]]}},calcMiddle:function(b){var a=this,h=a.rad,c=b.slice,m=a.centerX,l=a.centerY,g=c.startAngle,f=c.endAngle,o=Math.max("rho"in c?c.rho:a.radius,a.label.minMargin),n=+a.donut,d=Math.min(g,f)*h,i=Math.max(g,f)*h,e=-(d+(i-d)/2),k=m+(b.endRho+b.startRho)/2*Math.cos(e),j=l-(b.endRho+b.startRho)/2*Math.sin(e);b.middle={x:k,y:j}},drawSeries:function(){var a=this,r=a.chart,o=r.getChartStore(),y=a.group,E=a.chart.animate,s=a.chart.axes.get(0),t=s&&s.minimum||a.minimum||0,B=s&&s.maximum||a.maximum||0,G=a.angleField||a.field||a.xField,F=r.surface,k=r.chartBBox,J=a.rad,j=+a.donut,T={},z=[],w=a.seriesStyle,I=a.seriesLabelStyle,i=a.colorArrayStyle,x=i&&i.length||0,L=r.maxGutter[0],K=r.maxGutter[1],l=Math.cos,n=Math.sin,e,h,g,f,q,d,m,v,A,p,c,Q,M,R,S,N,O,P,D,H,b,u,C;Ext.apply(w,a.style||{});a.setBBox();H=a.bbox;if(a.colorSet){i=a.colorSet;x=i.length}if(!o||!o.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}h=a.centerX=k.x+k.width/2;g=a.centerY=k.y+k.height;a.radius=Math.min(h-k.x,g-k.y);a.slices=q=[];a.items=z=[];if(!a.value){p=o.getAt(0);a.value=p.get(G)}m=a.value;if(a.needle){u={series:a,value:m,startAngle:-180,endAngle:0,rho:a.radius};b=-180*(1-(m-t)/(B-t));q.push(u)}else{b=-180*(1-(m-t)/(B-t));u={series:a,value:m,startAngle:-180,endAngle:b,rho:a.radius};C={series:a,value:a.maximum-m,startAngle:b,endAngle:0,rho:a.radius};q.push(u,C)}for(c=0,A=q.length;c<A;c++){f=q[c];d=y.getAt(c);e=Ext.apply({segment:{startAngle:f.startAngle,endAngle:f.endAngle,margin:0,rho:f.rho,startRho:f.rho*+j/100,endRho:f.rho}},Ext.apply(w,i&&{fill:i[c%x]}||{}));v=Ext.apply({},e.segment,{slice:f,series:a,storeItem:p,index:c});z[c]=v;if(!d){D=Ext.apply({type:"path",group:y},Ext.apply(w,i&&{fill:i[c%x]}||{}));d=F.add(Ext.apply(D,e))}f.sprite=f.sprite||[];v.sprite=d;f.sprite.push(d);if(E){e=a.renderer(d,p,e,c,o);d._to=e;a.onAnimate(d,{to:e})}else{e=a.renderer(d,p,Ext.apply(e,{hidden:false}),c,o);d.setAttributes(e,true)}}if(a.needle){b=b*Math.PI/180;if(!a.needleSprite)a.needleSprite=a.chart.surface.add({type:"path",path:["M",h+a.radius*+j/100*l(b),g+-Math.abs(a.radius*+j/100*n(b)),"L",h+a.radius*l(b),g+-Math.abs(a.radius*n(b))],"stroke-width":4,stroke:"#222"});else if(E)a.onAnimate(a.needleSprite,{to:{path:["M",h+a.radius*+j/100*l(b),g+-Math.abs(a.radius*+j/100*n(b)),"L",h+a.radius*l(b),g+-Math.abs(a.radius*n(b))]}});else a.needleSprite.setAttributes({type:"path",path:["M",h+a.radius*+j/100*l(b),g+-Math.abs(a.radius*+j/100*n(b)),"L",h+a.radius*l(b),g+-Math.abs(a.radius*n(b))]});a.needleSprite.setAttributes({hidden:false},true)}delete a.value},setValue:function(a){this.value=a;this.drawSeries()},onCreateLabel:function(){},onPlaceLabel:function(){},onPlaceCallout:function(){},onAnimate:function(a){a.show();return this.callParent(arguments)},isItemInPoint:function(h,f,a,m){var b=this,e=b.centerX,d=b.centerY,k=Math.abs,j=k(h-e),i=k(f-d),n=a.startAngle,l=a.endAngle,g=Math.sqrt(j*j+i*i),c=Math.atan2(f-d,h-e)/b.rad;return m===0&&(c>=n&&c<l&&g>=a.startRho&&g<=a.endRho)},showAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=false;this.drawSeries()}},getLegendColor:function(b){var a=this;return a.colorArrayStyle[b%a.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.draw.Draw","Ext.fx.Anim"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:true,markerConfig:{},style:{},smooth:false,defaultSmoothness:3,fill:false,constructor:function(d){this.callParent(arguments);var a=this,c=a.chart.surface,f=a.chart.shadow,b,e;d.highlightCfg=Ext.Object.merge({"stroke-width":3},d.highlightCfg);Ext.apply(a,d,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]});a.group=c.getGroup(a.seriesId);if(a.showMarkers)a.markerGroup=c.getGroup(a.seriesId+"-markers");if(f)for(b=0,e=a.shadowAttributes.length;b<e;b++)a.shadowGroups.push(c.getGroup(a.seriesId+"-shadows"+b))},shrink:function(c,i,j){for(var h=c.length,e=Math.floor(h/j),a=1,d=0,b=0,g=[+c[0]],f=[+i[0]];a<h;++a){d+=+c[a]||0;b+=+i[a]||0;if(a%e==0){g.push(d/e);f.push(b/e);d=0;b=0}}return{x:g,y:f}},drawSeries:function(){var a=this,m=a.chart,F=m.axes,r=m.getChartStore(),kb=r.data.items,ab,I=r.getCount(),U=a.chart.surface,d={},ib=a.group,R=a.showMarkers,i=a.markerGroup,P=m.shadow,ob=a.shadowGroups,wb=a.shadowAttributes,S=a.smooth,y=ob.length,s=["M"],k=["M"],x=["M"],lb=["M"],rb=m.markerIndex,Ab=[].concat(a.axis),M,A=[],Z={},L=[],Bb={},fb=false,tb=[],yb=a.markerStyle,xb=a.seriesStyle,z=a.colorArrayStyle,T=z&&z.length||0,zb=Ext.isNumber,J=a.seriesIdx,qb=a.getAxesForXAndYFields(),Q=qb.xAxis,K=qb.yAxis,j,D,G,H,mb,eb,l,p,u,pb,nb,hb,gb,V,b,e,t,q,C,o,X,f,h,g,db,W,Y,w,cb,v,bb,E,jb,B,c,ub,n,sb,N,O,vb;if(a.fireEvent("beforedraw",a)===false)return;if(!I||a.seriesIsHidden){a.hide();a.items=[];if(a.line){a.line.hide(true);if(a.line.shadows){j=a.line.shadows;for(e=0,y=j.length;e<y;e++){D=j[e];D.hide(true)}}a.fillPath&&a.fillPath.hide(true)}a.line=null;a.fillPath=null;return}B=Ext.apply(yb||{},a.markerConfig,{fill:a.seriesStyle.fill||z[J%z.length]});ub=B.type;delete B.type;c=xb;if(!c["stroke-width"])c["stroke-width"]=.5;sb="opacity"in c?c.opacity:1;vb="opacity"in c?c.opacity:.3;N="lineOpacity"in c?c.lineOpacity:sb;O="fillOpacity"in c?c.fillOpacity:vb;if(rb&&i&&i.getCount())for(b=0;b<rb;b++){o=i.getAt(b);i.remove(o);i.add(o);X=i.getAt(i.getCount()-2);o.setAttributes({x:0,y:0,translate:{x:X.attr.translation.x,y:X.attr.translation.y}},true)}a.unHighlightItem();a.cleanHighlights();a.setBBox();d=a.bbox;a.clipRect=[d.x,d.y,d.width,d.height];if(q=F.get(Q)){C=q.applyData();w=C.from;cb=C.to}if(q=F.get(K)){C=q.applyData();v=C.from;bb=C.to}if(a.xField&&!Ext.isNumber(w)){q=a.getMinMaxXValues();w=q[0];cb=q[1]}if(a.yField&&!Ext.isNumber(v)){q=a.getMinMaxYValues();v=q[0];bb=q[1]}if(isNaN(w)){w=0;W=d.width/(I-1||1)}else W=d.width/(cb-w||I-1||1);if(isNaN(v)){v=0;Y=d.height/(I-1||1)}else Y=d.height/(bb-v||I-1||1);for(b=0,t=kb.length;b<t;b++){ab=kb[b];h=ab.get(a.xField);if(typeof h=="string"||typeof h=="object"&&!Ext.isDate(h)||Q&&F.get(Q)&&F.get(Q).type=="Category")if(h in Z)h=Z[h];else h=Z[h]=b;g=ab.get(a.yField);if(typeof g=="undefined"||typeof g=="string"&&!g)continue;if(typeof g=="string"||typeof g=="object"&&!Ext.isDate(g)||K&&F.get(K)&&F.get(K).type=="Category")g=b;tb.push(b);A.push(h);L.push(g)}t=A.length;if(t>d.width){db=a.shrink(A,L,d.width);A=db.x;L=db.y}a.items=[];n=0;t=A.length;for(b=0;b<t;b++){h=A[b];g=L[b];if(g===false){if(k.length==1)k=[];fb=true;a.items.push(false);continue}else{p=(d.x+(h-w)*W).toFixed(2);u=(d.y+d.height-(g-v)*Y).toFixed(2);if(fb){fb=false;k.push("M")}k=k.concat([p,u])}if(typeof gb=="undefined"&&typeof u!="undefined"){gb=u;hb=p}if(!a.line||m.resizing)s=s.concat([p,d.y+d.height/2]);if(m.animate&&m.resizing&&a.line){a.line.setAttributes({path:s,opacity:N},true);a.fillPath&&a.fillPath.setAttributes({path:s,opacity:O},true);if(a.line.shadows){j=a.line.shadows;for(e=0,y=j.length;e<y;e++){D=j[e];D.setAttributes({path:s},true)}}}if(R){o=i.getAt(n++);if(!o){o=Ext.chart.Shape[ub](U,Ext.apply({group:[ib,i],x:0,y:0,translate:{x:+(pb||p),y:nb||d.y+d.height/2},value:'"'+h+", "+g+'"',zIndex:4e3},B));o._to={translate:{x:+p,y:+u}}}else{o.setAttributes({value:'"'+h+", "+g+'"',x:0,y:0,hidden:false},true);o._to={translate:{x:+p,y:+u}}}}a.items.push({series:a,value:[h,g],point:[p,u],sprite:o,storeItem:r.getAt(tb[b])});pb=p;nb=u}if(k.length<=1)return;if(a.smooth)lb=Ext.draw.Draw.smooth(k,zb(S)?S:a.defaultSmoothness);x=S?lb:k;if(m.markerIndex&&a.previousPath){H=a.previousPath;!S&&Ext.Array.erase(H,1,2)}else H=k;if(!a.line){a.line=U.add(Ext.apply({type:"path",group:ib,path:s,stroke:c.stroke||c.fill},c||{}));a.line.setAttributes({opacity:N},true);P&&a.line.setAttributes(Ext.apply({},a.shadowOptions),true);a.line.setAttributes({fill:"none",zIndex:3e3});!c.stroke&&T&&a.line.setAttributes({stroke:z[J%T]},true);if(P){j=a.line.shadows=[];for(G=0;G<y;G++){M=wb[G];M=Ext.apply({},M,{path:s});D=U.add(Ext.apply({},{type:"path",group:ob[G]},M));j.push(D)}}}if(a.fill){eb=x.concat([["L",p,d.y+d.height],["L",hb,d.y+d.height],["L",hb,gb]]);if(!a.fillPath)a.fillPath=U.add({group:ib,type:"path",fill:c.fill||z[J%T],path:s})}V=R&&i.getCount();if(m.animate){mb=a.fill;E=a.line;l=a.renderer(E,false,{path:x},b,r);Ext.apply(l,c||{},{stroke:c.stroke||c.fill});delete l.fill;E.show(true);if(m.markerIndex&&a.previousPath)a.animation=jb=a.onAnimate(E,{to:l,from:{path:H}});else a.animation=jb=a.onAnimate(E,{to:l});if(P){j=E.shadows;for(e=0;e<y;e++){j[e].show(true);if(m.markerIndex&&a.previousPath)a.onAnimate(j[e],{to:{path:x},from:{path:H}});else a.onAnimate(j[e],{to:{path:x}})}}if(mb){a.fillPath.show(true);a.onAnimate(a.fillPath,{to:Ext.apply({},{path:eb,fill:c.fill||z[J%T],"stroke-width":0,opacity:O},c||{})})}if(R){n=0;for(b=0;b<t;b++)if(a.items[b]){f=i.getAt(n++);if(f){l=a.renderer(f,r.getAt(b),f._to,b,r);a.onAnimate(f,{to:Ext.apply(l,B||{})});f.show(true)}}for(;n<V;n++){f=i.getAt(n);f.hide(true)}}}else{l=a.renderer(a.line,false,{path:x,hidden:false},b,r);Ext.apply(l,c||{},{stroke:c.stroke||c.fill});delete l.fill;a.line.setAttributes(l,true);a.line.setAttributes({opacity:N},true);if(P){j=a.line.shadows;for(e=0;e<y;e++)j[e].setAttributes({path:x,hidden:false},true)}a.fill&&a.fillPath.setAttributes({path:eb,hidden:false,opacity:O},true);if(R){n=0;for(b=0;b<t;b++)if(a.items[b]){f=i.getAt(n++);if(f){l=a.renderer(f,r.getAt(b),f._to,b,r);f.setAttributes(Ext.apply(B||{},l||{}),true);!f.attr.hidden&&f.show(true)}}for(;n<V;n++){f=i.getAt(n);f.hide(true)}}}if(m.markerIndex){if(a.smooth)Ext.Array.erase(k,1,2);else Ext.Array.splice(k,1,0,k[1],k[2]);a.previousPath=k}a.renderLabels();a.renderCallouts();a.fireEvent("draw",a)},onCreateLabel:function(h,f){var a=this,e=a.labelsGroup,c=a.label,b=a.bbox,d=Ext.apply(c,a.seriesLabelStyle);return a.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:e,x:f.point[0],y:b.y+b.height/2},d||{}))},onPlaceLabel:function(e,n,j,s,i){var h=this,o=h.chart,q=o.resizing,l=h.label,p=l.renderer,m=l.field,a=h.bbox,b=j.point[0],c=j.point[1],k=j.sprite.attr.radius,d,g,f;e.setAttributes({text:p(n.get(m)),hidden:true},true);if(i=="rotate"){e.setAttributes({"text-anchor":"start",rotation:{x:b,y:c,degrees:-45}},true);d=e.getBBox();g=d.width;f=d.height;b=b<a.x?a.x:b;b=b+g>a.x+a.width?b-(b+g-a.x-a.width):b;c=c-f<a.y?a.y+f:c}else if(i=="under"||i=="over"){d=j.sprite.getBBox();d.width=d.width||k*2;d.height=d.height||k*2;c=c+(i=="over"?-d.height:d.height);d=e.getBBox();g=d.width/2;f=d.height/2;b=b-g<a.x?a.x+g:b;b=b+g>a.x+a.width?b-(b+g-a.x-a.width):b;c=c-f<a.y?a.y+f:c;c=c+f>a.y+a.height?c-(c+f-a.y-a.height):c}if(h.chart.animate&&!h.chart.resizing){e.show(true);h.onAnimate(e,{to:{x:b,y:c}})}else{e.setAttributes({x:b,y:c},true);if(q&&h.animation)h.animation.on("afteranimate",function(){e.show(true)});else e.show(true)}},highlightItem:function(){var a=this;a.callParent(arguments);if(a.line&&!a.highlighted){if(!("__strokeWidth"in a.line))a.line.__strokeWidth=parseFloat(a.line.attr["stroke-width"])||0;if(a.line.__anim)a.line.__anim.paused=true;a.line.__anim=Ext.create("Ext.fx.Anim",{target:a.line,to:{"stroke-width":a.line.__strokeWidth+3}});a.highlighted=true}},unHighlightItem:function(){var a=this;a.callParent(arguments);if(a.line&&a.highlighted){a.line.__anim=Ext.create("Ext.fx.Anim",{target:a.line,to:{"stroke-width":a.line.__strokeWidth}});a.highlighted=false}},onPlaceCallout:function(e,H,z,q,B){if(!B)return;var n=this,w=n.chart,E=w.surface,F=w.resizing,m=n.callouts,x=n.items,k=q==0?false:x[q-1].point,l=q==x.length-1?false:x[q+1].point,b=[+z.point[0],+z.point[1]],t,u,a,s,o,p,r=m.offsetFromViz||30,C=m.offsetToSide||10,c=m.offsetBox||3,h,g,v,y,A,f=n.clipRect,d={width:m.styles.width||10,height:m.styles.height||10},j,i;if(!k)k=b;if(!l)l=b;s=(l[1]-k[1])/(l[0]-k[0]);o=(b[1]-k[1])/(b[0]-k[0]);p=(l[1]-b[1])/(l[0]-b[0]);u=Math.sqrt(1+s*s);t=[1/u,s/u];a=[-t[1],t[0]];if(o>0&&p<0&&a[1]<0||o<0&&p>0&&a[1]>0){a[0]*=-1;a[1]*=-1}else if(Math.abs(o)<Math.abs(p)&&a[0]<0||Math.abs(o)>Math.abs(p)&&a[0]>0){a[0]*=-1;a[1]*=-1}j=b[0]+a[0]*r;i=b[1]+a[1]*r;h=j+(a[0]>0?0:-(d.width+2*c));g=i-d.height/2-c;v=d.width+2*c;y=d.height+2*c;if(h<f[0]||h+v>f[0]+f[2])a[0]*=-1;if(g<f[1]||g+y>f[1]+f[3])a[1]*=-1;j=b[0]+a[0]*r;i=b[1]+a[1]*r;h=j+(a[0]>0?0:-(d.width+2*c));g=i-d.height/2-c;v=d.width+2*c;y=d.height+2*c;if(w.animate){n.onAnimate(e.lines,{to:{path:["M",b[0],b[1],"L",j,i,"Z"]}});e.panel&&e.panel.setPosition(h,g,true)}else{e.lines.setAttributes({path:["M",b[0],b[1],"L",j,i,"Z"]},true);e.panel&&e.panel.setPosition(h,g)}for(A in e)e[A].show(true)},isItemInPoint:function(f,e,t,g){var p=this,k=p.items,m=p.selectionTolerance,v=null,a,b,c,d,s,o,i,n,h,w,u,j,r,l,z,y,q=Math.sqrt,x=Math.abs;b=k[g];a=g&&k[g-1];if(g>=s)a=k[s-1];c=a&&a.point;d=b&&b.point;o=a?c[0]:d[0]-m;i=a?c[1]:d[1];n=b?d[0]:c[0]+m;h=b?d[1]:c[1];j=q((f-o)*(f-o)+(e-i)*(e-i));r=q((f-n)*(f-n)+(e-h)*(e-h));l=Math.min(j,r);return l<=m?l==j?a:b:false},toggleAll:function(b){var a=this,c,e,f,d;if(!b)Ext.chart.series.Cartesian.prototype.hideAll.call(a);else Ext.chart.series.Cartesian.prototype.showAll.call(a);if(a.line){a.line.setAttributes({hidden:!b},true);if(a.line.shadows)for(c=0,d=a.line.shadows,e=d.length;c<e;c++){f=d[c];f.setAttributes({hidden:!b},true)}}a.fillPath&&a.fillPath.setAttributes({hidden:!b},true)},hideAll:function(){this.toggleAll(false)},showAll:function(){this.toggleAll(true)}});Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:"Ext.chart.series.Series",type:"pie",alias:"series.pie",accuracy:1e5,rad:Math.PI*2/1e5,highlightDuration:150,angleField:false,lengthField:false,donut:false,showInLegend:false,style:{},constructor:function(d){this.callParent(arguments);var a=this,e=a.chart,c=e.surface,i=e.store,g=e.shadow,b,f,h;d.highlightCfg=Ext.merge({segment:{margin:20}},d.highlightCfg);Ext.apply(a,d,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});a.group=c.getGroup(a.seriesId);if(g)for(b=0,f=a.shadowAttributes.length;b<f;b++)a.shadowGroups.push(c.getGroup(a.seriesId+"-shadows"+b));c.customAttributes.segment=function(c){var b=a.getSegment(c);if(!b.path||b.path.length===0)b.path=["M",0,0];return b};a.__excludes=a.__excludes||[]},initialize:function(){var a=this,f=a.chart.getChartStore(),d=f.data.items,b,c,e;a.yField=[];if(a.label.field)for(b=0,c=d.length;b<c;b++){e=d[b];a.yField.push(e.get(a.label.field))}},getSegment:function(a){var q=this,o=q.rad,p=Math.cos,h=Math.sin,c=q.centerX,b=q.centerY,l=0,k=0,z=0,d=0,t=0,s=0,C=0,f=0,x=0,j=0,g=0,e=0,G=.01,y=a.startAngle,w=a.endAngle,D=(y+w)/2*o,v=a.margin||0,r=Math.min(y,w)*o,n=Math.max(y,w)*o,F=p(r),B=h(r),E=p(n),A=h(n),u=p(D),m=h(D),i=0,H=.70710678118654757;if(n-r<G)return{path:""};if(v!==0){c+=v*u;b+=v*m}k=c+a.endRho*F;s=b+a.endRho*B;d=c+a.endRho*E;f=b+a.endRho*A;g=c+a.endRho*u;e=b+a.endRho*m;if(a.startRho!==0){l=c+a.startRho*F;t=b+a.startRho*B;z=c+a.startRho*E;C=b+a.startRho*A;x=c+a.startRho*u;j=b+a.startRho*m;return{path:[["M",k,s],["A",a.endRho,a.endRho,0,0,1,g,e],["L",g,e],["A",a.endRho,a.endRho,0,i,1,d,f],["L",d,f],["L",z,C],["A",a.startRho,a.startRho,0,i,0,x,j],["L",x,j],["A",a.startRho,a.startRho,0,0,0,l,t],["L",l,t],["Z"]]}}else return{path:[["M",c,b],["L",k,s],["A",a.endRho,a.endRho,0,0,1,g,e],["L",g,e],["A",a.endRho,a.endRho,0,i,1,d,f],["L",d,f],["L",c,b],["Z"]]}},calcMiddle:function(b){var a=this,j=a.rad,e=b.slice,l=a.centerX,k=a.centerY,i=e.startAngle,g=e.endAngle,m=+a.donut,d=-(i+g)*j/2,c=(b.endRho+b.startRho)/2,h=l+c*Math.cos(d),f=k-c*Math.sin(d);b.middle={x:h,y:f}},drawSeries:function(){var a=this,e=a.chart.getChartStore(),C=e.data.items,t,v=a.group,R=a.chart.animate,P=a.angleField||a.field||a.xField,l=[].concat(a.lengthField),A=0,D=a.chart,T=D.surface,s=D.chartBBox,G=D.shadow,u=a.shadowGroups,U=a.shadowAttributes,F=u.length,k=l.length,q=0,M=+a.donut,E=[],S=[],x=0,I=0,B=0,H=a.seriesStyle,n=a.colorArrayStyle,K=n&&n.length||0,f,p,y,o,h,O,N,r,z=0,c,j,g,w,m,L,i,b,d,J,W,X,Q,V;Ext.apply(H,a.style||{});a.setBBox();V=a.bbox;if(a.colorSet){n=a.colorSet;K=n.length}if(!e||!e.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}a.unHighlightItem();a.cleanHighlights();O=a.centerX=s.x+s.width/2;N=a.centerY=s.y+s.height/2;a.radius=Math.min(O-s.x,N-s.y);a.slices=j=[];a.items=S=[];for(b=0,i=C.length;b<i;b++){t=C[b];if(this.__excludes&&this.__excludes[b])continue;x+=+t.get(P);if(l[0]){for(d=0,A=0;d<k;d++)A+=+t.get(l[d]);E[b]=A;I=Math.max(I,A)}}x=x||1;for(b=0,i=C.length;b<i;b++){t=C[b];if(this.__excludes&&this.__excludes[b])w=0;else{w=t.get(P);if(z==0)z=1}if(z==1){z=2;a.firstAngle=B=a.accuracy*w/x/2;for(d=0;d<b;d++)j[d].startAngle=j[d].endAngle=a.firstAngle}J=B-a.accuracy*w/x;c={series:a,value:w,startAngle:B,endAngle:J,storeItem:t};if(l[0]){L=+E[b];c.rho=Math.floor(a.radius/I*L)}else c.rho=a.radius;j[b]=c;(function(){B=J})()}if(G)for(b=0,i=j.length;b<i;b++){c=j[b];c.shadowAttrs=[];for(d=0,q=0,y=[];d<k;d++){g=v.getAt(b*k+d);r=l[d]?e.getAt(b).get(l[d])/E[b]*c.rho:c.rho;f={segment:{startAngle:c.startAngle,endAngle:c.endAngle,margin:0,rho:c.rho,startRho:q+r*M/100,endRho:q+r},hidden:!c.value&&c.startAngle%a.accuracy==c.endAngle%a.accuracy};for(h=0,y=[];h<F;h++){p=U[h];o=u[h].getAt(b);if(!o)o=D.surface.add(Ext.apply({},{type:"path",group:u[h],strokeLinejoin:"round"},f,p));if(R){p=a.renderer(o,e.getAt(b),Ext.apply({},f,p),b,e);a.onAnimate(o,{to:p})}else{p=a.renderer(o,e.getAt(b),p,b,e);o.setAttributes(p,true)}y.push(o)}c.shadowAttrs[d]=y}}for(b=0,i=j.length;b<i;b++){c=j[b];for(d=0,q=0;d<k;d++){g=v.getAt(b*k+d);r=l[d]?e.getAt(b).get(l[d])/E[b]*c.rho:c.rho;f=Ext.apply({segment:{startAngle:c.startAngle,endAngle:c.endAngle,margin:0,rho:c.rho,startRho:q+r*M/100,endRho:q+r},hidden:!c.value&&c.startAngle%a.accuracy==c.endAngle%a.accuracy},Ext.apply(H,n&&{fill:n[(k>1?d:b)%K]}||{}));m=Ext.apply({},f.segment,{slice:c,series:a,storeItem:c.storeItem,index:b});a.calcMiddle(m);if(G)m.shadows=c.shadowAttrs[d];S[b]=m;if(!g){Q=Ext.apply({type:"path",group:v,middle:m.middle},Ext.apply(H,n&&{fill:n[(k>1?d:b)%K]}||{}));g=T.add(Ext.apply(Q,f))}c.sprite=c.sprite||[];m.sprite=g;c.sprite.push(g);c.point=[m.middle.x,m.middle.y];if(R){f=a.renderer(g,e.getAt(b),f,b,e);g._to=f;g._animating=true;a.onAnimate(g,{to:f,listeners:{afteranimate:{fn:function(){this._animating=false},scope:g}}})}else{f=a.renderer(g,e.getAt(b),Ext.apply(f,{hidden:false}),b,e);g.setAttributes(f,true)}q+=r}}i=v.getCount();for(b=0;b<i;b++)!j[b/k>>0]&&v.getAt(b)&&v.getAt(b).hide(true);if(G){F=u.length;for(h=0;h<i;h++)if(!j[h/k>>0])for(d=0;d<F;d++)u[d].getAt(h)&&u[d].getAt(h).hide(true)}a.renderLabels();a.renderCallouts()},onCreateLabel:function(j,f){var a=this,e=a.labelsGroup,c=a.label,h=a.centerX,g=a.centerY,b=f.middle,d=Ext.apply(a.seriesLabelStyle||{},c||{});return a.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:e,x:b.x,y:b.y},d))},onPlaceLabel:function(e,s,y,v,o,q,r){var c=this,t=c.chart,x=t.resizing,l=c.label,w=l.renderer,p=[].concat(l.field),n=c.centerX,m=c.centerY,f=y.middle,b={x:f.x,y:f.y},j=f.x-n,i=f.y-m,u={},g=1,h=Math.atan2(i,j||1),a=h*180/Math.PI,d;b.hidden=false;if(this.__excludes&&this.__excludes[v])b.hidden=true;function k(a){if(a<0)a+=360;return a%360}e.setAttributes({text:w(s.get(p[r]))},true);switch(o){case"outside":g=Math.sqrt(j*j+i*i)*2;b.x=g*Math.cos(h)+n;b.y=g*Math.sin(h)+m;break;case"rotate":a=k(a);a=a>90&&a<270?a+180:a;d=e.attr.rotation.degrees;if(d!=null&&Math.abs(d-a)>180*.5){if(a>d)a-=360;else a+=360;a=a%360}else a=k(a);b.rotate={degrees:a,x:b.x,y:b.y}}b.translate={x:0,y:0};if(q&&!x&&(o!="rotate"||d!=null))c.onAnimate(e,{to:b});else e.setAttributes(b,true);e._from=u},onPlaceCallout:function(f,u,i){var h=this,q=h.chart,m=h.centerX,l=h.centerY,j=i.middle,a={x:j.x,y:j.y},e=j.x-m,g=j.y-l,n=1,o,k=Math.atan2(g,e||1),b=f.label.getBBox(),r=20,d=10,c=10,p;n=i.endRho+r;o=(i.endRho+i.startRho)/2+(i.endRho-i.startRho)/3;a.x=n*Math.cos(k)+m;a.y=n*Math.sin(k)+l;e=o*Math.cos(k);g=o*Math.sin(k);if(q.animate){h.onAnimate(f.lines,{to:{path:["M",e+m,g+l,"L",a.x,a.y,"Z","M",a.x,a.y,"l",e>0?d:-d,0,"z"]}});h.onAnimate(f.box,{to:{x:a.x+(e>0?d:-(d+b.width+2*c)),y:a.y+(g>0?-b.height-c/2:-b.height-c/2),width:b.width+2*c,height:b.height+2*c}});h.onAnimate(f.label,{to:{x:a.x+(e>0?d+c:-(d+b.width+c)),y:a.y+(g>0?-b.height/4:-b.height/4)}})}else{f.lines.setAttributes({path:["M",e+m,g+l,"L",a.x,a.y,"Z","M",a.x,a.y,"l",e>0?d:-d,0,"z"]},true);f.box.setAttributes({x:a.x+(e>0?d:-(d+b.width+2*c)),y:a.y+(g>0?-b.height-c/2:-b.height-c/2),width:b.width+2*c,height:b.height+2*c},true);f.label.setAttributes({x:a.x+(e>0?d+c:-(d+b.width+c)),y:a.y+(g>0?-b.height/4:-b.height/4)},true)}for(p in f)f[p].show(true)},onAnimate:function(a){a.show();return this.callParent(arguments)},isItemInPoint:function(h,f,c){var a=this,e=a.centerX,d=a.centerY,k=Math.abs,j=k(h-e),i=k(f-d),m=c.startAngle,l=c.endAngle,g=Math.sqrt(j*j+i*i),b=Math.atan2(f-d,h-e)/a.rad;if(b>a.firstAngle)b-=a.accuracy;return b<=m&&b>l&&g>=c.startRho&&g<=c.endRho},hideAll:function(b){var d,h,g,f,a,c,e;b=(isNaN(this._index)?b:this._index)||0;this.__excludes=this.__excludes||[];this.__excludes[b]=true;e=this.slices[b].sprite;for(a=0,c=e.length;a<c;a++)e[a].setAttributes({hidden:true},true);if(this.slices[b].shadowAttrs)for(d=0,f=this.slices[b].shadowAttrs,h=f.length;d<h;d++){g=f[d];for(a=0,c=g.length;a<c;a++)g[a].setAttributes({hidden:true},true)}this.drawSeries()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0;this.__excludes[a]=false;this.drawSeries()},highlightItem:function(b){var a=this,t=a.rad,p,k,n,h,i,f,r,j,l,e,q,s,g,o,m,d,c;b=b||this.items[this._index];this.unHighlightItem();if(!b||b.sprite&&b.sprite._animating)return;a.callParent([b]);if(!a.highlight)return;if("segment"in a.highlightCfg){p=a.highlightCfg.segment;k=a.chart.animate;if(a.labelsGroup){q=a.labelsGroup;s=a.label.display;g=q.getAt(b.index);o=(b.startAngle+b.endAngle)/2*t;m=p.margin||0;d=m*Math.cos(o);c=m*Math.sin(o);if(Math.abs(d)<1e-10)d=0;if(Math.abs(c)<1e-10)c=0;if(k){g.stopAnimation();g.animate({to:{translate:{x:d,y:c}},duration:a.highlightDuration})}else g.setAttributes({translate:{x:d,y:c}},true)}if(a.chart.shadow&&b.shadows){h=0;i=b.shadows;r=i.length;for(;h<r;h++){f=i[h];j={};l=b.sprite._from.segment;for(e in l)if(!(e in p))j[e]=l[e];n={segment:Ext.applyIf(j,a.highlightCfg.segment)};if(k){f.stopAnimation();f.animate({to:n,duration:a.highlightDuration})}else f.setAttributes(n,true)}}}},unHighlightItem:function(){var a=this,m,k,q,l,s,h,g,r,t,f,d,i,p,n,j,e,c,b,o;if(!a.highlight)return;if("segment"in a.highlightCfg&&a.items){m=a.items;k=a.chart.animate;q=!!a.chart.shadow;l=a.labelsGroup;s=m.length;h=0;g=0;r=a.label.display;for(;h<s;h++){c=m[h];if(!c)continue;n=c.sprite;if(n&&n._highlighted){if(l){b=l.getAt(c.index);o=Ext.apply({translate:{x:0,y:0}},r=="rotate"?{rotate:{x:b.attr.x,y:b.attr.y,degrees:b.attr.rotation.degrees}}:{});if(k){b.stopAnimation();b.animate({to:o,duration:a.highlightDuration})}else b.setAttributes(o,true)}if(q){j=c.shadows;t=j.length;for(;g<t;g++){d={};i=c.sprite._to.segment;p=c.sprite._from.segment;Ext.apply(d,p);for(f in i)if(!(f in p))d[f]=i[f];e=j[g];if(k){e.stopAnimation();e.animate({to:{segment:d},duration:a.highlightDuration})}else e.setAttributes({segment:d},true)}}}}}a.callParent(arguments)},getLegendColor:function(b){var a=this;return a.colorSet&&a.colorSet[b%a.colorSet.length]||a.colorArrayStyle[b%a.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Series",requires:["Ext.chart.Shape","Ext.fx.Anim"],type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:false,style:{},constructor:function(){this.callParent(arguments);var a=this,b=a.chart.surface,e,c;a.group=b.getGroup(a.seriesId);if(a.showMarkers)a.markerGroup=b.getGroup(a.seriesId+"-markers")},drawSeries:function(){var a=this,n=a.chart.getChartStore(),A=n.data.items,q,m,K=a.group,M,c=a.chart,w=c.series.items,o,D,x,O=c.animate,I=a.field||a.yField,H=c.surface,e=c.chartBBox,F=a.seriesIdx,v=a.colorArrayStyle,f,d,u,y,k=0,r=[],E=Math.max,G=Math.cos,J=Math.sin,z=Math.PI*2,p=n.getCount(),l,j,h,g,t,b,B,i=a.seriesStyle,L=a.seriesLabelStyle,N=c.resizing||!a.radar,s=c.axes&&c.axes.get(0),C=!(s&&s.maximum);a.setBBox();k=C?0:s.maximum||0;Ext.apply(i,a.style||{});if(!n||!n.getCount()||a.seriesIsHidden){a.hide();a.items=[];a.radar&&a.radar.hide(true);a.radar=null;return}if(!i.stroke)i.stroke=v[F%v.length];a.unHighlightItem();a.cleanHighlights();f=a.centerX=e.x+e.width/2;d=a.centerY=e.y+e.height/2;a.radius=y=Math.min(e.width,e.height)/2;a.items=u=[];if(C){for(o=0,D=w.length;o<D;o++){x=w[o];r.push(x.yField)}for(q=0;q<p;q++){m=A[q];for(b=0,B=r.length;b<B;b++)k=E(+m.get(r[b]),k)}}k=k||1;l=[];j=[];for(b=0;b<p;b++){m=A[b];t=y*m.get(I)/k;h=t*G(b/p*z);g=t*J(b/p*z);if(b==0){j.push("M",h+f,g+d);l.push("M",.01*h+f,.01*g+d)}else{j.push("L",h+f,g+d);l.push("L",.01*h+f,.01*g+d)}u.push({sprite:false,point:[f+h,d+g],storeItem:m,series:a})}j.push("Z");if(!a.radar)a.radar=H.add(Ext.apply({type:"path",group:K,path:l},i||{}));c.resizing&&a.radar.setAttributes({path:l},true);if(c.animate)a.onAnimate(a.radar,{to:Ext.apply({path:j},i||{})});else a.radar.setAttributes(Ext.apply({path:j},i||{}),true);a.showMarkers&&a.drawMarkers();a.renderLabels();a.renderCallouts()},drawMarkers:function(){var b=this,f=b.chart,l=f.surface,m=Ext.apply({},b.markerStyle||{}),d=Ext.apply(m,b.markerConfig,{fill:b.colorArrayStyle[b.seriesIdx%b.colorArrayStyle.length]}),j=b.items,n=d.type,k=b.markerGroup,i=b.centerX,h=b.centerY,e,c,g,a;delete d.type;for(c=0,g=j.length;c<g;c++){e=j[c];a=k.getAt(c);if(!a)a=Ext.chart.Shape[n](l,Ext.apply({group:k,x:0,y:0,translate:{x:i,y:h}},d));else a.show();e.sprite=a;f.resizing&&a.setAttributes({x:0,y:0,translate:{x:i,y:h}},true);a._to={translate:{x:e.point[0],y:e.point[1]}};if(f.animate)b.onAnimate(a,{to:a._to});else a.setAttributes(Ext.apply(a._to,d||{}),true)}},isItemInPoint:function(d,f,e){var a,c=10,b=Math.abs;a=e.point;return b(a[0]-d)<=c&&b(a[1]-f)<=c},onCreateLabel:function(i,f){var a=this,e=a.labelsGroup,b=a.label,d=a.centerX,c=a.centerY,k=f.point,g=Ext.apply(a.seriesLabelStyle||{},b);return a.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:e,x:d,y:c},b||{}))},onPlaceLabel:function(a,i,g,n,o,h){var b=this,k=b.chart,j=k.resizing,d=b.label,m=d.renderer,l=d.field,f=b.centerX,e=b.centerY,c={x:g.point[0],y:g.point[1]},q=c.x-f,p=c.y-e;a.setAttributes({text:m(i.get(l)),hidden:true},true);j&&a.setAttributes({x:f,y:e},true);if(h){a.show(true);b.onAnimate(a,{to:c})}else{a.setAttributes(c,true);a.show(true)}},toggleAll:function(c){var a=this,b,e,f,d;if(!c)Ext.chart.series.Radar.superclass.hideAll.call(a);else Ext.chart.series.Radar.superclass.showAll.call(a);if(a.radar){a.radar.setAttributes({hidden:!c},true);if(a.radar.shadows)for(b=0,d=a.radar.shadows,e=d.length;b<e;b++){f=d[b];f.setAttributes({hidden:!c},true)}}},hideAll:function(){this.toggleAll(false);this.hideMarkers(0)},showAll:function(){this.toggleAll(true)},hideMarkers:function(c){for(var b=this,d=b.markerGroup&&b.markerGroup.getCount()||0,a=c||0;a<d;a++)b.markerGroup.getAt(a).hide(true)}});Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.fx.Anim"],type:"scatter",alias:"series.scatter",constructor:function(e){this.callParent(arguments);var a=this,f=a.chart.shadow,c=a.chart.surface,b,d;Ext.apply(a,e,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]});a.group=c.getGroup(a.seriesId);if(f)for(b=0,d=a.shadowAttributes.length;b<d;b++)a.shadowGroups.push(c.getGroup(a.seriesId+"-shadows"+b))},getBounds:function(){var b=this,l=b.chart,g=l.getChartStore(),n=l.axes,m=b.getAxesForXAndYFields(),p=m.xAxis,o=m.yAxis,e,k,j,q,d,c,i,h,r,a,f;b.setBBox();e=b.bbox;if(a=n.get(p)){f=a.applyData();d=f.from;i=f.to}if(a=n.get(o)){f=a.applyData();c=f.from;h=f.to}if(b.xField&&!Ext.isNumber(d)){a=b.getMinMaxXValues();d=a[0];i=a[1]}if(b.yField&&!Ext.isNumber(c)){a=b.getMinMaxYValues();c=a[0];h=a[1]}if(isNaN(d)){d=0;i=g.getCount()-1;k=e.width/(g.getCount()-1)}else k=e.width/(i-d);if(isNaN(c)){c=0;h=g.getCount()-1;j=e.height/(g.getCount()-1)}else j=e.height/(h-c);return{bbox:e,minX:d,minY:c,xScale:k,yScale:j}},getPaths:function(){var a=this,g=a.chart,p=g.shadow,s=g.getChartStore(),l=s.data.items,d,m,e,u=a.group,f=a.bounds=a.getBounds(),i=a.bbox,q=f.xScale,r=f.yScale,w=f.minX,v=f.minY,o=i.x,x=i.y,t=i.height,y=a.items=[],n=[],k,j,c,b,h;for(d=0,m=l.length;d<m;d++){e=l[d];c=e.get(a.xField);b=e.get(a.yField);if(typeof b=="undefined"||typeof b=="string"&&!b||c==null||b==null)continue;if(typeof c=="string"||typeof c=="object"&&!Ext.isDate(c))c=d;if(typeof b=="string"||typeof b=="object"&&!Ext.isDate(b))b=d;k=o+(c-w)*q;j=x+t-(b-v)*r;n.push({x:k,y:j});a.items.push({series:a,value:[c,b],point:[k,j],storeItem:e});if(g.animate&&g.resizing){h=u.getAt(d);if(h){a.resetPoint(h);p&&a.resetShadow(h)}}}return n},resetPoint:function(b){var a=this.bbox;b.setAttributes({translate:{x:(a.x+a.width)/2,y:(a.y+a.height)/2}},true)},resetShadow:function(e){for(var d=this,g=e.shadows,h=d.shadowAttributes,f=d.shadowGroups.length,a=d.bbox,b,c=0;c<f;c++){b=Ext.apply({},h[c]);if(b.translate){b.translate.x+=(a.x+a.width)/2;b.translate.y+=(a.y+a.height)/2}else b.translate={x:(a.x+a.width)/2,y:(a.y+a.height)/2};g[c].setAttributes(b,true)}},createPoint:function(c,e){var b=this,d=b.chart,f=b.group,a=b.bbox;return Ext.chart.Shape[e](d.surface,Ext.apply({},{x:0,y:0,group:f,translate:{x:(a.x+a.width)/2,y:(a.y+a.height)/2}},c))},createShadow:function(m,j,l){var d=this,k=d.chart,f=d.shadowGroups,i=d.shadowAttributes,h=f.length,a=d.bbox,c,g,e,b;m.shadows=e=[];for(c=0;c<h;c++){b=Ext.apply({},i[c]);if(b.translate){b.translate.x+=(a.x+a.width)/2;b.translate.y+=(a.y+a.height)/2}else Ext.apply(b,{translate:{x:(a.x+a.width)/2,y:(a.y+a.height)/2}});Ext.apply(b,j);g=Ext.chart.Shape[l](k.surface,Ext.apply({},{x:0,y:0,group:f[c]},b));e.push(g)}},drawSeries:function(){var a=this,o=a.chart,g=o.getChartStore(),n=a.group,s=o.shadow,r=a.shadowGroups,p=a.shadowAttributes,q=r.length,d,l,h,k,b,j,c,m,i,f,e;j=Ext.apply(a.markerStyle,a.markerConfig);m=j.type;delete j.type;if(!g||!g.getCount()){a.hide();a.items=[];return}a.unHighlightItem();a.cleanHighlights();l=a.getPaths();k=l.length;for(b=0;b<k;b++){h=l[b];d=n.getAt(b);Ext.apply(h,j);if(!d){d=a.createPoint(h,m);s&&a.createShadow(d,j,m)}i=d.shadows;if(o.animate){f=a.renderer(d,g.getAt(b),{translate:h},b,g);d._to=f;a.onAnimate(d,{to:f});for(c=0;c<q;c++){e=Ext.apply({},p[c]);f=a.renderer(i[c],g.getAt(b),Ext.apply({},{hidden:false,translate:{x:h.x+(e.translate?e.translate.x:0),y:h.y+(e.translate?e.translate.y:0)}},e),b,g);a.onAnimate(i[c],{to:f})}}else{f=a.renderer(d,g.getAt(b),{translate:h},b,g);d._to=f;d.setAttributes(f,true);for(c=0;c<q;c++){e=Ext.apply({},p[c]);f=a.renderer(i[c],g.getAt(b),Ext.apply({},{hidden:false,translate:{x:h.x+(e.translate?e.translate.x:0),y:h.y+(e.translate?e.translate.y:0)}},e),b,g);i[c].setAttributes(f,true)}}a.items[b].sprite=d}k=n.getCount();for(b=l.length;b<k;b++)n.getAt(b).hide(true);a.renderLabels();a.renderCallouts()},onCreateLabel:function(h,f){var a=this,e=a.labelsGroup,c=a.label,d=Ext.apply({},c,a.seriesLabelStyle),b=a.bbox;return a.chart.surface.add(Ext.apply({type:"text",group:e,x:f.point[0],y:b.y+b.height/2},d))},onPlaceLabel:function(e,p,h,t,i){var j=this,m=j.chart,r=m.resizing,n=j.label,q=n.renderer,o=n.field,a=j.bbox,b=h.point[0],c=h.point[1],l=h.sprite.attr.radius,d,g,f,k;e.setAttributes({text:q(p.get(o)),hidden:true},true);if(i=="rotate"){e.setAttributes({"text-anchor":"start",rotation:{x:b,y:c,degrees:-45}},true);d=e.getBBox();g=d.width;f=d.height;b=b<a.x?a.x:b;b=b+g>a.x+a.width?b-(b+g-a.x-a.width):b;c=c-f<a.y?a.y+f:c}else if(i=="under"||i=="over"){d=h.sprite.getBBox();d.width=d.width||l*2;d.height=d.height||l*2;c=c+(i=="over"?-d.height:d.height);d=e.getBBox();g=d.width/2;f=d.height/2;b=b-g<a.x?a.x+g:b;b=b+g>a.x+a.width?b-(b+g-a.x-a.width):b;c=c-f<a.y?a.y+f:c;c=c+f>a.y+a.height?c-(c+f-a.y-a.height):c}if(!m.animate){e.setAttributes({x:b,y:c},true);e.show(true)}else if(r){k=h.sprite.getActiveAnimation();if(k)k.on("afteranimate",function(){e.setAttributes({x:b,y:c},true);e.show(true)});else e.show(true)}else j.onAnimate(e,{to:{x:b,y:c}})},onPlaceCallout:function(d,v,q){var h=this,o=h.chart,y=o.surface,r=o.resizing,t=h.callouts,w=h.items,e=q.point,b,c=d.label.getBBox(),n=30,x=10,a=3,j,i,l,m,p,k=h.bbox,g,f;b=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)];g=e[0]+b[0]*n;f=e[1]+b[1]*n;j=g+(b[0]>0?0:-(c.width+2*a));i=f-c.height/2-a;l=c.width+2*a;m=c.height+2*a;if(j<k[0]||j+l>k[0]+k[2])b[0]*=-1;if(i<k[1]||i+m>k[1]+k[3])b[1]*=-1;g=e[0]+b[0]*n;f=e[1]+b[1]*n;j=g+(b[0]>0?0:-(c.width+2*a));i=f-c.height/2-a;l=c.width+2*a;m=c.height+2*a;if(o.animate){h.onAnimate(d.lines,{to:{path:["M",e[0],e[1],"L",g,f,"Z"]}},true);h.onAnimate(d.box,{to:{x:j,y:i,width:l,height:m}},true);h.onAnimate(d.label,{to:{x:g+(b[0]>0?a:-(c.width+a)),y:f}},true)}else{d.lines.setAttributes({path:["M",e[0],e[1],"L",g,f,"Z"]},true);d.box.setAttributes({x:j,y:i,width:l,height:m},true);d.label.setAttributes({x:g+(b[0]>0?a:-(c.width+a)),y:f},true)}for(p in d)d[p].show(true)},onAnimate:function(a){a.show();return this.callParent(arguments)},isItemInPoint:function(c,d,f){var a,b=10,e=Math.abs;a=f.point;return a[0]-b<=c&&a[0]+b>=c&&a[1]-b<=d&&a[1]+b>=d}});Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{"namespace":"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};a.callParent()},register:function(a){for(var f=Ext.isArray(a)?a:arguments,d=0,g=f.length,b,c,e;d<g;d++){a=f[d];b=a.target;if(b)if(Ext.isArray(b))for(c=0,e=b.length;c<e;c++)this.targets[Ext.id(b[c])]=a;else this.targets[Ext.id(b)]=a}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,c=b.activeTarget;a=Ext.get(a).dom;if(b.isVisible())c&&c.el==a&&b.hide();else c&&c.el==a&&b.clearTimer("show")},getTipCfg:function(d){var a=d.getTarget(),c=a.title,b;if(this.interceptTitles&&c&&Ext.isString(c)){a.qtip=c;a.removeAttribute("title");d.preventDefault();return{text:c}}else{b=this.tagConfig;a=d.getTarget("["+b.namespace+b.attribute+"]");if(a)return{target:a,text:a.getAttribute(b.namespace+b.attribute)}}},onTargetOver:function(k){var a=this,b=k.getTarget(a.delegate),f,i,c,d,e,g,l,j,h,n,m;if(a.disabled)return;a.targetXY=k.getXY();if(!b||b.nodeType!==1||b==document.documentElement||b==document.body)return;if(a.activeTarget&&(b==a.activeTarget.el||Ext.fly(a.activeTarget.el).contains(b))){a.clearTimer("hide");a.show();return}if(b){j=a.targets;for(m in j)if(j.hasOwnProperty(m)){n=j[m];h=Ext.fly(n.target);if(h&&(h.dom===b||h.contains(b))){c=h.dom;break}}if(c){a.activeTarget=a.targets[c.id];a.activeTarget.el=b;a.anchor=a.activeTarget.anchor;if(a.anchor)a.anchorTarget=b;f=Ext.isDefined(a.activeTarget.showDelay);if(f){i=a.showDelay;a.showDelay=a.activeTarget.showDelay}a.delayShow();if(f)a.showDelay=i;return}}c=Ext.fly(b,"_quicktip-target");d=a.tagConfig;e=d.namespace;g=a.getTipCfg(k);if(g){if(g.target){b=g.target;c=Ext.fly(b,"_quicktip-target")}l=c.getAttribute(e+d.hide);a.activeTarget={el:b,text:g.text,width:+c.getAttribute(e+d.width)||null,autoHide:l!="user"&&l!=="false",title:c.getAttribute(e+d.title),cls:c.getAttribute(e+d.cls),align:c.getAttribute(e+d.align)};a.anchor=c.getAttribute(e+d.anchor);if(a.anchor)a.anchorTarget=b;f=Ext.isDefined(a.activeTarget.showDelay);if(f){i=a.showDelay;a.showDelay=a.activeTarget.showDelay}a.delayShow();if(f)a.showDelay=i}},onTargetOut:function(e){var a=this,b=a.activeTarget,c,d;if(b&&e.within(a.activeTarget.el)&&!a.getTipCfg(e))return;a.clearTimer("show");delete a.activeTarget;if(a.autoHide!==false){c=b&&Ext.isDefined(b.hideDelay);if(c){d=a.hideDelay;a.hideDelay=b.hideDelay}a.delayHide();if(c)a.hideDelay=d}},showAt:function(d){var a=this,b=a.activeTarget,c;if(b){if(!a.rendered){a.render(Ext.getBody());a.activeTarget=b}a.suspendLayouts();if(b.title){a.setTitle(b.title);a.header.show()}else a.header.hide();a.update(b.text);a.autoHide=b.autoHide;a.dismissDelay=b.dismissDelay||a.dismissDelay;c=a.lastCls;if(c){a.removeCls(c);delete a.lastCls}c=b.cls;if(c){a.addCls(c);a.lastCls=c}a.setWidth(b.width);if(a.anchor)a.constrainPosition=false;else if(b.align){d=a.el.getAlignToXY(b.el,b.align);a.constrainPosition=false}else a.constrainPosition=true;a.resumeLayouts(true)}a.callParent([d])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("Ext.tip.QuickTipManager",function(){var a,b=false;return{requires:["Ext.tip.QuickTip"],singleton:true,alternateClassName:"Ext.QuickTips",init:function(f,e){if(!a){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(f,e)});return}var c=Ext.apply({disabled:b,id:"ext-quicktips-tip"},e),d=c.className,g=c.xtype;if(d)delete c.className;else if(g){d="widget."+g;delete c.xtype}if(f!==false)c.renderTo=document.body;a=Ext.create(d||"Ext.tip.QuickTip",c)}},destroy:function(){if(a){var b;a.destroy();a=b}},ddDisable:function(){a&&!b&&a.disable()},ddEnable:function(){a&&!b&&a.enable()},enable:function(){a&&a.enable();b=false},disable:function(){a&&a.disable();b=true},isEnabled:function(){return a!==undefined&&!a.disabled},getQuickTip:function(){return a},register:function(){a.register.apply(a,arguments)},unregister:function(){a.unregister.apply(a,arguments)},tips:function(){a.register.apply(a,arguments)}}}());Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.ModelManager","Ext.data.Model","Ext.data.StoreManager","Ext.tip.QuickTipManager","Ext.ComponentManager","Ext.app.EventBus"],scope:undefined,enableQuickTips:true,appFolder:"app",autoCreateViewport:false,constructor:function(c){c=c||{};Ext.apply(this,c);var g=c.requires||[],b,f,a,h,e,i,d;Ext.Loader.setPath(this.name,this.appFolder);if(this.paths){e=this.paths;for(d in e)if(e.hasOwnProperty(d)){i=e[d];Ext.Loader.setPath(d,i)}}this.callParent(arguments);this.eventbus=new Ext.app.EventBus;b=Ext.Array.from(this.controllers);f=b&&b.length;this.controllers=new Ext.util.MixedCollection;this.autoCreateViewport&&g.push(this.getModuleClassName("Viewport","view"));for(a=0;a<f;a++)g.push(this.getModuleClassName(b[a],"controller"));Ext.require(g);Ext.onReady(function(){for(a=0;a<f;a++){h=this.getController(b[a]);h.init(this)}this.onBeforeLaunch.call(this)},this)},control:function(b,c,a){this.eventbus.control(b,c,a)},launch:Ext.emptyFn,onBeforeLaunch:function(){var a=this,c,b,e,d;a.enableQuickTips&&Ext.tip.QuickTipManager.init();a.autoCreateViewport&&a.getView("Viewport").create();a.launch.call(this.scope||this);a.launched=true;a.fireEvent("launch",this);c=a.controllers.items;e=c.length;for(b=0;b<e;b++){d=c[b];d.onLaunch(this)}},getModuleClassName:function(a,b){return a.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(a)||Ext.Loader.isAClassNameWithAKnownPrefix(a))?a:this.name+"."+b+"."+a},getController:function(b){var a=this.controllers.get(b);if(!a){a=Ext.create(this.getModuleClassName(b,"controller"),{application:this,id:b});this.controllers.add(a)}return a},getStore:function(b){var a=Ext.StoreManager.get(b);if(!a)a=Ext.create(this.getModuleClassName(b,"store"),{storeId:b});return a},getModel:function(a){a=this.getModuleClassName(a,"model");return Ext.ModelManager.getModel(a)},getView:function(a){a=this.getModuleClassName(a,"view");return Ext.ClassManager.get(a)}});Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],childEls:["iframeEl","textareaEl"],fieldSubTpl:["{%Ext.DomHelper.generateMarkup(values.$comp.toolbar.getRenderTree(), out)%}","{beforeTextAreaTpl}",'<textarea id="{cmpId}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" style="{size}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{cmpId}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' style="overflow:auto;{size}" src="{iframeSrc}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",fieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",componentLayout:"htmleditor",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,initComponent:function(){var a=this;a.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");a.callParent(arguments);a.createToolbar(a);a.initLabelable();a.initField()},getRefItems:function(){return[this.toolbar]},createToolbar:function(d){var a=this,c=[],g,h=Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.isEnabled(),f=Ext.baseCSSPrefix,i,j,e;function b(a,b,c){return{itemId:a,cls:f+"btn-icon",iconCls:f+"edit-"+a,enableToggle:b!==false,scope:d,handler:c||d.relayBtnCmd,clickEvent:"mousedown",tooltip:h?d.buttonTips[a]||e:e,overflowText:d.buttonTips[a].title||e,tabIndex:-1}}if(a.enableFont&&!Ext.isSafari2){i=Ext.widget("component",{renderTpl:['<select id="{id}-selectEl" class="{cls}">','<tpl for="fonts">','<option value="{[values.toLowerCase()]}" style="font-family:{.}"<tpl if="values.toLowerCase()==parent.defaultFont"> selected</tpl>>{.}</option>',"</tpl>","</select>"],renderData:{cls:f+"font-select",fonts:a.fontFamilies,defaultFont:a.defaultFont},childEls:["selectEl"],afterRender:function(){a.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var a=this.selectEl;if(a)a.dom.disabled=true;Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var a=this.selectEl;if(a)a.dom.disabled=false;Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){a.relayCmd("fontname",a.fontSelect.dom.value);a.deferFocus()},element:"selectEl"}});c.push(i,"-")}a.enableFormat&&c.push(b("bold"),b("italic"),b("underline"));a.enableFontSize&&c.push("-",b("increasefontsize",false,a.adjustFont),b("decreasefontsize",false,a.adjustFont));a.enableColors&&c.push("-",{itemId:"forecolor",cls:f+"btn-icon",iconCls:f+"edit-forecolor",overflowText:d.buttonTips.forecolor.title,tooltip:h?d.buttonTips.forecolor||e:e,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(c,b){a.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+b:b);a.deferFocus();this.up("menu").hide()}}]})},{itemId:"backcolor",cls:f+"btn-icon",iconCls:f+"edit-backcolor",overflowText:d.buttonTips.backcolor.title,tooltip:h?d.buttonTips.backcolor||e:e,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(c,b){if(Ext.isGecko){a.execCmd("useCSS",false);a.execCmd("hilitecolor",b);a.execCmd("useCSS",true);a.deferFocus()}else{a.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+b:b);a.deferFocus()}this.up("menu").hide()}}]})});a.enableAlignments&&c.push("-",b("justifyleft"),b("justifycenter"),b("justifyright"));if(!Ext.isSafari2){a.enableLinks&&c.push("-",b("createlink",false,a.createLink));a.enableLists&&c.push("-",b("insertorderedlist"),b("insertunorderedlist"));a.enableSourceEdit&&c.push("-",b("sourceedit",true,function(){a.toggleSourceEdit(!a.sourceEditMode)}))}for(g=0;g<c.length;g++)if(c[g].itemId!=="sourceedit")c[g].disabled=true;j=Ext.widget("toolbar",{id:a.id+"-toolbar",ownerCt:a,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:true,items:c,ownerLayout:a.getComponentLayout(),listeners:{click:function(a){a.preventDefault()},element:"el"}});a.toolbar=j},getMaskTarget:function(){return this.bodyEl},setReadOnly:function(b){var a=this,e=a.textareaEl,d=a.iframeEl,c;a.readOnly=b;if(e)e.dom.readOnly=b;if(a.initialized){c=a.getEditorBody();if(Ext.isIE){d.setDisplayed(false);c.contentEditable=!b;d.setDisplayed(true)}else a.setDesignMode(!b);if(c)c.style.cursor=b?"default":"text";a.disableItems(b)}},getDocMarkup:function(){var a=this,b=a.iframeEl.getHeight()-a.iframePad*2;return Ext.String.format('<html><head><style type="text/css">body{border:0;margin:0;padding:{0}px;height:{1}px;box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;cursor:text}</style></head><body></body></html>',a.iframePad,b)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},finishRenderChildren:function(){this.callParent();this.toolbar.finishRender()},onRender:function(){var a=this;a.callParent(arguments);a.inputEl=a.iframeEl;a.monitorTask=Ext.TaskManager.start({run:a.checkDesignMode,scope:a,interval:100})},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl"))a.renderTpl=a.getTpl("labelableRenderTpl");return a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getSubTplData:function(){return{$comp:this,cmpId:this.id,id:this.getInputId(),textareaCls:Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,size:"height:100px;width:100%"}},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initFrameDoc:function(){var a=this,b,c;Ext.TaskManager.stop(a.monitorTask);b=a.getDoc();a.win=a.getWin();b.open();b.write(a.getDocMarkup());b.close();c={run:function(){var b=a.getDoc();if(b.body||b.readyState==="complete"){Ext.TaskManager.stop(c);a.setDesignMode(true);Ext.defer(a.initEditor,10,a)}},interval:10,duration:1e4,scope:a};Ext.TaskManager.start(c)},checkDesignMode:function(){var a=this,b=a.getDoc();b&&(!b.editorInitialized||a.getDesignMode()!=="on")&&a.initFrameDoc()},setDesignMode:function(c){var a=this,b=a.getDoc();if(b){if(a.readOnly)c=false;b.designMode=/on|true/i.test(String(c).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();return!a?"":String(a.designMode).toLowerCase()},disableItems:function(e){for(var c=this.getToolbar().items.items,d=c.length,b,a=0;a<d;a++){b=c[a];b.getItemId()!=="sourceedit"&&b.setDisabled(e)}},toggleSourceEdit:function(b){var a=this,e=a.iframeEl,c=a.textareaEl,d=Ext.baseCSSPrefix+"hidden",f=a.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(b))b=!a.sourceEditMode;a.sourceEditMode=b;f.pressed!==b&&f.toggle(b);if(b){a.disableItems(true);a.syncValue();e.addCls(d);c.removeCls(d);c.dom.removeAttribute("tabIndex");c.focus();a.inputEl=c}else{a.initialized&&a.disableItems(a.readOnly);a.pushValue();e.removeCls(d);c.addCls(d);c.dom.setAttribute("tabIndex",-1);a.deferFocus();a.inputEl=e}a.fireEvent("editmodechange",a,b);a.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&a!=="http://"&&this.relayCmd("createlink",a)},clearInvalid:Ext.emptyFn,setValue:function(a){var b=this,c=b.textareaEl;b.mixins.field.setValue.call(b,a);if(a===null||a===undefined)a="";if(c)c.dom.value=a;b.pushValue();return this},cleanHtml:function(a){a=String(a);if(Ext.isWebKit)a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"");if(a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10))a=a.substring(1);return a},syncValue:function(){var a=this,d,f,b,e,c,g;if(a.initialized){d=a.getEditorBody();b=d.innerHTML;if(Ext.isWebKit){e=d.getAttribute("style");c=e.match(/text-align:(.*?);/i);if(c&&c[1])b='<div style="'+c[0]+'">'+b+"</div>"}b=a.cleanHtml(b);if(a.fireEvent("beforesync",a,b)!==false){if(a.textareaEl.dom.value!=b){a.textareaEl.dom.value=b;f=true}a.fireEvent("sync",a,b);f&&a.checkChange()}}},getValue:function(){var a=this,b;!a.sourceEditMode&&a.syncValue();b=a.rendered?a.textareaEl.dom.value:a.value;a.value=b;return b},pushValue:function(){var a=this,b;if(a.initialized){b=a.textareaEl.dom.value||"";if(!a.activated&&b.length<1)b=a.defaultValue;if(a.fireEvent("beforepush",a,b)!==false){a.getEditorBody().innerHTML=b;if(Ext.isGecko){a.setDesignMode(false);a.setDesignMode(true)}a.fireEvent("push",a,b)}}},deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},initEditor:function(){try{var a=this,e=a.getEditorBody(),d=a.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),c,b;d["background-attachment"]="fixed";e.bgProperties="fixed";Ext.DomHelper.applyStyles(e,d);c=a.getDoc();if(c)try{Ext.EventManager.removeAll(c)}catch(g){}b=Ext.Function.bind(a.onEditorEvent,a);Ext.EventManager.on(c,{mousedown:b,dblclick:b,click:b,keyup:b,buffer:100});b=a.onRelayedEvent;Ext.EventManager.on(c,{mousedown:b,mousemove:b,mouseup:b,click:b,dblclick:b,scope:a});if(Ext.isGecko)Ext.EventManager.on(c,"keypress",a.applyCommand,a);if(a.fixKeys)Ext.EventManager.on(c,"keydown",a.fixKeys,a);Ext.EventManager.on(window,"unload",a.beforeDestroy,a);c.editorInitialized=true;a.initialized=true;a.pushValue();a.setReadOnly(a.readOnly);a.fireEvent("initialize",a)}catch(f){}},beforeDestroy:function(){var b=this,d=b.monitorTask,a,c;d&&Ext.TaskManager.stop(d);if(b.rendered){try{a=b.getDoc();if(a){Ext.EventManager.removeAll(a);for(c in a)if(a.hasOwnProperty&&a.hasOwnProperty(c))delete a[c]}}catch(e){}Ext.destroyMembers(b,"toolbar","iframeEl","textareaEl")}b.callParent()},onRelayedEvent:function(a){var c=this.iframeEl,d=c.getXY(),b=a.getXY();a.xy=[d[0]+b[0],d[1]+b[1]];a.injectEvent(c);a.xy=b},onFirstFocus:function(){var a=this,b,c;a.activated=true;a.disableItems(a.readOnly);if(Ext.isGecko){a.win.focus();b=a.win.getSelection();if(!b.focusNode||b.focusNode.nodeType!==3){c=b.getRangeAt(0);c.selectNodeContents(a.getEditorBody());c.collapse(true);a.deferFocus()}try{a.execCmd("useCSS",true);a.execCmd("styleWithCSS",false)}catch(d){}}a.fireEvent("activate",a)},adjustFont:function(e){var b=e.getItemId()==="increasefontsize"?1:-1,a=this.getDoc().queryCommandValue("FontSize")||"2",d=Ext.isString(a)&&a.indexOf("px")!==-1,c;a=parseInt(a,10);if(d){if(a<=10)a=1+b;else if(a<=13)a=2+b;else if(a<=16)a=3+b;else if(a<=18)a=4+b;else if(a<=24)a=5+b;else a=6+b;a=Ext.Number.constrain(a,1,6)}else{c=Ext.isSafari;if(c)b*=2;a=Math.max(1,a+b)+(c?"px":0)}this.execCmd("FontSize",a)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){var a=this,f,e,b,d;if(a.readOnly)return;if(!a.activated){a.onFirstFocus();return}f=a.getToolbar().items.map;e=a.getDoc();if(a.enableFont&&!Ext.isSafari2){b=(e.queryCommandValue("FontName")||a.defaultFont).toLowerCase();d=a.fontSelect.dom;if(b!==d.value)d.value=b}function c(){for(var b=0,c=arguments.length,a;b<c;b++){a=arguments[b];f[a].toggle(e.queryCommandState(a))}}a.enableFormat&&c("bold","italic","underline");a.enableAlignments&&c("justifyleft","justifycenter","justifyright");!Ext.isSafari2&&a.enableLists&&c("insertorderedlist","insertunorderedlist");Ext.menu.Manager.hideAll();a.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(b,a){Ext.defer(function(){var c=this;c.focus();c.execCmd(b,a);c.updateToolbar()},10,this)},execCmd:function(d,b){var a=this,e=a.getDoc(),c;e.execCommand(d,false,b===c?null:b);a.syncValue()},applyCommand:function(d){if(d.ctrlKey){var c=this,b=d.getCharCode(),a;if(b>0){b=String.fromCharCode(b);switch(b){case"b":a="bold";break;case"i":a="italic";break;case"u":a="underline"}if(a){c.win.focus();c.execCmd(a);c.deferFocus();d.preventDefault()}}}},insertAtCursor:function(c){var a=this,b;if(a.activated){a.win.focus();if(Ext.isIE){b=a.getDoc().selection.createRange();if(b){b.pasteHTML(c);a.syncValue();a.deferFocus()}}else{a.execCmd("InsertHTML",c);a.deferFocus()}}},fixKeys:function(){return Ext.isIE?function(b){var c=this,e=b.getKey(),f=c.getDoc(),g=c.readOnly,a,d;if(e===b.TAB){b.stopEvent();if(!g){a=f.selection.createRange();if(a){a.collapse(true);a.pasteHTML("&#160;&#160;&#160;&#160;");c.deferFocus()}}}else if(e===b.ENTER)if(!g){a=f.selection.createRange();if(a){d=a.parentElement();if(!d||d.tagName.toLowerCase()!=="li"){b.stopEvent();a.pasteHTML("<br />");a.collapse(false);a.select()}}}}:Ext.isOpera?function(b){var a=this;if(b.getKey()===b.TAB){b.stopEvent();if(!a.readOnly){a.win.focus();a.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");a.deferFocus()}}}:Ext.isWebKit?function(b){var a=this,c=b.getKey(),d=a.readOnly;if(c===b.TAB){b.stopEvent();if(!d){a.execCmd("InsertText","\t");a.deferFocus()}}else if(c===b.ENTER){b.stopEvent();if(!d){a.execCmd("InsertHtml","<br /><br />");a.deferFocus()}}}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}});Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-{type}" role="presentation"/>'],tooltipType:"qtip",stopEvent:true,height:15,width:15,initComponent:function(){var a=this;a.addEvents("click");a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;a.callParent();a.on({element:"toolEl",click:a.onClick,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,scope:a})},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.tooltip)if(Ext.isObject(a.tooltip))Ext.tip.QuickTipManager.register(Ext.apply({target:a.id},a.tooltip));else{b=a.tooltipType=="qtip"?"data-qtip":"title";a.toolEl.dom.setAttribute(b,a.tooltip)}},getFocusEl:function(){return this.el},setType:function(b){var a=this;a.type=b;if(a.rendered)a.toolEl.dom.className=a.baseCls+"-"+b;return a},bindTo:function(a){this.owner=a},onClick:function(b,d){var a=this,c;if(a.disabled)return false;c=a.owner||a.ownerCt;a.el.removeCls(a.toolPressedCls);a.el.removeCls(a.toolOverCls);a.stopEvent!==false&&b.stopEvent();Ext.callback(a.handler,a.scope||a,[b,d,c,a]);a.fireEvent("click",a,b);return true},onDestroy:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id);this.callParent()},onMouseDown:function(){if(this.disabled)return false;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return false;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:{bindable:"Ext.util.Bindable"},displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a=this;return[{itemId:"first",tooltip:a.firstText,overflowText:a.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:a.moveFirst,scope:a},{itemId:"prev",tooltip:a.prevText,overflowText:a.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:a.movePrevious,scope:a},"-",a.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:a.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:a,keydown:a.onPagingKeyDown,blur:a.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(a.afterPageText,1)},"-",{itemId:"next",tooltip:a.nextText,overflowText:a.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:a.moveNext,scope:a},{itemId:"last",tooltip:a.lastText,overflowText:a.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:a.moveLast,scope:a},"-",{itemId:"refresh",tooltip:a.refreshText,overflowText:a.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:a.doRefresh,scope:a}]},initComponent:function(){var a=this,c=a.getPagingItems(),b=a.items||a.buttons||[];if(a.prependButtons)a.items=b.concat(c);else a.items=c.concat(b);delete a.buttons;if(a.displayInfo){a.items.push("->");a.items.push({xtype:"tbtext",itemId:"displayItem"})}a.callParent();a.addEvents("change","beforechange");a.on("beforerender",a.onLoad,a,{single:true});a.bindStore(a.store||"ext-empty-store",true)},updateInfo:function(){var a=this,d=a.child("#displayItem"),f=a.store,b=a.getPageData(),e,c;if(d){e=f.getCount();if(e===0)c=a.emptyMsg;else c=Ext.String.format(a.displayMsg,b.fromRecord,b.toRecord,b.total);d.setText(c)}},onLoad:function(){var a=this,e,b,d,f,g,c;g=a.store.getCount();c=g===0;if(!c){e=a.getPageData();b=e.currentPage;d=e.pageCount;f=Ext.String.format(a.afterPageText,isNaN(d)?1:d)}else{b=0;d=0;f=Ext.String.format(a.afterPageText,0)}Ext.suspendLayouts();a.child("#afterTextItem").setText(f);a.child("#inputItem").setDisabled(c).setValue(b);a.child("#first").setDisabled(b===1||c);a.child("#prev").setDisabled(b===1||c);a.child("#next").setDisabled(b===d||c);a.child("#last").setDisabled(b===d||c);a.child("#refresh").enable();a.updateInfo();Ext.resumeLayouts(true);a.rendered&&a.fireEvent("change",a,e)},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){if(!this.rendered)return;this.child("#refresh").enable()},readPageFromInput:function(c){var a=this.child("#inputItem").getValue(),b=parseInt(a,10);if(!a||isNaN(b)){this.child("#inputItem").setValue(c.currentPage);return false}return b},onPagingFocus:function(){this.child("#inputItem").select()},onPagingBlur:function(){var a=this.getPageData().currentPage;this.child("#inputItem").setValue(a)},onPagingKeyDown:function(g,a){var d=this,c=a.getKey(),e=d.getPageData(),f=a.shiftKey?10:1,b;if(c==a.RETURN){a.stopEvent();b=d.readPageFromInput(e);if(b!==false){b=Math.min(Math.max(1,b),e.pageCount);d.fireEvent("beforechange",d,b)!==false&&d.store.loadPage(b)}}else if(c==a.HOME||c==a.END){a.stopEvent();b=c==a.HOME?1:e.pageCount;g.setValue(b)}else if(c==a.UP||c==a.PAGE_UP||c==a.DOWN||c==a.PAGE_DOWN){a.stopEvent();b=d.readPageFromInput(e);if(b){if(c==a.DOWN||c==a.PAGE_DOWN)f*=-1;b+=f;b>=1&&b<=e.pageCount&&g.setValue(b)}}},beforeLoad:function(){this.rendered&&this.refresh&&this.refresh.disable()},moveFirst:function(){this.fireEvent("beforechange",this,1)!==false&&this.store.loadPage(1)},movePrevious:function(){var a=this,b=a.store.currentPage-1;if(b>0)a.fireEvent("beforechange",a,b)!==false&&a.store.previousPage()},moveNext:function(){var a=this,c=a.getPageData().pageCount,b=a.store.currentPage+1;if(b<=c)a.fireEvent("beforechange",a,b)!==false&&a.store.nextPage()},moveLast:function(){var a=this,b=a.getPageData().pageCount;a.fireEvent("beforechange",a,b)!==false&&a.store.loadPage(b)},doRefresh:function(){var a=this,b=a.store.currentPage;a.fireEvent("beforechange",a,b)!==false&&a.store.loadPage(b)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.unbind();this.callParent()}});Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",initComponent:function(){var a=this.renderer||this.defaultRenderer,b=this.scope||window;this.renderer=function(u,l,c,r,t,s,n){var d=[],e=Ext.String.format,p=c.getDepth(),f=Ext.baseCSSPrefix+"tree-",h=f+"elbow-",k=f+"expander",g='<img src="{1}" class="{0}" />',q='<input type="button" role="checkbox" class="{0}" {1} />',j=a.apply(b,arguments),m=c.get("href"),o=c.get("hrefTarget"),i=c.get("cls");while(c){if(!c.isRoot()||c.isRoot()&&n.rootVisible)if(c.getDepth()===p){d.unshift(e(g,f+"icon "+f+"icon"+(c.get("icon")?"-inline ":c.isLeaf()?"-leaf ":"-parent ")+(c.get("iconCls")||""),c.get("icon")||Ext.BLANK_IMAGE_URL));if(c.get("checked")!==null){d.unshift(e(q,f+"checkbox"+(c.get("checked")?" "+f+"checkbox-checked":""),c.get("checked")?'aria-checked="true"':""));if(c.get("checked"))l.tdCls+=" "+f+"checked"}if(c.isLast())if(c.isExpandable())d.unshift(e(g,h+"end-plus "+k,Ext.BLANK_IMAGE_URL));else d.unshift(e(g,h+"end",Ext.BLANK_IMAGE_URL));else if(c.isExpandable())d.unshift(e(g,h+"plus "+k,Ext.BLANK_IMAGE_URL));else d.unshift(e(g,f+"elbow",Ext.BLANK_IMAGE_URL))}else if(c.isLast()||c.getDepth()===0)d.unshift(e(g,h+"empty",Ext.BLANK_IMAGE_URL));else c.getDepth()!==0&&d.unshift(e(g,h+"line",Ext.BLANK_IMAGE_URL));c=c.parentNode}if(m)d.push('<a href="',m,'" target="',o,'">',j,"</a>");else d.push(j);if(i)l.tdCls+=" "+i;return d.join("")};this.callParent(arguments)},defaultRenderer:function(a){return a}});Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:false,constructor:function(b){var a=this;Ext.apply(a,b);if(!a.ddGroup)a.ddGroup="view-dd-zone-"+a.view.id;a.callParent([a.view.el.dom.parentNode]);a.ddel=Ext.get(document.createElement("div"));a.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(c,a,b){this.initTarget(c,a,b);this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onItemMouseDown:function(c,b,e,d,a){if(!this.isPreventDrag(a,b,e,d)){this.handleMouseDown(a);if(c.getSelectionModel().selectionMode=="MULTI"&&!a.ctrlKey&&c.getSelectionModel().isSelected(b))return false}},isPreventDrag:function(){return false},getDragData:function(c){var a=this.view,b=c.getTarget(a.getItemSelector());if(b)return{copy:a.copy||a.allowCopy&&c.ctrlKey,event:new Ext.EventObjectImpl(c),view:a,ddel:this.ddel,item:b,records:a.getSelectionModel().getSelection(),fromPosition:Ext.fly(b).getXY()}},onInitDrag:function(g,h){var a=this,b=a.dragData,e=b.view,c=e.getSelectionModel(),d=e.getRecord(b.item),f=b.event;(!c.isSelected(d)||f.hasModifier())&&c.selectWithEvent(d,f,true);b.records=c.getSelection();a.ddel.update(a.getDragText());a.proxy.update(a.ddel.dom);a.onStartDrag(g,h);return true},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,a==1?"":"s")},getRepairXY:function(b,a){return a?a.fromPosition:false}});Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(b,a){return a.get("allowDrag")===false||!!b.getTarget(this.view.expanderSelector)},afterRepair:function(){var b=this,c=b.view,g=c.selectedItemCls,f=b.dragData.records,d,h=f.length,e=Ext.fly,a;if(Ext.enableFx&&b.repairHighlight)for(d=0;d<h;d++){a=c.getNode(f[d]);e(a.firstChild).highlight(b.repairHighlightColor,{listeners:{beforeanimate:function(){c.isSelected(a)&&e(a).removeCls(g)},afteranimate:function(){c.isSelected(a)&&e(a).addCls(g)}}})}b.dragging=false}});Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(b){var a=this;Ext.apply(a,b);if(!a.ddGroup)a.ddGroup="view-dd-zone-"+a.view.id;a.callParent([a.view.el])},fireViewEvent:function(){var a=this,b;a.lock();b=a.view.fireEvent.apply(a.view,arguments);a.unlock();return b},getTargetFromEvent:function(h){var g=h.getTarget(this.view.getItemSelector()),e,c,b,a,d,f;if(!g){e=h.getPageY();for(a=0,c=this.view.getNodes(),d=c.length;a<d;a++){b=c[a];f=Ext.fly(b).getBox();if(e<=f.bottom)return b}}return g},getIndicator:function(){var a=this;if(!a.indicator)a.indicator=new Ext.Component({html:a.indicatorHtml,cls:a.indicatorCls,ownerCt:a.view,floating:true,shadow:false});return a.indicator},getPosition:function(d,c){var e=d.getXY()[1],a=Ext.fly(c).getRegion(),b;if(a.bottom-e>=(a.bottom-a.top)/2)b="before";else b="after";return b},containsRecordAtOffset:function(f,b,g){if(!b)return false;var a=this.view,e=a.indexOf(b),c=a.getNode(e+g),d=c?a.getRecord(c):null;return d&&Ext.Array.contains(f,d)},positionIndicator:function(d,h,i){var a=this,f=a.view,b=a.getPosition(i,d),c=f.getRecord(d),e=h.records,g;if(!Ext.Array.contains(e,c)&&(b=="before"&&!a.containsRecordAtOffset(e,c,-1)||b=="after"&&!a.containsRecordAtOffset(e,c,1))){a.valid=true;if(a.overRecord!=c||a.currentPosition!=b){g=Ext.fly(d).getY()-f.el.getY()-1;if(b=="after")g+=Ext.fly(d).getHeight();a.getIndicator().setWidth(Ext.fly(f.el).getWidth()).showAt(0,g);a.overRecord=c;a.currentPosition=b}}else a.invalidateDrop()},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(b,e,d,c){var a=this;!Ext.Array.contains(c.records,a.view.getRecord(b))&&a.positionIndicator(b,c,d);return a.valid?a.dropAllowed:a.dropNotAllowed},notifyOut:function(){var a=this;a.callParent(arguments);delete a.overRecord;delete a.currentPosition;a.indicator&&a.indicator.hide()},onContainerOver:function(f,e,d){var a=this,b=a.view,c=b.store.getCount();if(c)a.positionIndicator(b.getNode(c-1),d,e);else{delete a.overRecord;delete a.currentPosition;a.getIndicator().setWidth(Ext.fly(b.el).getWidth()).showAt(0,0);a.valid=true}return a.dropAllowed},onContainerDrop:function(a,c,b){return this.onNodeDrop(a,null,c,b)},onNodeDrop:function(f,g,h,d){var a=this,c=false,b={wait:false,processDrop:function(){a.invalidateDrop();a.handleNodeDrop(d,a.overRecord,a.currentPosition);c=true;a.fireViewEvent("drop",f,d,a.overRecord,a.currentPosition)},cancelDrop:function(){a.invalidateDrop();c=true}},e=false;if(a.valid){e=a.fireViewEvent("beforedrop",f,d,a.overRecord,a.currentPosition,b);if(b.wait)return;if(e!==false)!c&&b.processDrop()}return e},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;this.callParent()}});Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(a,h,i){var e=this.view,g=e.getStore(),d,c,b,f;if(a.copy){c=a.records;a.records=[];for(b=0,f=c.length;b<f;b++)a.records.push(c[b].copy(c[b].getId()))}else a.view.store.remove(a.records,a.view===e);d=g.indexOf(h);if(i!=="before")d++;g.insert(d,a.records);e.getSelectionModel().select(a.records)}});Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(a){var b=this.view;if(!a.isLeaf()&&!a.isExpanded()){b.expand(a);this.expandProcId=false}},queueExpand:function(a){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[a])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},getPosition:function(h,g){var i=this.view,b=i.getRecord(g),c=h.getPageY(),e=b.isLeaf(),f=false,a=Ext.fly(g).getRegion(),d;if(b.isRoot())return"append";if(this.appendOnly)return e?false:"append";if(!this.allowParentInsert)f=b.hasChildNodes()&&b.isExpanded();d=(a.bottom-a.top)/(e?2:3);return c>=a.top&&c<a.top+d?"before":!f&&(e||c>=a.bottom-d&&c<=a.bottom)?"after":"append"},isValidDropPoint:function(f,e,l,k,g){if(!f||!g.item)return false;var j=this.view,a=j.getRecord(f),c=g.records,h=c.length,i=c.length,b,d;if(!(a&&e&&h))return false;for(b=0;b<i;b++){d=c[b];if(d.isNode&&d.contains(a))return false}return e==="append"&&a.get("allowDrop")===false?false:e!="append"&&a.parentNode.get("allowDrop")===false?false:Ext.Array.contains(c,a)?false:true},onNodeOver:function(b,g,i,h){var d=this.getPosition(i,b),c=this.dropNotAllowed,j=this.view,a=j.getRecord(b),e=this.getIndicator(),k=0,f=0;this.cancelExpand();d=="append"&&!this.expandProcId&&!Ext.Array.contains(h.records,a)&&!a.isLeaf()&&!a.isExpanded()&&this.queueExpand(a);if(this.isValidDropPoint(b,d,g,i,h)){this.valid=true;this.currentPosition=d;this.overRecord=a;e.setWidth(Ext.fly(b).getWidth());f=Ext.fly(b).getY()-Ext.fly(j.el).getY()-1;if(d=="before"){c=a.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between";e.showAt(0,f);g.proxy.show()}else if(d=="after"){c=a.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between";f+=Ext.fly(b).getHeight();e.showAt(0,f);g.proxy.show()}else{c=Ext.baseCSSPrefix+"tree-drop-ok-append";e.hide()}}else this.valid=false;this.currentCls=c;return c},onContainerOver:function(b,a){return a.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments);this.cancelExpand()},handleNodeDrop:function(c,a,l){var g=this,n=g.view,f=a.parentNode,p=n.getStore(),k=[],i,b,h,e,d,m,j,o;if(c.copy){i=c.records;c.records=[];for(b=0,h=i.length;b<h;b++)c.records.push(Ext.apply({},i[b].data))}g.cancelExpand();if(l=="before"){e=f.insertBefore;d=[null,a];a=f}else if(l=="after"){if(a.nextSibling){e=f.insertBefore;d=[null,a.nextSibling]}else{e=f.appendChild;d=[null]}a=f}else{if(!a.isExpanded())m=true;e=a.appendChild;d=[null]}j=function(){var m,i,l,j,f;for(b=0,h=c.records.length;b<h;b++){d[0]=c.records[b];m=e.apply(a,d);Ext.enableFx&&g.dropHighlight&&k.push(n.getNode(m))}if(Ext.enableFx&&g.dropHighlight){l=k.length;j=g.dropHighlightColor;for(i=0;i<l;i++){f=k[i];f&&Ext.fly(f.firstChild?f.firstChild:f).highlight(j)}}};if(m)a.expand(false,j);else j()}});Ext.define("Ext.view.TableChunker",{singleton:true,requires:["Ext.XTemplate"],metaTableTpl:["{%if (this.openTableWrap)out.push(this.openTableWrap())%}",'<table class="'+Ext.baseCSSPrefix+"grid-table "+Ext.baseCSSPrefix+'grid-table-resizer" border="0" cellspacing="0" cellpadding="0" {[this.embedFullWidth(values)]}>',"<tbody>",'<tr class="'+Ext.baseCSSPrefix+'grid-header-row">','<tpl for="columns">','<th class="'+Ext.baseCSSPrefix+'grid-col-resizer-{id}" style="width: {width}px; height: 0px;"></th>',"</tpl>","</tr>","{[this.openRows()]}","{row}",'<tpl for="features">',"{[this.embedFeature(values, parent, xindex, xcount)]}","</tpl>","{[this.closeRows()]}","</tbody>","</table>","{%if (this.closeTableWrap)out.push(this.closeTableWrap())%}"],constructor:function(){Ext.XTemplate.prototype.recurse=function(b,a){return this.apply(a?b[a]:b)}},embedFeature:function(a,d,c,e){var b="";if(!a.disabled)b=a.getFeatureTpl(a,d,c,e);return b},embedFullWidth:function(b){var a='style="width:{fullWidth}px;';if(!b.rowCount)a+="height:1px;";return a+'"'},openRows:function(){return'<tpl for="rows">'},closeRows:function(){return"</tpl>"},metaRowTpl:['<tr class="'+Ext.baseCSSPrefix+'grid-row {[this.embedRowCls()]}" {[this.embedRowAttr()]}>','<tpl for="columns">','<td class="{cls} '+Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+'grid-cell-{columnId} {{id}-modified} {{id}-tdCls} {[this.firstOrLastCls(xindex, xcount)]}" {{id}-tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {unselectableCls}" style="text-align: {align}; {{id}-style};">{{id}}</div>',"</td>","</tpl>","</tr>"],firstOrLastCls:function(a,b){return a===1?Ext.view.Table.prototype.firstCls:a===b?Ext.view.Table.prototype.lastCls:void 0},embedRowCls:function(){return"{rowCls}"},embedRowAttr:function(){return"{rowAttr}"},openTableWrap:undefined,closeTableWrap:undefined,getTableTpl:function(c,j){for(var e,h={openRows:this.openRows,closeRows:this.closeRows,embedFeature:this.embedFeature,embedFullWidth:this.embedFullWidth,openTableWrap:this.openTableWrap,closeTableWrap:this.closeTableWrap},g={},b=c.features||[],k=b.length,a=0,i={embedRowCls:this.embedRowCls,embedRowAttr:this.embedRowAttr,firstOrLastCls:this.firstOrLastCls,unselectableAttr:c.enableTextSelection?"":'unselectable="on"',unselectableCls:c.enableTextSelection?"":Ext.baseCSSPrefix+"unselectable"},d=Array.prototype.slice.call(this.metaRowTpl,0),f;a<k;a++)if(!b[a].disabled){b[a].mutateMetaRowTpl(d);Ext.apply(i,b[a].getMetaRowTplFragments());Ext.apply(g,b[a].getFragmentTpl());Ext.apply(h,b[a].getTableFragments())}d=new Ext.XTemplate(d.join(""),i);c.row=d.applyTemplate(c);f=new Ext.XTemplate(this.metaTableTpl.join(""),h);e=f.applyTemplate(c);if(!j)e=new Ext.XTemplate(e,g);return e}});Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this;a.callParent();a.mon(a.getTargetEl(),{scope:a,freezeEvent:true,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,mouseover:a.handleEvent,mouseout:a.handleEvent,keydown:a.handleEvent})},handleEvent:function(a){var b=a.type=="keydown"&&a.getKey();this.processUIEvent(a)!==false&&this.processSpecialEvent(a);b===a.SPACE&&a.stopEvent()},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,stillOverItem:function(b,a){var c;if(a&&typeof a.offsetParent==="object"){c=b.type=="mouseout"?b.getRelatedTarget():b.getTarget();return Ext.fly(a).contains(c)}return false},processUIEvent:function(b){var a=this,c=b.getTarget(a.getItemSelector(),a.getTargetEl()),h=this.statics().EventMap,f,d,g=b.type,i=a.mouseOverItem,e;if(!c){if(g=="mouseover"&&a.stillOverItem(b,i))c=i;if(g=="keydown"){d=a.getSelectionModel().getLastSelected();if(d)c=a.getNode(d)}}if(c){f=a.indexOf(c);if(!d)d=a.getRecord(c);if(!d||a.processItemEvent(d,c,f,b)===false)return false;e=a.isNewItemEvent(c,b);if(e===false)return false;if(a["onBeforeItem"+h[e]](d,c,f,b)===false||a.fireEvent("beforeitem"+e,a,d,c,f,b)===false||a["onItem"+h[e]](d,c,f,b)===false)return false;a.fireEvent("item"+e,a,d,c,f,b)}else{if(a.processContainerEvent(b)===false||a["onBeforeContainer"+h[g]](b)===false||a.fireEvent("beforecontainer"+g,a,b)===false||a["onContainer"+h[g]](b)===false)return false;a.fireEvent("container"+g,a,b)}return true},isNewItemEvent:function(d,e){var a=this,b=a.mouseOverItem,c=e.type;switch(c){case"mouseover":if(d===b)return false;a.mouseOverItem=d;return"mouseenter";case"mouseout":if(a.stillOverItem(e,b))return false;a.mouseOverItem=null;return"mouseleave"}return c},onItemMouseEnter:function(b,a){this.trackOver&&this.highlightItem(a)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,highlightItem:function(b){var a=this;a.clearHighlight();a.highlightedItem=b;Ext.fly(b).addCls(a.overItemCls);a.fireEvent("highlightitem",a,b)},clearHighlight:function(){var a=this,b=a.highlightedItem;if(b){Ext.fly(b).removeCls(a.overItemCls);a.fireEvent("unhighlightitem",a,b);delete a.highlightedItem}},onUpdate:function(f,e){var a=this,d,b,c;if(a.rendered){d=a.getNode(e);b=a.callParent(arguments);c=a.highlightedItem;if(c&&c===d){delete a.highlightedItem;b&&a.highlightItem(b)}}},refresh:function(){this.clearHighlight();this.callParent(arguments)}});Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,refreshed:0,deferInitialRefresh:false,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],initComponent:function(){var a=this,b=a.baseCls,c=a.itemCls;a.selectedItemCls=b+"-selected";a.overItemCls=b+"-item-over";a.itemSelector="."+c;a.floating&&a.addCls(b+"-floating");if(!a.tpl)a.tpl=new Ext.XTemplate('<ul><tpl for=".">','<li role="option" class="'+c+'">'+a.getInnerTpl(a.displayField)+"</li>","</tpl></ul>");else if(Ext.isString(a.tpl))a.tpl=new Ext.XTemplate(a.tpl);if(a.pageSize)a.pagingToolbar=a.createPagingToolbar();a.callParent()},up:function(b){var a=this.pickerField;if(b)for(;a;a=a.ownerCt)if(Ext.ComponentQuery.is(a,b))return a;return a},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.store,border:false})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);a&&a.finishRender()},refresh:function(){var a=this,b=a.pagingToolbar;a.callParent();a.rendered&&b&&!a.preserveScrollOnRefresh&&a.el.appendChild(b.el)},bindStore:function(c,b){var a=this.pagingToolbar;this.callParent(arguments);a&&a.bindStore(this.store,b)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}});Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:false,initComponent:function(){var a=this,c=Ext.Date,d=c.clearTime,b=a.initDate;a.absMin=d(new Date(b[0],b[1],b[2]));a.absMax=c.add(d(new Date(b[0],b[1],b[2])),"mi",24*60-1);a.store=a.createStore();a.updateList();a.callParent()},setMinValue:function(a){this.minValue=a;this.updateList()},setMaxValue:function(a){this.maxValue=a;this.updateList()},normalizeDate:function(b){var a=this.initDate;b.setFullYear(a[0],a[1],a[2]);return b},updateList:function(){var a=this,c=a.normalizeDate(a.minValue||a.absMin),b=a.normalizeDate(a.maxValue||a.absMax);a.store.filterBy(function(d){var a=d.get("date");return a>=c&&a<=b})},createStore:function(){var b=this,c=Ext.Date,d=[],a=b.absMin,e=b.absMax;while(a<=e){d.push({disp:c.dateFormat(a,b.format),date:a});a=c.add(a,"mi",b.increment)}return new Ext.data.Store({fields:["disp","date"],data:d})}});Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(c,b){var a=this;a.boundList=b.boundList;a.callParent([c,Ext.apply({},b,a.defaultHandlers)])},defaultHandlers:{up:function(){var c=this,a=c.boundList,f=a.all,d=a.highlightedItem,b=d?a.indexOf(d):-1,e=b>0?b-1:f.getCount()-1;c.highlightAt(e)},down:function(){var c=this,a=c.boundList,f=a.all,d=a.highlightedItem,b=d?a.indexOf(d):-1,e=b<f.getCount()-1?b+1:0;c.highlightAt(e)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(c){var b=this.boundList,a=b.all.item(c);if(a){a=a.dom;b.highlightItem(a);b.getTargetEl().scrollChildIntoView(a,false)}},selectHighlighted:function(e){var d=this,a=d.boundList,b=a.highlightedItem,c=a.getSelectionModel();b&&c.selectWithEvent(a.getRecord(b),e)}});Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.EventObject","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager","Ext.layout.component.field.ComboBox"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:"Ext.util.Bindable"},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:true,disableFormats:true}],getSubTplData:function(){var a=this;Ext.applyIf(a.subTplData,{hiddenDataCls:a.hiddenDataCls});return a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments);a.setHiddenValue(a.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,pageSize:0,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var a=this,d=Ext.isDefined,c=a.store,f=a.transform,b,e;Ext.applyIf(a.renderSelectors,{hiddenDataEl:"."+a.hiddenDataCls.split(" ").join(".")});this.addEvents("beforequery","select","beforeselect","beforedeselect");if(f){b=Ext.getDom(f);if(b){if(!a.store)c=Ext.Array.map(Ext.Array.from(b.options),function(a){return[a.value,a.text]});if(!a.name)a.name=b.name;if(!("value"in a))a.value=b.value}}a.bindStore(c||"ext-empty-store",true);c=a.store;if(c.autoCreated){a.queryMode="local";a.valueField=a.displayField="field1";if(!c.expanded)a.displayField="field2"}if(!d(a.valueField))a.valueField=a.displayField;e=a.queryMode==="local";if(!d(a.queryDelay))a.queryDelay=e?10:500;if(!d(a.minChars))a.minChars=e?0:4;if(!a.displayTpl)a.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+a.displayField+'"]]}<tpl if="xindex < xcount">'+a.delimiter+"</tpl></tpl>");else if(Ext.isString(a.displayTpl))a.displayTpl=new Ext.XTemplate(a.displayTpl);a.callParent();a.doQueryTask=new Ext.util.DelayedTask(a.doRawQuery,a);a.store.getCount()>0&&a.setValue(a.value);if(b){a.render(b.parentNode,b);Ext.removeNode(b);delete a.renderTo}},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel();this.assertValue()},assertValue:function(){var a=this,c=a.getRawValue(),b;if(a.forceSelection)if(a.multiSelect)c!==a.getDisplayValue()&&a.setValue(a.lastSelection);else{b=a.findRecordByDisplay(c);if(b)a.select(b);else a.setValue(a.lastSelection)}a.collapse()},onTypeAhead:function(){var a=this,g=a.displayField,d=a.store.findRecord(g,a.getRawValue()),f=a.getPicker(),b,e,c;if(d){b=d.get(g);e=b.length;c=a.getRawValue().length;f.highlightItem(f.getNode(d));if(c!==0&&c!==e){a.setRawValue(b);a.selectText(c,b.length)}}},resetToDefault:function(){},onUnbindStore:function(b){var a=this.picker;!b&&a&&a.bindStore(null)},onBindStore:function(b,c){var a=this.picker;!c&&this.resetToDefault();a&&a.bindStore(b)},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;a.resizeComboToGrow()&&a.updateLayout()},onClear:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true;a.onDataChanged()}},onRemove:function(){var a=this;if(a.resizeComboToGrow())a.removingRecords=true},onException:function(){if(this.ignoreSelection>0)--this.ignoreSelection;this.collapse()},onLoad:function(){var a=this,b=a.value;if(a.ignoreSelection>0)--a.ignoreSelection;if(a.rawQuery){a.rawQuery=false;a.syncSelection();a.picker&&!a.picker.getSelectionModel().hasSelection()&&a.doAutoSelect()}else if(a.value||a.value===0)a.setValue(a.value);else if(a.store.getCount())a.doAutoSelect();else a.setValue(a.value)},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(b,e,h){b=b||"";var a=this,d={query:b,forceAll:e,combo:a,cancel:false},c=a.store,g=a.queryMode==="local",f;if(a.fireEvent("beforequery",d)===false||d.cancel)return false;b=d.query;e=d.forceAll;if(e||b.length>=a.minChars){a.expand();if(!a.queryCaching||a.lastQuery!==b){a.lastQuery=b;if(g){c.suspendEvents();f=a.clearFilter();if(b||!e){a.activeFilter=new Ext.util.Filter({root:"data",property:a.displayField,value:b});c.filter(a.activeFilter);f=true}else delete a.activeFilter;c.resumeEvents();a.rendered&&f&&a.getPicker().refresh()}else{a.rawQuery=h;if(a.pageSize)a.loadPage(1);else c.load({params:a.getParams(b)})}}if(a.getRawValue()!==a.getDisplayValue()){a.ignoreSelection++;a.picker.getSelectionModel().deselectAll();a.ignoreSelection--}g&&a.doAutoSelect();a.typeAhead&&a.doTypeAhead()}return true},clearFilter:function(){var a=this.store,d=a.filters,c=this.activeFilter,b;if(c){if(d.getCount()>1){d.remove(c);b=d.getRange()}a.clearFilter(true);b&&a.filter(b)}return!!c},loadPage:function(a){this.store.loadPage(a,{params:this.getParams(this.lastQuery)})},onPageChange:function(b,a){this.loadPage(a);return false},getParams:function(c){var b={},a=this.queryParam;if(a)b[a]=c;return b},doAutoSelect:function(){var c=this,a=c.picker,d,b;if(a&&c.autoSelect&&c.store.getCount()>0){d=a.getSelectionModel().lastSelected;b=a.getNode(d||0);if(b){a.highlightItem(b);a.listEl.scrollChildIntoView(b,false)}}},doTypeAhead:function(){if(!this.typeAheadTask)this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this);this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded)a.collapse();else{a.onFocus({});if(a.triggerAction==="all")a.doQuery(a.allQuery,true);else a.doQuery(a.getRawValue(),false,true)}a.inputEl.focus()}},onKeyUp:function(b){var a=this,c=b.getKey();if(!a.readOnly&&!a.disabled&&a.editable){a.lastKey=c;(!b.isSpecialKey()||c==b.BACKSPACE||c==b.DELETE)&&a.doQueryTask.delay(a.queryDelay)}a.enableKeyEvents&&a.callParent(arguments)},initEvents:function(){var a=this;a.callParent();!a.enableKeyEvents&&a.mon(a.inputEl,"keyup",a.onKeyUp,a)},onDestroy:function(){this.bindStore(null);this.callParent()},onAdded:function(){var a=this;a.callParent(arguments);if(a.picker){a.picker.ownerCt=a.up("[floating]");a.picker.registerWithOwnerCt()}},createPicker:function(){var a=this,b,c=Ext.baseCSSPrefix+"menu",d=Ext.apply({xtype:"boundlist",pickerField:a,selModel:{mode:a.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,ownerCt:a.up("[floating]"),cls:a.el&&a.el.up("."+c)?c:"",store:a.store,displayField:a.displayField,focusOnToFront:false,pageSize:a.pageSize,tpl:a.tpl},a.listConfig,a.defaultListConfig);b=a.picker=Ext.widget(d);if(a.pageSize)b.pagingToolbar.on("beforechange",a.onPageChange,a);a.mon(b,{itemclick:a.onItemClick,refresh:a.onListRefresh,scope:a});a.mon(b.getSelectionModel(),{beforeselect:a.onBeforeSelect,beforedeselect:a.onBeforeDeselect,selectionchange:a.onListSelectionChange,scope:a});return b},alignPicker:function(){var b=this,a=b.getPicker(),d=b.getPosition()[1]-Ext.getBody().getScroll().top,e=Ext.Element.getViewHeight()-d-b.getHeight(),c=Math.max(d,e);if(a.height){delete a.height;a.updateLayout()}a.getHeight()>c-5&&a.setHeight(c-5);b.callParent()},onListRefresh:function(){this.alignPicker();this.syncSelection()},onItemClick:function(e,b){var a=this,d=a.picker.getSelectionModel().getSelection(),c=a.valueField;if(!a.multiSelect&&d.length)if(b.get(c)===d[0].get(c)){a.displayTplData=[b.data];a.setRawValue(a.getDisplayValue());a.collapse()}},onBeforeSelect:function(b,a){return this.fireEvent("beforeselect",this,a,a.index)},onBeforeDeselect:function(b,a){return this.fireEvent("beforedeselect",this,a,a.index)},onListSelectionChange:function(e,b){var a=this,d=a.multiSelect,c=b.length>0;if(!a.ignoreSelection&&a.isExpanded){!d&&Ext.defer(a.collapse,1,a);(d||c)&&a.setValue(b,false);c&&a.fireEvent("select",a,b);a.inputEl.focus()}},onExpand:function(){var a=this,b=a.listKeyNav,c=a.selectOnTab,d=a.getPicker();if(b)b.enable();else b=a.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:d,forceKeyDown:true,tab:function(b){if(c){this.selectHighlighted(b);a.triggerBlur()}return true}});if(c)a.ignoreMonitorTab=true;Ext.defer(b.enable,1,b);a.inputEl.focus()},onCollapse:function(){var b=this,a=b.listKeyNav;if(a){a.disable();b.ignoreMonitorTab=false}},select:function(a){this.setValue(a,true)},findRecord:function(d,c){var b=this.store,a=b.findExact(d,c);return a!==-1?b.getAt(a):false},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(c,l){var a=this,h=a.valueNotFoundText,k=a.inputEl,d,i,b,g,j=[],f=[],e=[];if(a.store.loading){a.value=c;a.setHiddenValue(a.value);return a}c=Ext.Array.from(c);for(d=0,i=c.length;d<i;d++){b=c[d];if(!b||!b.isModel)b=a.findRecordByValue(b);if(b){j.push(b);f.push(b.data);e.push(b.get(a.valueField))}else if(!a.forceSelection){e.push(c[d]);g={};g[a.displayField]=c[d];f.push(g)}else Ext.isDefined(h)&&f.push(h)}a.setHiddenValue(e);a.value=a.multiSelect?e:e[0];if(!Ext.isDefined(a.value))a.value=null;a.displayTplData=f;a.lastSelection=a.valueModels=j;k&&a.emptyText&&!Ext.isEmpty(c)&&k.removeCls(a.emptyCls);a.setRawValue(a.getDisplayValue());a.checkChange();l!==false&&a.syncSelection();a.applyEmptyText();return a},setHiddenValue:function(h){var f=this,i=f.hiddenName,c,b,e,g,d,a;if(!f.hiddenDataEl||!i)return;h=Ext.Array.from(h);b=f.hiddenDataEl.dom;e=b.childNodes;g=e[0];d=h.length;a=e.length;if(!g&&d>0){f.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:i}));a=1;g=b.firstChild}while(a>d){b.removeChild(e[0]);--a}while(a<d){b.appendChild(g.cloneNode(true));++a}for(c=0;c<d;c++)e[c].value=h[c]},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this,b=a.picker,d=a.getRawValue(),c=a.value;if(a.getDisplayValue()!==d){c=d;a.value=a.displayTplData=a.valueModels=null;if(b){a.ignoreSelection++;b.getSelectionModel().deselectAll();a.ignoreSelection--}}return c},getSubmitValue:function(){return this.getValue()},isEqual:function(c,b){var e=Ext.Array.from,a,d;c=e(c);b=e(b);d=c.length;if(d!==b.length)return false;for(a=0;a<d;a++)if(b[a]!==c[a])return false;return true},clearValue:function(){this.setValue([])},syncSelection:function(){var a=this,g=a.picker,d,e,f=a.valueModels||[],h=f.length,c,b;if(g){d=[];for(c=0;c<h;c++){b=f[c];b&&b.isModel&&a.store.indexOf(b)>=0&&d.push(b)}a.ignoreSelection++;e=g.getSelectionModel();e.deselectAll();d.length&&e.select(d);a.ignoreSelection--}},onEditorTab:function(b){var a=this.listKeyNav;this.selectOnTab&&a&&a.selectHighlighted(b)}});Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",submitFormat:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,snapToIncrement:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var a=this,c=a.minValue,b=a.maxValue;c&&a.setMinValue(c);b&&a.setMaxValue(b);a.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+a.displayField+'"])]}<tpl if="xindex < xcount">'+a.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(a.formatDate,a)});this.callParent()},setMinValue:function(c){var a=this,b=a.picker;a.setLimit(c,true);b&&b.setMinValue(a.minValue)},setMaxValue:function(c){var a=this,b=a.picker;a.setLimit(c,false);b&&b.setMaxValue(a.maxValue)},setLimit:function(b,e){var d=this,a,c;if(Ext.isString(b))a=d.parseDate(b);else if(Ext.isDate(b))a=b;if(a){c=Ext.Date.clearTime(new Date(d.initDate));c.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}else c=null;d[e?"minValue":"maxValue"]=c},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(b){var a=this,g=Ext.String.format,c=a.callParent(arguments),e=a.minValue,f=a.maxValue,d;b=a.formatDate(b||a.processRawValue(a.getRawValue()));if(b===null||b.length<1)return c;d=a.parseDate(b);if(!d){c.push(g(a.invalidText,b,Ext.Date.unescapeFormat(a.format)));return c}e&&d<e&&c.push(g(a.minText,a.formatDate(e)));f&&d>f&&c.push(g(a.maxText,a.formatDate(f)));return c},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(c){var b=this,a=c,g=b.altFormats,d=b.altFormatsArray,e=0,f;if(c&&!Ext.isDate(c)){a=b.safeParse(c,b.format);if(!a&&g){d=d||g.split("|");f=d.length;for(;e<f&&!a;++e)a=b.safeParse(c,d[e])}}if(a&&b.snapToIncrement)a=new Date(Ext.Number.snap(a.getTime(),b.increment*60*1e3));return a},safeParse:function(f,d){var e=this,b=Ext.Date,c,a=null;if(b.formatContainsDateInfo(d))a=b.parse(f,d);else{c=b.parse(e.initDate+" "+f,e.initDateFormat+" "+d);if(c)a=c}return a},getSubmitValue:function(){var a=this,c=a.submitFormat||a.format,b=a.getValue();return b?Ext.Date.format(b,c):null},createPicker:function(){var a=this,b;a.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:undefined,minValue:a.minValue,maxValue:a.maxValue,increment:a.increment,format:a.format,maxHeight:a.pickerMaxHeight},a.listConfig);b=a.callParent();a.store=b.store;return b},onItemClick:function(c,b){var d=this,a=c.getSelectionModel().getSelection();if(a.length>0){a=a[0];a&&Ext.Date.isEqual(b.get("date"),a.get("date"))&&d.collapse()}},onListSelectionChange:function(e,d){var a=this,b=d[0],c=b?b.get("date"):null;if(!a.ignoreSelection){a.skipSync=true;a.setValue(c);a.skipSync=false;a.fireEvent("select",a,c);a.picker.clearHighlight();a.collapse();a.inputEl.focus()}},syncSelection:function(){var a=this,b=a.picker,h,g,d,f,c,i,e;if(b&&!a.skipSync){b.clearHighlight();d=a.getValue();g=b.getSelectionModel();a.ignoreSelection++;if(d===null)g.deselectAll();else if(Ext.isDate(d)){f=b.store.data.items;i=f.length;for(c=0;c<i;c++){e=f[c];if(Ext.Date.isEqual(e.get("date"),d)){h=e;break}}g.select(h)}a.ignoreSelection--}},postBlur:function(){var a=this;a.callParent(arguments);a.setRawValue(a.formatDate(a.getValue()))},setValue:function(a){this.getPicker();this.callParent([this.parseDate(a)])},getValue:function(){var a=this.callParent(arguments);return this.parseDate(a)}});Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",uses:["Ext.view.TableChunker","Ext.util.DelayedTask","Ext.util.MixedCollection"],baseCls:Ext.baseCSSPrefix+"grid-view",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",overItemCls:Ext.baseCSSPrefix+"grid-row-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,initComponent:function(){var a=this,b=a.scroll;a.autoScroll=undefined;if(b===true||b==="both")a.style=Ext.apply(a.style||{},{overflow:"auto"});else if(b==="horizontal")a.style=Ext.apply(a.style||{},{"overflow-x":"auto","overflow-y":"hidden"});else if(b==="vertical")a.style=Ext.apply(a.style||{},{"overflow-x":"hidden","overflow-y":"auto"});else a.style=Ext.apply(a.style||{},{overflow:"hidden"});a.selModel.view=a;a.headerCt.view=a;a.headerCt.markDirty=a.markDirty;a.initFeatures(a.grid);delete a.grid;a.tpl="<div></div>";a.callParent()},moveColumn:function(c,g,j){var b=this,e=j>1?document.createDocumentFragment():undefined,h=g,m=b.getGridColumns().length,i=m-1,o=(b.firstCls||b.lastCls)&&(g==0||g==m||c==0||c==i),d,f,n,k,a,l;if(b.rendered){l=b.el.query(b.headerRowSelector);n=b.el.query(b.rowSelector);if(g>c&&e)h-=j;for(d=0,k=l.length;d<k;++d){a=l[d];if(e){for(f=0;f<j;f++)e.appendChild(a.cells[c]);a.insertBefore(e,a.cells[h]||null)}else a.insertBefore(a.cells[c],a.cells[h]||null)}for(d=0,k=n.length;d<k;d++){a=n[d];if(o){if(c===0){Ext.fly(a.cells[0]).removeCls(b.firstCls);Ext.fly(a.cells[1]).addCls(b.firstCls)}else if(c===i){Ext.fly(a.cells[i]).removeCls(b.lastCls);Ext.fly(a.cells[i-1]).addCls(b.lastCls)}if(g===0){Ext.fly(a.cells[0]).removeCls(b.firstCls);Ext.fly(a.cells[c]).addCls(b.firstCls)}else if(g===m){Ext.fly(a.cells[i]).removeCls(b.lastCls);Ext.fly(a.cells[c]).addCls(b.lastCls)}}if(e){for(f=0;f<j;f++)e.appendChild(a.cells[c]);a.insertBefore(e,a.cells[h]||null)}else a.insertBefore(a.cells[c],a.cells[h]||null)}b.setNewTemplate()}},scrollToTop:Ext.emptyFn,addElListener:function(a,c,b){this.mon(this,a,c,b,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(a){return this.headerCt.getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getNode(a);return Ext.fly(c).down(b.getCellSelector())},getFeature:function(b){var a=this.featuresMC;if(a)return a.get(b)},initFeatures:function(f){var b=this,c,d,a,e;b.featuresMC=new Ext.util.MixedCollection;d=b.features=b.prepareFeatures();e=d?d.length:0;for(c=0;c<e;c++){a=d[c];a.view=b;a.grid=f;b.featuresMC.add(a);a.init()}},prepareFeatures:function(){var f=this,d=f.features,a,c,b=0,e;if(d){c=[];e=d.length;for(;b<e;b++){a=d[b];if(!a.isFeature)a=Ext.create("feature."+a.ftype,a);c[b]=a}}return c},attachEventsForFeatures:function(){for(var b=this.features,c=b.length,a=0;a<c;a++)b[a].isFeature&&b[a].attachEvents()},afterRender:function(){var a=this;a.callParent();!a.enableTextSelection&&a.el.unselectable();a.attachEventsForFeatures()},onViewScroll:function(b,a){this.callParent(arguments);this.fireEvent("bodyscroll",b,a)},prepareData:function(f,h,g){for(var a=this,d=a.headerCt.prepareData(f,h,g,a,a.ownerCt),e=a.features,i=e.length,b=0,c;b<i;b++){c=e[b];c.isFeature&&Ext.apply(d,c.getAdditionalData(f,h,g,d,a))}return d},collectData:function(h,o){var c=this.callParent(arguments),m=this.headerCt,k=m.getFullWidth(),g=this.features,n=g.length,d={rows:c,fullWidth:k},f=0,b,a=0,j,i,e,l;j=c.length;if(this.getRowClass)for(;a<j;a++){i={};e=c[a];l=e.rowCls||"";e.rowCls=this.getRowClass(h[a],a,i,this.store)+" "+l}for(;f<n;f++){b=g[f];if(b.isFeature&&b.collectData&&!b.disabled){d=b.collectData(h,c,o,k,d);break}}return d},forceReflow:Ext.isGecko10?function(){var a=this.el.down("table"),b;if(a)b=a.getWidth()}:Ext.emptyFn,onHeaderResize:function(e,c,d){var a=this,b=a.el;if(b){b.select("th."+Ext.baseCSSPrefix+"grid-col-resizer-"+e.id).setWidth(c);b.select("table."+Ext.baseCSSPrefix+"grid-table-resizer").setWidth(a.headerCt.getFullWidth());!a.ignoreTemplate&&a.setNewTemplate();!d&&a.el.focus();a.forceReflow()}},onHeaderShow:function(d,a,c){var b=this;b.ignoreTemplate=true;if(a.oldWidth){b.onHeaderResize(a,a.oldWidth,c);delete a.oldWidth}else if(a.width&&!a.flex)b.onHeaderResize(a,a.width,c);else if(a.el)b.onHeaderResize(a,a.el.getWidth(),c);delete b.ignoreTemplate;b.setNewTemplate()},onHeaderHide:function(c,b,a){this.onHeaderResize(b,0,a)},refreshSize:function(){var b=this,a;if(!b.hasLoadingHeight){a=b.up("tablepanel");Ext.suspendLayouts();b.callParent();a&&Ext.getScrollbarSize().width&&a.updateLayout();Ext.resumeLayouts(true)}},setNewTemplate:function(){var a=this,b=a.headerCt.getColumnsForTpl(true);a.tpl=a.getTableChunker().getTableTpl({rowCount:a.store.getCount(),columns:b,features:a.features,enableTextSelection:a.enableTextSelection})},getTableChunker:function(){return this.chunker||Ext.view.TableChunker},addRowCls:function(c,b){var a=this.getNode(c);a&&Ext.fly(a).addCls(b)},removeRowCls:function(c,b){var a=this.getNode(c);a&&Ext.fly(a).removeCls(b)},onRowSelect:function(a){this.addRowCls(a,this.selectedItemCls)},onRowDeselect:function(b){var a=this;a.removeRowCls(b,a.selectedItemCls);a.removeRowCls(b,a.focusedItemCls)},onCellSelect:function(b){var a=this.getCellByPosition(b);a&&a.addCls(this.selectedCellCls)},onCellDeselect:function(b){var a=this.getCellByPosition(b);a&&a.removeCls(this.selectedCellCls)},onCellFocus:function(a){this.focusCell(a)},getCellByPosition:function(a){if(a){var b=this.getNode(a.row),c=this.headerCt.getHeaderAtIndex(a.column);if(c&&b)return Ext.fly(b).down(c.getCellSelector())}return false},onRowFocus:function(b,d,c){var a=this;if(d){a.addRowCls(b,a.focusedItemCls);!c&&a.focusRow(b)}else a.removeRowCls(b,a.focusedItemCls)},focusRow:function(f){var a=this,e=a.getNode(f),g=a.el,d=0,j=a.ownerCt,b,c,i,h;if(e&&g){c=g.getY();i=c+g.dom.clientHeight;b=Ext.fly(e).getRegion();if(b.top<c)d=b.top-c;else if(b.bottom>i)d=b.bottom-i;h=a.getRecord(e);f=a.store.indexOf(h);d&&j.scrollByDeltaY(d);a.fireEvent("rowfocus",h,e,f)}},focusCell:function(i){var f=this,g=f.getCellByPosition(i),c=f.el,d=0,e=0,a=c.getRegion(),h=f.ownerCt,b,j;a.bottom=a.top+c.dom.clientHeight;a.right=a.left+c.dom.clientWidth;if(g){b=g.getRegion();if(b.top<a.top)d=b.top-a.top;else if(b.bottom>a.bottom)d=b.bottom-a.bottom;if(b.left<a.left)e=b.left-a.left;else if(b.right>a.right)e=b.right-a.right;d&&h.scrollByDeltaY(d);e&&h.scrollByDeltaX(e);c.focus();f.fireEvent("cellfocus",j,g,i)}},scrollByDelta:function(c,a){a=a||"scrollTop";var b=this.el.dom;b[a]=b[a]+=c},onUpdate:function(p,i,o,n){var a=this,c,f,d,e,g,l,b,h,j,m,k;if(a.rendered){c=a.store.indexOf(i);h=a.headerCt.getGridColumns();j=a.overItemCls;if(h.length&&c>-1){f=a.bufferRender([i],c)[0];d=a.all.item(c);m=d.hasCls(j);d.dom.className=f.className;m&&d.addCls(j);e=d.query(this.cellSelector);g=Ext.fly(f).query(this.cellSelector);l=g.length;k=e[0].parentNode;for(b=0;b<l;b++)if(a.shouldUpdateCell(h[b],n)){k.insertBefore(g[b],e[b]);k.removeChild(e[b])}a.selModel.refresh();a.doStripeRows(c,c);a.fireEvent("itemupdate",i,c,f)}}},shouldUpdateCell:function(b,a){return b.hasCustomRenderer?true:!a||Ext.Array.contains(a,b.dataIndex)},refresh:function(){this.setNewTemplate();this.callParent(arguments);this.doStripeRows(0)},processItemEvent:function(g,f,h,d){var b=this,a=d.getTarget(b.cellSelector,f),e=a?a.cellIndex:-1,i=b.statics().EventMap,j=b.getSelectionModel(),c=d.type,k;if(c=="keydown"&&!a&&j.getCurrentPosition){a=b.getCellByPosition(j.getCurrentPosition());if(a){a=a.dom;e=a.cellIndex}}k=b.fireEvent("uievent",c,b,a,h,e,d,g,f);return k===false||b.callParent(arguments)===false?false:c=="mouseover"||c=="mouseout"?true:!a?true:!(b["onBeforeCell"+i[c]](a,e,g,f,h,d)===false||b.fireEvent("beforecell"+c,b,a,e,g,f,h,d)===false||b["onCell"+i[c]](a,e,g,f,h,d)===false||b.fireEvent("cell"+c,b,a,e,g,f,h,d)===false)},processSpecialEvent:function(f){var a=this,m=a.statics().EventMap,k=a.features,l=k.length,g=f.type,d,b,i,e,h,j,c=a.ownerCt;a.callParent(arguments);if(g=="mouseover"||g=="mouseout")return;for(d=0;d<l;d++){b=k[d];if(b.hasFeatureEvent){e=f.getTarget(b.eventSelector,a.getTargetEl());if(e){i=b.eventPrefix;h=b.getFireEventArgs("before"+i+g,a,e,f);j=b.getFireEventArgs(i+g,a,e,f);if(a.fireEvent.apply(a,h)===false||c.fireEvent.apply(c,h)===false||a.fireEvent.apply(a,j)===false||c.fireEvent.apply(c,j)===false)return false}}}return true},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){if(a){var b=this.getMaxContentWidth(a);delete a.flex;a.setWidth(b)}},getMaxContentWidth:function(e){for(var f=e.getCellInnerSelector(),d=this.el.query(f),b=0,g=d.length,c=e.el.dom.scrollWidth,a;b<g;b++){a=d[b].scrollWidth;if(a>c)c=a}return c},getPositionByEvent:function(b){var a=this,d=b.getTarget(a.cellSelector),e=b.getTarget(a.itemSelector),c=a.getRecord(e),f=a.getHeaderByCell(d);return a.getPosition(c,f)},getHeaderByCell:function(b){if(b){var a=b.className.match(this.cellRe);if(a&&a[1])return Ext.getCmp(a[1])}return false},walkCells:function(j,k,c,m,l,n){if(!j)return;var e=this,b=j.row,d=j.column,i=e.store.getCount(),h=e.getFirstVisibleColumnIndex(),g=e.getLastVisibleColumnIndex(),a={row:b,column:d},f=e.headerCt.getHeaderAtIndex(d);if(!f||f.hidden)return false;c=c||{};k=k.toLowerCase();switch(k){case"right":if(d===g){if(m||b===i-1)return false;if(!c.ctrlKey){a.row=b+1;a.column=h}}else if(!c.ctrlKey)a.column=d+e.getRightGap(f);else a.column=g;break;case"left":if(d===h){if(m||b===0)return false;if(!c.ctrlKey){a.row=b-1;a.column=g}}else if(!c.ctrlKey)a.column=d+e.getLeftGap(f);else a.column=h;break;case"up":if(b===0)return false;else if(!c.ctrlKey)a.row=b-1;else a.row=0;break;case"down":if(b===i-1)return false;else if(!c.ctrlKey)a.row=b+1;else a.row=i-1}return l&&l.call(n||window,a)!==true?false:a},getFirstVisibleColumnIndex:function(){var a=this.getHeaderCt().getVisibleGridColumns()[0];return a?a.getIndex():-1},getLastVisibleColumnIndex:function(){var a=this.getHeaderCt().getVisibleGridColumns(),b=a[a.length-1];return b.getIndex()},getHeaderCt:function(){return this.headerCt},getPosition:function(b,e){var a=this,c=a.store,d=a.headerCt.getGridColumns();return{row:c.indexOf(b),column:Ext.Array.indexOf(d,e)}},getRightGap:function(e){for(var f=this.getHeaderCt(),b=f.getGridColumns(),c=Ext.Array.indexOf(b,e),a=c+1,d;a<=b.length;a++)if(!b[a].hidden){d=a;break}return d-c},beforeDestroy:function(){this.rendered&&this.el.removeAllListeners();this.callParent(arguments)},getLeftGap:function(e){for(var f=this.getHeaderCt(),d=f.getGridColumns(),c=Ext.Array.indexOf(d,e),a=c-1,b;a>=0;a--)if(!d[a].hidden){b=a;break}return b-c},onAdd:function(c,b,a){this.callParent(arguments);this.doStripeRows(a)},onRemove:function(c,b,a){this.callParent(arguments);this.doStripeRows(a)},doStripeRows:function(d,g){var a=this,e,f,b,c;if(a.rendered&&a.stripeRows){e=a.getNodes(d,g);for(b=0,f=e.length;b<f;b++){c=e[b];c.className=c.className.replace(a.rowClsRe," ");d++;if(d%2===0)c.className+=" "+a.altRowCls}}}});Ext.define("Ext.grid.Lockable",{requires:["Ext.grid.LockingView","Ext.view.Table"],syncRowHeight:true,headerCounter:0,scrollDelta:40,unlockText:"Unlock",lockText:"Lock",determineXTypeToCreate:function(){var e=this,b,a,d,f,c;if(e.subGridXType)b=e.subGridXType;else{a=this.getXTypes().split("/");d=a.length;f=a[d-1];c=a[d-2];if(c!=="tablepanel")b=c;else b=f}return b},injectLockable:function(){this.lockable=true;this.hasView=true;var a=this,n=Ext.getScrollbarSize().width===0,p=a.store=Ext.StoreManager.lookup(a.store),l=a.determineXTypeToCreate(),k=a.getSelectionModel(),g=a.prepareFeatures(),j=a.prepareFeatures(),c,d,b=0,o,h,f,i,q,m,e;for(b=0,o=g?g.length:0;b<o;b++){g[b].lockingPartner=j[b];j[b].lockingPartner=g[b]}c=Ext.apply({xtype:l,store:p,scrollerOwner:false,enableAnimations:false,scroll:n?"vertical":false,selModel:k,border:false,cls:Ext.baseCSSPrefix+"grid-inner-locked",isLayoutRoot:function(){return false},features:g},a.lockedGridConfig);d=Ext.apply({xtype:l,store:p,scrollerOwner:false,enableAnimations:false,selModel:k,border:false,isLayoutRoot:function(){return false},features:j},a.normalGridConfig);a.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(d,a,a.bothCfgCopy);Ext.copyTo(c,a,a.bothCfgCopy);Ext.copyTo(d,a,a.normalCfgCopy);Ext.copyTo(c,a,a.lockedCfgCopy);for(b=0;b<a.normalCfgCopy.length;b++)delete a[a.normalCfgCopy[b]];for(b=0;b<a.lockedCfgCopy.length;b++)delete a[a.lockedCfgCopy[b]];a.addEvents("lockcolumn","unlockcolumn");a.addStateEvents(["lockcolumn","unlockcolumn"]);a.lockedHeights=[];a.normalHeights=[];h=a.processColumns(a.columns);c.width=h.lockedWidth+Ext.num(k.headerWidth,0);c.columns=h.locked;d.columns=h.normal;d.flex=1;c.viewConfig=a.lockedViewConfig||{};c.viewConfig.loadingUseMsg=false;d.viewConfig=a.normalViewConfig||{};Ext.applyIf(c.viewConfig,a.viewConfig);Ext.applyIf(d.viewConfig,a.viewConfig);a.normalGrid=Ext.ComponentManager.create(d);a.lockedGrid=Ext.ComponentManager.create(c);a.view=new Ext.grid.LockingView({locked:a.lockedGrid,normal:a.normalGrid,panel:a});q=a.lockedGrid.getView();m=a.normalGrid.getView();if(n)e={scroll:{fn:a.onLockedViewScroll,element:"el",scope:a}};else e={mousewheel:{fn:a.onLockedViewMouseWheel,element:"el",scope:a}};if(a.syncRowHeight){e.refresh=a.onLockedViewRefresh;e.itemupdate=a.onLockedViewItemUpdate;e.scope=a}q.on(e);e={scroll:{fn:a.onNormalViewScroll,element:"el",scope:a},refresh:a.syncRowHeight?a.onNormalViewRefresh:a.updateSpacer,scope:a};m.on(e);f=a.lockedGrid.headerCt;i=a.normalGrid.headerCt;f.lockedCt=true;f.lockableInjected=true;i.lockableInjected=true;f.on({columnshow:a.onLockedHeaderShow,columnhide:a.onLockedHeaderHide,columnmove:a.onLockedHeaderMove,sortchange:a.onLockedHeaderSortChange,columnresize:a.onLockedHeaderResize,scope:a});i.on({columnmove:a.onNormalHeaderMove,sortchange:a.onNormalHeaderSortChange,scope:a});a.modifyHeaderCt();a.items=[a.lockedGrid,a.normalGrid];a.relayHeaderCtEvents(f);a.relayHeaderCtEvents(i);a.layout={type:"hbox",align:"stretch"}},processColumns:function(c){for(var b=0,g=c.length,d=0,f=[],e=[],a;b<g;++b){a=c[b];if(!a.isComponent)a=Ext.apply({},c[b]);a.processed=true;if(a.locked){if(!a.hidden)d+=a.width||Ext.grid.header.Container.prototype.defaultWidth;f.push(a)}else e.push(a);if(!a.headerId)a.headerId=(a.initialConfig||a).id||"L"+ ++this.headerCounter}return{lockedWidth:d,locked:{items:f,itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt"},normal:{items:e,itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt"}}},onLockedViewMouseWheel:function(f){var b=this,g=-b.scrollDelta,c=g*f.getWheelDeltas().y,a=b.lockedGrid.getView().el.dom,d,e;if(a){d=a.scrollTop!==a.scrollHeight-a.clientHeight;e=a.scrollTop!==0}if(c<0&&e||c>0&&d){f.stopEvent();b.scrolling=true;a.scrollTop+=c;b.normalGrid.getView().el.dom.scrollTop=a.scrollTop;b.scrolling=false;b.onNormalViewScroll()}},onLockedViewScroll:function(){var a=this,d=a.lockedGrid.getView(),c=a.normalGrid.getView(),e,b;if(!a.scrolling){a.scrolling=true;c.el.dom.scrollTop=d.el.dom.scrollTop;if(a.store.buffered){b=d.el.child("table",true);e=c.el.child("table",true);b.style.position="absolute"}a.scrolling=false}},onNormalViewScroll:function(){var a=this,e=a.lockedGrid.getView(),d=a.normalGrid.getView(),c,b;if(!a.scrolling){a.scrolling=true;e.el.dom.scrollTop=d.el.dom.scrollTop;if(a.store.buffered){b=e.el.child("table",true);c=d.el.child("table",true);b.style.position="absolute";b.style.top=c.style.top}a.scrolling=false}},onLockedHeaderMove:function(){this.syncRowHeight&&this.onNormalViewRefresh()},onNormalHeaderMove:function(){this.syncRowHeight&&this.onLockedViewRefresh()},updateSpacer:function(){var a=this,c=a.lockedGrid.getView().el,d=a.normalGrid.getView().el.dom,b=c.dom.id+"-spacer",e=d.offsetHeight-d.clientHeight+"px";a.spacerEl=Ext.getDom(b);if(a.spacerEl)a.spacerEl.style.height=e;else Ext.core.DomHelper.append(c,{id:b,style:"height: "+e})},onLockedViewRefresh:function(){if(this.normalGrid.headerCt.getGridColumns().length){var b=this,c=b.lockedGrid.getView(),e=c.el,d=e.query(c.getItemSelector()),f=d.length,a=0;b.lockedHeights=[];for(;a<f;a++)b.lockedHeights[a]=d[a].clientHeight;b.syncRowHeights()}},onNormalViewRefresh:function(){if(this.lockedGrid.headerCt.getGridColumns().length){var a=this,c=a.normalGrid.getView(),e=c.el,d=e.query(c.getItemSelector()),f=d.length,b=0;a.normalHeights=[];for(;b<f;b++)a.normalHeights[b]=d[b].clientHeight;a.syncRowHeights();a.updateSpacer()}},onLockedViewItemUpdate:function(c,a,b){if(this.normalGrid.headerCt.getGridColumns().length){this.lockedHeights[a]=b.clientHeight;this.syncRowHeights()}},onNormalViewItemUpdate:function(c,a,b){if(this.lockedGrid.headerCt.getGridColumns().length){this.normalHeights[a]=b.clientHeight;this.syncRowHeights()}},syncRowHeights:function(){var c=this,b=c.lockedHeights,e=c.normalHeights,k=[],j=b.length,a=0,f,d,h,i,g;if(b.length&&e.length){f=c.lockedGrid.getView();d=c.normalGrid.getView();h=f.el.query(f.getItemSelector());i=d.el.query(d.getItemSelector());for(;a<j;a++)if(!isNaN(b[a])&&!isNaN(e[a]))if(b[a]>e[a])Ext.fly(i[a]).setHeight(b[a]);else b[a]<e[a]&&Ext.fly(h[a]).setHeight(e[a]);g=d.el.dom.scrollTop;d.el.dom.scrollTop=g;f.el.dom.scrollTop=g;c.lockedHeights=[];c.normalHeights=[]}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(true);a.normalGrid.headerCt.getMenuItems=a.getMenuItems(false)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},getMenuItems:function(b){var a=this,g=a.unlockText,h=a.lockText,d=Ext.baseCSSPrefix+"hmenu-unlock",f=Ext.baseCSSPrefix+"hmenu-lock",c=Ext.Function.bind(a.onUnlockMenuClick,a),e=Ext.Function.bind(a.onLockMenuClick,a);return function(){var a=Ext.grid.header.Container.prototype.getMenuItems.call(this);a.push("-",{cls:d,text:g,handler:c,disabled:!b});a.push({cls:f,text:h,handler:e,disabled:b});return a}},lock:function(a,d){var b=this,f=b.normalGrid,g=b.lockedGrid,e=f.headerCt,c=g.headerCt;a=a||e.getMenu().activeHeader;if(a.flex){a.width=a.getWidth();delete a.flex}Ext.suspendLayouts();e.remove(a,false);a.locked=true;if(Ext.isDefined(d))c.insert(d,a);else c.add(a);b.syncLockedSection();Ext.resumeLayouts(true);b.updateSpacer();b.fireEvent("lockcolumn",b,a)},syncLockedSection:function(){var a=this;a.syncLockedWidth();a.lockedGrid.getView().refresh();a.normalGrid.getView().refresh()},syncLockedWidth:function(){var c=this,a=c.lockedGrid,b=a.headerCt.getFullWidth(true);Ext.suspendLayouts();if(b>0){a.setWidth(b);a.show()}else a.hide();Ext.resumeLayouts(true);return b>0},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(b,c,a){a&&this.normalGrid.headerCt.clearOtherSortStates(null,true)},onNormalHeaderSortChange:function(b,c,a){a&&this.lockedGrid.headerCt.clearOtherSortStates(null,true)},unlock:function(b,c){var a=this,f=a.normalGrid,h=a.lockedGrid,g=f.headerCt,e=h.headerCt,d=false;if(!Ext.isDefined(c))c=0;b=b||e.getMenu().activeHeader;Ext.suspendLayouts();e.remove(b,false);if(a.syncLockedWidth())d=true;b.locked=false;g.insert(c,b);a.normalGrid.getView().refresh();d&&a.lockedGrid.getView().refresh();Ext.resumeLayouts(true);a.fireEvent("unlockcolumn",a,b)},applyColumnsState:function(j){for(var l=this,i=l.lockedGrid,c=i.headerCt,d=l.normalGrid.headerCt,o=Ext.Array.toMap(c.items,"headerId"),n=Ext.Array.toMap(d.items,"headerId"),g=[],h=[],k=1,m=j.length,a,e,b,f=0;f<m;f++){b=j[f];e=o[b.id];a=e||n[b.id];if(a){a.applyColumnState&&a.applyColumnState(b);if(a.locked===undefined)a.locked=!!e;if(a.locked){g.push(a);if(!a.hidden&&typeof a.width=="number")k+=a.width}else h.push(a)}}if(g.length+h.length==c.items.getCount()+d.items.getCount()){c.removeAll(false);d.removeAll(false);c.add(g);d.add(h);i.setWidth(k)}},getColumnsState:function(){var a=this,b=a.lockedGrid.headerCt.getColumnsState(),c=a.normalGrid.headerCt.getColumnsState();return b.concat(c)},reconfigureLockable:function(a,b){var d=this,c=d.lockedGrid,e=d.normalGrid;if(b){Ext.suspendLayouts();c.headerCt.removeAll();e.headerCt.removeAll();b=d.processColumns(b);c.setWidth(b.lockedWidth);c.headerCt.add(b.locked.items);e.headerCt.add(b.normal.items);Ext.resumeLayouts(true)}if(a){a=Ext.data.StoreManager.lookup(a);d.store=a;c.bindStore(a);e.bindStore(a)}else{c.getView().refresh();e.getView().refresh()}}},function(){this.borrow(Ext.view.Table,["prepareFeatures"])});Ext.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",stripeRows:true,autoScroll:true});Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:false,bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],rowLines:true});Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,initComponent:function(){var a=this;a.addCls(Ext.baseCSSPrefix+"property-grid");a.plugins=a.plugins||[];a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(b){return this.self.prototype.startEdit.call(this,b,a.headerCt.child("#"+a.valueField))}}));a.selModel={selType:"cellmodel",onCellSelect:function(a){if(a.column!=1)a.column=1;return this.self.prototype.onCellSelect.call(this,a)}};a.customRenderers=a.customRenderers||{};a.customEditors=a.customEditors||{};if(!a.store)a.propStore=a.store=new Ext.grid.property.Store(a,a.source);a.sortableColumns&&a.store.sort("name","ASC");a.columns=new Ext.grid.property.HeaderContainer(a,a.store);a.addEvents("beforepropertychange","propertychange");a.callParent();a.getView().walkCells=this.walkCells;a.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:true})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:true})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:true})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:false,store:[[true,a.headerCt.trueText],[false,a.headerCt.falseText]]})})};a.store.on("update",a.onUpdate,a)},onUpdate:function(f,b,e){var a=this,c,d;if(a.rendered&&e==Ext.data.Model.EDIT){c=b.get(a.valueField);d=b.modified.value;if(a.fireEvent("beforepropertychange",a.source,b.getId(),c,d)!==false){if(a.source)a.source[b.getId()]=c;b.commit();a.fireEvent("propertychange",a.source,b.getId(),c,d)}else b.reject()}},walkCells:function(b,a,f,e,c,d){if(a=="left")a="up";else if(a=="right")a="down";b=Ext.view.Table.prototype.walkCells.call(this,b,a,f,e,c,d);if(!b.column)b.column=1;return b},getCellEditor:function(e){var b=this,c=e.get(b.nameField),d=e.get(b.valueField),a=b.customEditors[c];if(a){if(!(a instanceof Ext.grid.CellEditor)){if(!(a instanceof Ext.form.field.Base))a=Ext.ComponentManager.create(a,"textfield");a=b.customEditors[c]=new Ext.grid.CellEditor({field:a})}}else if(Ext.isDate(d))a=b.editors.date;else if(Ext.isNumber(d))a=b.editors.number;else if(Ext.isBoolean(d))a=b.editors["boolean"];else a=b.editors.string;a.editorId=c;return a},beforeDestroy:function(){var a=this;a.callParent();a.destroyEditors(a.editors);a.destroyEditors(a.customEditors);delete a.source},destroyEditors:function(a){for(var b in a)a.hasOwnProperty(b)&&Ext.destroy(a[b])},setSource:function(a){this.source=a;this.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(c,b,a){this.propStore.setValue(c,b,a)},removeProperty:function(a){this.propStore.remove(a)}});Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:true,rootVisible:true,deferInitialRefresh:false,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,stripeRows:false,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading"],initComponent:function(){var a=this,b=a.panel.getStore();if(a.initialConfig.animate===undefined)a.animate=Ext.enableFx;a.store=new Ext.data.NodeStore({treeStore:b,recursive:true,rootVisible:a.rootVisible,listeners:{beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged,scope:a}});a.node&&a.setRootNode(a.node);a.animQueue={};a.animWraps={};a.addEvents("afteritemexpand","afteritemcollapse");a.callParent(arguments);a.on({element:"el",scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut});a.on({element:"el",scope:a,delegate:a.checkboxSelector,click:a.onCheckboxChange})},afterComponentLayout:function(){this.callParent(arguments);var a=this.stretcher;a&&a.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(a){return a.getTarget("."+this.nodeAnimWrapCls,this.el)?false:this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(b){var a=this;a.store.setNode(b);a.node=b},onCheckboxChange:function(c){var a=this,b=c.getTarget(a.getItemSelector(),a.getTargetEl());if(b)a.onCheckChange(a.getRecord(b))},onCheckChange:function(b){var a=b.get("checked");if(Ext.isBoolean(a)){a=!a;b.set("checked",a);this.fireEvent("checkchange",b,a)}},getChecked:function(){var a=[];this.node.cascadeBy(function(b){b.get("checked")&&a.push(b)});return a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(i){for(var h="",b=this.panel.headerCt,e=b.getGridColumns(),c=0,j=e.length,d,g=this.getNode(i),a,f;c<j;c++){d=e[c];h+='<th style="width: '+(d.hidden?0:d.getDesiredWidth())+'px; height: 0px;"></th>'}f=Ext.get(g);a=f.insertSibling({tag:"tr",html:['<td colspan="'+b.getColumnCount()+'">','<div class="'+this.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+'grid-table" style="width: '+b.getFullWidth()+'px;"><tbody>',h,"</tbody></table>","</div>","</td>"].join("")},"after");return{record:i,node:g,el:a,expanding:false,collapsing:false,animating:false,animateEl:a.down("div"),targetEl:a.down("tbody")}},getAnimWrap:function(a,d){if(!this.animate)return null;var c=this.animWraps,b=c[a.internalId];if(d!==false)while(!b&&a){a=a.parentNode;if(a)b=c[a.internalId]}return b},doAdd:function(d,j,i){var b=this,k=j[0],c=k.parentNode,l=b.all.elements,h=0,a=b.getAnimWrap(c),g,e,f;if(!a||!a.expanding)return b.callParent(arguments);c=a.record;g=a.targetEl;e=g.dom.childNodes;f=e.length-1;h=i-b.indexOf(c)-1;if(!f||h>=f)g.appendChild(d);else Ext.fly(e[h+1]).insertSibling(d,"before",true);Ext.Array.insert(l,i,d);if(a.isAnimating)b.onExpand(c)},beginBulkUpdate:function(){this.bulkUpdate=true;this.ownerCt.changingScrollbars=true},endBulkUpdate:function(){this.bulkUpdate=false;this.ownerCt.changingScrollbars=true},onRemove:function(e,c,b){var a=this,d=a.bulkUpdate;if(a.rendered){a.doRemove(c,b);!d&&a.updateIndexes(b);a.store.getCount()===0&&a.refresh();!d&&a.fireEvent("itemremove",c,b)}},doRemove:function(e,c){var b=this,d=b.all,a=b.getAnimWrap(e),f=d.item(c).dom;if(!a||!a.collapsing)return b.callParent(arguments);a.targetEl.appendChild(f);d.removeElement(c)},onBeforeExpand:function(c){var b=this,a;if(!b.rendered||!b.animate)return;if(b.getNode(c)){a=b.getAnimWrap(c,false);if(!a){a=b.animWraps[c.internalId]=b.createAnimWrap(c);a.animateEl.setHeight(0)}else a.collapsing&&a.targetEl.select(b.itemSelector).remove();a.expanding=true;a.collapsing=false}},onExpand:function(c){var a=this,h=a.animQueue,g=c.getId(),d=a.getNode(c),f=d?a.indexOf(d):-1,b,e,i;a.singleExpand&&a.ensureSingleExpand(c);if(f===-1)return;b=a.getAnimWrap(c,false);if(!b){a.isExpandingOrCollapsing=false;a.fireEvent("afteritemexpand",c,f,d);return}e=b.animateEl;i=b.targetEl;e.stopAnimation();h[g]=true;e.slideIn("t",{duration:a.expandDuration,listeners:{scope:a,lastframe:function(){b.el.insertSibling(i.query(a.itemSelector),"before");b.el.remove();delete a.animWraps[b.record.internalId];delete h[g]}},callback:function(){a.isExpandingOrCollapsing=false;a.fireEvent("afteritemexpand",c,f,d)}});b.isAnimating=true},onBeforeCollapse:function(c,e,d){var b=this,a;if(!b.rendered||!b.animate)return;if(b.getNode(c)){a=b.getAnimWrap(c);if(!a)a=b.animWraps[c.internalId]=b.createAnimWrap(c,d);else a.expanding&&a.targetEl.select(this.itemSelector).remove();a.expanding=false;a.collapsing=true}},onCollapse:function(c){var a=this,h=a.animQueue,g=c.getId(),d=a.getNode(c),f=d?a.indexOf(d):-1,b=a.getAnimWrap(c),e,i;if(f===-1)return;if(!b){a.isExpandingOrCollapsing=false;a.fireEvent("afteritemcollapse",c,f,d);return}e=b.animateEl;i=b.targetEl;h[g]=true;e.stopAnimation();e.slideOut("t",{duration:a.collapseDuration,listeners:{scope:a,lastframe:function(){b.el.remove();delete a.animWraps[b.record.internalId];delete h[g]}},callback:function(){a.isExpandingOrCollapsing=false;a.fireEvent("afteritemcollapse",c,f,d)}});b.isAnimating=true},isAnimating:function(a){return!!this.animQueue[a.getId()]},collectData:function(g){for(var e=this.callParent(arguments),d=e.rows,f=d.length,c=0,a,b;c<f;c++){a=d[c];b=g[c];if(b.get("qtip")){a.rowAttr='data-qtip="'+b.get("qtip")+'"';if(b.get("qtitle"))a.rowAttr+=' data-qtitle="'+b.get("qtitle")+'"'}if(b.isExpanded())a.rowCls=(a.rowCls||"")+" "+this.expandedCls;if(b.isLeaf())a.rowCls=(a.rowCls||"")+" "+this.leafCls;if(b.isLoading())a.rowCls=(a.rowCls||"")+" "+this.loadingCls}return e},expand:function(b,a,d,c){return b.expand(a,d,c)},collapse:function(b,a,d,c){return b.collapse(a,d,c)},toggle:function(a,c,f,d){var e=this,b=!!this.animate;if(!b||!this.isExpandingOrCollapsing){if(!a.isLeaf())this.isExpandingOrCollapsing=b;if(a.isExpanded())e.collapse(a,c,f,d);else e.expand(a,c,f,d)}},onItemDblClick:function(b){var a=this.editingPlugin;this.callParent(arguments);this.toggleOnDblClick&&!(a&&a.clicksToEdit===2)&&this.toggle(b)},onBeforeItemMouseDown:function(c,a,d,b){return b.getTarget(this.expanderSelector,a)?false:this.callParent(arguments)},onItemClick:function(b,c,d,a){if(a.getTarget(this.expanderSelector,c)){this.toggle(b,a.ctrlKey);return false}return this.callParent(arguments)},onExpanderMouseOver:function(a){a.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a){a.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(b){var a=b.parentNode;a&&a.eachChild(function(a){a!==b&&a.isExpanded()&&a.collapse()})},shouldUpdateCell:function(a){return Ext.Array.contains(this.uiFields,a.dataIndex)||this.callParent(arguments)},onStoreWrite:function(c,b){var a=this.panel.store;a.fireEvent("write",a,b)},onStoreDataChanged:function(){var a=this.panel.store;a.fireEvent("datachanged",a)}});Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:false,rowLines:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:true,constructor:function(a){a=a||{};if(a.animate===undefined)a.animate=Ext.isDefined(this.animate)?this.animate:Ext.enableFx;this.enableAnimations=a.animate;delete a.animate;this.callParent([a])},initComponent:function(){var a=this,b=[a.treeCls],c;if(a.useArrows){b.push(Ext.baseCSSPrefix+"tree-arrows");a.lines=false}if(a.lines)b.push(Ext.baseCSSPrefix+"tree-lines");else!a.useArrows&&b.push(Ext.baseCSSPrefix+"tree-no-lines");if(Ext.isString(a.store))a.store=Ext.StoreMgr.lookup(a.store);else if(!a.store||Ext.isObject(a.store)&&!a.store.isStore)a.store=new Ext.data.TreeStore(Ext.apply({},a.store||{},{root:a.root,fields:a.fields,model:a.model,folderSort:a.folderSort}));else if(a.root){a.store=Ext.data.StoreManager.lookup(a.store);a.store.setRootNode(a.root);if(a.folderSort!==undefined){a.store.folderSort=a.folderSort;a.store.sort()}}a.viewConfig=Ext.apply({},a.viewConfig);a.viewConfig=Ext.applyIf(a.viewConfig,{rootVisible:a.rootVisible,animate:a.enableAnimations,singleExpand:a.singleExpand,node:a.store.getRootNode(),hideHeaders:a.hideHeaders});a.mon(a.store,{scope:a,rootchange:a.onRootChange,clear:a.onClear});a.relayEvents(a.store,["beforeload","load"]);a.store.on({append:a.createRelayer("itemappend"),remove:a.createRelayer("itemremove"),move:a.createRelayer("itemmove",[0,4]),insert:a.createRelayer("iteminsert"),beforeappend:a.createRelayer("beforeitemappend"),beforeremove:a.createRelayer("beforeitemremove"),beforemove:a.createRelayer("beforeitemmove"),beforeinsert:a.createRelayer("beforeiteminsert"),expand:a.createRelayer("itemexpand",[0,1]),collapse:a.createRelayer("itemcollapse",[0,1]),beforeexpand:a.createRelayer("beforeitemexpand",[0,1]),beforecollapse:a.createRelayer("beforeitemcollapse",[0,1])});if(!a.columns){if(a.initialConfig.hideHeaders===undefined)a.hideHeaders=true;a.addCls(Ext.baseCSSPrefix+"autowidth-table");a.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?null:1e4,dataIndex:a.displayField}]}a.cls&&b.push(a.cls);a.cls=b.join(" ");a.callParent();c=a.getView();a.relayEvents(c,["checkchange","afteritemexpand","afteritemcollapse"]);!c.rootVisible&&!a.getRootNode()&&a.setRootNode({expanded:true})},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandAll:function(e,d){var b=this.getRootNode(),c=this.enableAnimations,a=this.getView();if(b){!c&&a.beginBulkUpdate();b.expand(true,e,d);!c&&a.endBulkUpdate()}},collapseAll:function(e,d){var b=this.getRootNode(),c=this.enableAnimations,a=this.getView();if(b){!c&&a.beginBulkUpdate();if(a.rootVisible)b.collapse(true,e,d);else b.collapseChildren(true,e,d);!c&&a.endBulkUpdate()}},expandPath:function(j,c,g,d,f){var b=this,a=b.getRootNode(),i=1,k=b.getView(),e,h;c=c||b.getRootNode().idProperty;g=g||"/";if(Ext.isEmpty(j)){Ext.callback(d,f||b,[false,null]);return}e=j.split(g);if(a.get(c)!=e[1]){Ext.callback(d,f||b,[false,a]);return}h=function(){if(++i===e.length){Ext.callback(d,f||b,[true,a]);return}var g=a.findChild(c,e[i]);if(!g){Ext.callback(d,f||b,[false,a]);return}a=g;a.expand(false,h)};a.expand(false,h)},selectPath:function(h,c,b,g,e){var a=this,d,f;c=c||a.getRootNode().idProperty;b=b||"/";d=h.split(b);f=d.pop();a.expandPath(d.join(b),c,b,function(h,b){var d=false;if(h&&b){b=b.findChild(c,f);if(b){a.getSelectionModel().select(b);Ext.callback(g,e||a,[true,b]);d=true}}else if(b===a.getRootNode())d=true;Ext.callback(g,e||a,[d,b])},a)}});Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,ariaRole:"alertdialog",itemCls:Ext.baseCSSPrefix+"window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isWindow:true,initComponent:function(){var a=this;a.callParent();a.addEvents("resize","maximize","minimize","restore");a.plain&&a.addClsWithUI("plain");if(a.modal)a.ariaRole="dialog";if(a.floating)a.on({element:"el",mousedown:a.onMouseDown,scope:a});a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var b=this,a;a=b.callParent();a.tabIndex=-1;return a},getState:function(){var a=this,c=a.callParent()||{},b=!!a.maximized;c.maximized=b;Ext.apply(c,{size:b?a.restoreSize:a.getSize(),pos:b?a.restorePos:a.getPosition()});return c},applyState:function(a){var b=this;if(a){b.maximized=a.maximized;if(b.maximized){b.hasSavedRestore=true;b.restoreSize=a.size;b.restorePos=a.pos}else Ext.apply(b,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]})}},onMouseDown:function(b){var a;if(this.floating){if(Ext.fly(b.getTarget()).focusable())a=true;this.toFront(a)}},onRender:function(){var a=this;a.callParent(arguments);a.focusEl=a.el;if(a.maximizable)a.header.on({scope:a,dblclick:a.toggleMaximize})},afterRender:function(){var a=this,b;a.callParent();if(a.maximized){a.maximized=false;a.maximize()}if(a.closable){b=a.getKeyMap();b.on(27,a.onEsc,a);b.disable()}},initDraggable:function(){var a=this,b;!a.header&&a.updateHeader(true);if(a.header){b=Ext.applyIf({el:a.el,delegate:"#"+Ext.escapeId(a.header.id)},a.draggable);if(a.constrain||a.constrainHeader){b.constrain=a.constrain;b.constrainDelegate=a.constrainHeader;b.constrainTo=a.constrainTo||a.container}a.dd=new Ext.util.ComponentDragger(this,b);a.relayEvents(a.dd,["dragstart","drag","dragend"])}},onEsc:function(b,a){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){a.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){delete this.animateTarget;a.hide();Ext.destroy(a.keyMap)}a.callParent()},addTools:function(){var a=this;a.callParent();a.minimizable&&a.addTool({type:"minimize",handler:Ext.Function.bind(a.minimize,a,[])});if(a.maximizable){a.addTool({type:"maximize",handler:Ext.Function.bind(a.maximize,a,[])});a.addTool({type:"restore",handler:Ext.Function.bind(a.restore,a,[]),hidden:true})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var c=this,d,a=c.defaultButton||c.defaultFocus,b;if(a!==undefined)if(Ext.isNumber(a))d=c.query("button")[a];else if(Ext.isString(a)){b=a;if(b.substr(0,1)!=="#")b="#"+b;d=c.down(b)}else if(a.focus)d=a;return d||c.el},onFocus:function(){var a=this,b;if(Ext.FocusManager&&Ext.FocusManager.enabled||(b=a.getDefaultFocus())===a)a.callParent(arguments);else b.focus()},afterShow:function(c){var a=this,b=c||a.animateTarget;this.expandOnShow&&this.expand(false);a.callParent(arguments);a.maximized&&a.fitContainer();a.syncMonitorWindowResize();!b&&a.doConstrain();a.keyMap&&a.keyMap.enable()},doClose:function(){var a=this;if(a.hidden){a.fireEvent("close",a);a.closeAction=="destroy"&&this.destroy()}else a.hide(a.animateTarget,a.doClose,a)},afterHide:function(){var a=this;a.syncMonitorWindowResize();a.keyMap&&a.keyMap.disable();a.callParent(arguments)},onWindowResize:function(){this.maximized&&this.fitContainer();this.doConstrain()},minimize:function(){this.fireEvent("minimize",this);return this},afterCollapse:function(){var a=this;if(a.maximizable){a.tools.maximize.hide();a.tools.restore.hide()}a.resizer&&a.resizer.disable();a.callParent(arguments)},afterExpand:function(){var a=this;if(a.maximized)a.tools.restore.show();else a.maximizable&&a.tools.maximize.show();a.resizer&&a.resizer.enable();a.callParent(arguments)},maximize:function(){var a=this;if(!a.maximized){a.expand(false);if(!a.hasSavedRestore){a.restoreSize=a.getSize();a.restorePos=a.getPosition(true)}if(a.maximizable){a.tools.maximize.hide();a.tools.restore.show()}a.maximized=true;a.el.disableShadow();a.dd&&a.dd.disable();a.resizer&&a.resizer.disable();a.collapseTool&&a.collapseTool.hide();a.el.addCls(Ext.baseCSSPrefix+"window-maximized");a.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");a.syncMonitorWindowResize();a.setPosition(0,0);a.fitContainer();a.fireEvent("maximize",a)}return a},restore:function(){var a=this,b=a.tools;if(a.maximized){delete a.hasSavedRestore;a.removeCls(Ext.baseCSSPrefix+"window-maximized");b.restore&&b.restore.hide();b.maximize&&b.maximize.show();a.collapseTool&&a.collapseTool.show();a.setPosition(a.restorePos);a.setSize(a.restoreSize);delete a.restorePos;delete a.restoreSize;a.maximized=false;a.el.enableShadow(true);a.dd&&a.dd.enable();a.resizer&&a.resizer.enable();a.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");a.syncMonitorWindowResize();a.doConstrain();a.fireEvent("restore",a)}return a},syncMonitorWindowResize:function(){var a=this,b=a._monitoringResize,d=a.monitorResize||a.constrain||a.constrainHeader||a.maximized,c=a.hidden||a.destroying||a.isDestroyed;if(d&&!c){if(!b){Ext.EventManager.onWindowResize(a.onWindowResize,a);a._monitoringResize=true}}else if(b){Ext.EventManager.removeResizeListener(a.onWindowResize,a);a._monitoringResize=false}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}});Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.form.field.Display","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,title:"&#160;",width:600,height:500,minWidth:250,maxWidth:600,minHeight:110,maxHeight:500,constrain:true,cls:Ext.baseCSSPrefix+"message-box",layout:{type:"vbox",align:"stretch"},defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,makeButton:function(b){var a=this.buttonIds[b];return new Ext.button.Button({handler:this.btnCallback,itemId:a,scope:this,text:this.buttonText[a],minWidth:75})},btnCallback:function(c){var a=this,d,b;if(a.cfg.prompt||a.cfg.multiline){if(a.cfg.multiline)b=a.textArea;else b=a.textField;d=b.getValue();b.reset()}c.blur();a.hide();a.userCallback(c.itemId,d,a.cfg)},hide:function(){var a=this;a.dd.endDrag();a.progressBar.reset();a.removeCls(a.cfg.cls);a.callParent(arguments)},initComponent:function(){var a=this,b=a.id,d,c,e;a.title="&#160;";a.topContainer=new Ext.container.Container({layout:"hbox",style:{padding:"10px",overflow:"hidden"},items:[a.iconComponent=new Ext.Component({cls:a.baseCls+"-icon",width:50,height:a.iconHeight}),a.promptContainer=new Ext.container.Container({flex:1,layout:{type:"anchor"},items:[a.msg=new Ext.form.field.Display({id:b+"-displayfield",cls:a.baseCls+"-text"}),a.textField=new Ext.form.field.Text({id:b+"-testfield",anchor:"100%",enableKeyEvents:true,listeners:{keydown:a.onPromptKey,scope:a}}),a.textArea=new Ext.form.field.TextArea({id:b+"-textarea",anchor:"100%",height:75})]})]});a.progressBar=new Ext.ProgressBar({id:b+"-progressbar",margins:"0 10 0 10"});a.items=[a.topContainer,a.progressBar];a.msgButtons=[];for(d=0;d<4;d++){c=a.makeButton(d);a.msgButtons[c.itemId]=c;a.msgButtons.push(c)}a.bottomTb=new Ext.toolbar.Toolbar({id:b+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[a.msgButtons[0],a.msgButtons[1],a.msgButtons[2],a.msgButtons[3]]});a.dockedItems=[a.bottomTb];e=a.bottomTb.getLayout();e.finishedLayout=Ext.Function.createInterceptor(e.finishedLayout,function(b){a.tbWidth=b.getProp("contentWidth")});a.on("close",a.onClose,a);a.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(d,c){var a=this,b;if(c.keyCode===Ext.EventObject.RETURN||c.keyCode===10){if(a.msgButtons.ok.isVisible()){b=true;a.msgButtons.ok.handler.call(a,a.msgButtons.ok)}else if(a.msgButtons.yes.isVisible()){a.msgButtons.yes.handler.call(a,a.msgButtons.yes);b=true}b&&a.textField.blur()}},reconfigure:function(b){var a=this,d=0,f=true,e=a.maxWidth,g=a.buttonText,c;a.updateButtonText();b=b||{};a.cfg=b;if(b.width)e=b.width;delete a.defaultFocus;a.animateTarget=b.animateTarget||undefined;a.modal=b.modal!==false;b.title&&a.setTitle(b.title||"&#160;");if(Ext.isObject(b.buttons)){a.buttonText=b.buttons;d=0}else{a.buttonText=b.buttonText||a.buttonText;d=Ext.isNumber(b.buttons)?b.buttons:0}d=d|a.updateButtonText();a.buttonText=g;Ext.suspendLayouts();a.hidden=false;if(!a.rendered){a.width=e;a.render(Ext.getBody())}else a.setSize(e,a.maxHeight);a.closable=b.closable&&!b.wait;a.header.child("[type=close]").setVisible(b.closable!==false);if(!b.title&&!a.closable)a.header.hide();else a.header.show();a.liveDrag=!b.proxyDrag;a.userCallback=Ext.Function.bind(b.callback||b.fn||Ext.emptyFn,b.scope||Ext.global);a.setIcon(b.icon);if(b.msg){a.msg.setValue(b.msg);a.msg.show()}else a.msg.hide();Ext.resumeLayouts(true);Ext.suspendLayouts();if(b.prompt||b.multiline){a.multiline=b.multiline;if(b.multiline){a.textArea.setValue(b.value);a.textArea.setHeight(b.defaultTextHeight||a.defaultTextHeight);a.textArea.show();a.textField.hide();a.defaultFocus=a.textArea}else{a.textField.setValue(b.value);a.textArea.hide();a.textField.show();a.defaultFocus=a.textField}}else{a.textArea.hide();a.textField.hide()}if(b.progress||b.wait){a.progressBar.show();a.updateProgress(0,b.progressText);b.wait===true&&a.progressBar.wait(b.waitConfig)}else a.progressBar.hide();for(c=0;c<4;c++)if(d&Math.pow(2,c)){if(!a.defaultFocus)a.defaultFocus=a.msgButtons[c];a.msgButtons[c].show();f=false}else a.msgButtons[c].hide();if(f)a.bottomTb.hide();else a.bottomTb.show();Ext.resumeLayouts(true)},updateButtonText:function(){var b=this,d=b.buttonText,e=0,a,c;for(a in d)if(d.hasOwnProperty(a)){c=b.msgButtons[a];if(c){if(b.cfg&&b.cfg.buttonText)e=e|Math.pow(2,Ext.Array.indexOf(b.buttonIds,a));c.text!=d[a]&&c.setText(d[a])}}return e},show:function(b){var a=this;a.reconfigure(b);a.addCls(b.cls);a.doAutoSize();a.hidden=true;a.callParent();return a},onShow:function(){this.callParent(arguments);this.center()},doAutoSize:function(){var a=this,e=a.header.rendered&&a.header.isVisible(),d=a.bottomTb.rendered&&a.bottomTb.isVisible(),c,b;if(!Ext.isDefined(a.frameWidth))a.frameWidth=a.el.getWidth()-a.body.getWidth();a.minWidth=a.cfg.minWidth||Ext.getClass(this).prototype.minWidth;c=Math.max(e?a.header.getMinWidth():0,a.cfg.width||a.msg.getWidth()+a.iconComponent.getWidth()+25,d?a.tbWidth:0);b=(e?a.header.getHeight():0)+a.topContainer.getHeight()+a.progressBar.getHeight()+(d?a.bottomTb.getHeight()+a.bottomTb.el.getMargin("tb"):0);a.setSize(c+a.frameWidth,b+a.frameWidth);return a},updateText:function(a){this.msg.setValue(a);return this.doAutoSize(true)},setIcon:function(b){var a=this;a.iconComponent.removeCls(a.messageIconCls);if(b){a.iconComponent.show();a.iconComponent.addCls(Ext.baseCSSPrefix+"dlg-icon");a.iconComponent.addCls(a.messageIconCls=b)}else{a.iconComponent.removeCls(Ext.baseCSSPrefix+"dlg-icon");a.iconComponent.hide()}return a},updateProgress:function(c,b,a){this.progressBar.updateProgress(c,b);a&&this.updateText(a);return this},onEsc:function(){this.closable!==false&&this.callParent(arguments)},confirm:function(a,d,c,b){if(Ext.isString(a))a={title:a,icon:this.QUESTION,msg:d,buttons:this.YESNO,callback:c,scope:b};return this.show(a)},prompt:function(a,f,d,c,b,e){if(Ext.isString(a))a={prompt:true,title:a,minWidth:this.minPromptWidth,msg:f,buttons:this.OKCANCEL,callback:d,scope:c,multiline:b,value:e};return this.show(a)},wait:function(a,c,b){if(Ext.isString(a))a={title:c,msg:a,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:b};return this.show(a)},alert:function(a,d,c,b){if(Ext.isString(a))a={title:a,msg:d,buttons:this.OK,fn:c,scope:b,minWidth:this.minWidth};return this.show(a)},progress:function(a,c,b){if(Ext.isString(a))a={title:a,msg:c,progress:true,progressText:b};return this.show(a)}},function(){Ext.MessageBox=Ext.Msg=new this});Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.Errors","Ext.util.DelayedTask"],constructor:function(d,f){var a=this,e=a.onItemAddOrRemove,b,c;a.owner=d;a.mon(d,{add:e,remove:e,scope:a});Ext.apply(a,f);if(Ext.isString(a.paramOrder))a.paramOrder=a.paramOrder.split(/[\s,|]/);if(a.api){b=a.api=Ext.apply({},a.api);for(c in b)if(b.hasOwnProperty(c))b[c]=Ext.direct.Manager.parseMethod(b[c])}a.checkValidityTask=new Ext.util.DelayedTask(a.checkValidity,a);a.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange");a.callParent()},initialize:function(){var a=this;a.initialized=true;a.onValidityChange(!a.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){this.clearListeners();this.checkValidityTask.cancel()},onItemAddOrRemove:function(f,b){var a=this,e=!!b.ownerCt,d=b.isContainer;function c(b){a[e?"mon":"mun"](b,{validitychange:a.checkValidity,dirtychange:a.checkDirty,scope:a,buffer:100});delete a._fields}if(b.isFormField)c(b);else if(d)if(b.isDestroyed)delete a._fields;else Ext.Array.forEach(b.query("[isFormField]"),c);delete this._boundItems;a.initialized&&a.checkValidityTask.delay(10)},getFields:function(){var a=this._fields;if(!a){a=this._fields=new Ext.util.MixedCollection;a.addAll(this.owner.query("[isFormField]"))}return a},getBoundItems:function(){var a=this._boundItems;if(!a||a.getCount()===0){a=this._boundItems=new Ext.util.MixedCollection;a.addAll(this.owner.query("[formBind]"))}return a},hasInvalidField:function(){return!!this.getFields().findBy(function(a){var c=a.preventMark,b;a.preventMark=true;b=a.isValid();a.preventMark=c;return!b})},isValid:function(){var b=this,a;Ext.suspendLayouts();a=b.getFields().filterBy(function(a){return!a.validate()});Ext.resumeLayouts(true);return a.length<1},checkValidity:function(){var a=this,b=!a.hasInvalidField();if(b!==a.wasValid){a.onValidityChange(b);a.fireEvent("validitychange",a,b);a.wasValid=b}},onValidityChange:function(f){var e=this.getBoundItems(),b,a,d,c;if(e){b=e.items;d=b.length;for(a=0;a<d;a++){c=b[a];c.disabled===f&&c.setDisabled(!f)}}},isDirty:function(){return!!this.getFields().findBy(function(a){return a.isDirty()})},checkDirty:function(){var a=this.isDirty();if(a!==this.wasDirty){this.fireEvent("dirtychange",this,a);this.wasDirty=a}},hasUpload:function(){return!!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){if(Ext.isString(a))a=Ext.ClassManager.instantiateByAlias("formaction."+a,Ext.apply({},b,{form:this}));if(this.fireEvent("beforeaction",this,a)!==false){this.beforeAction(a);Ext.defer(a.run,100,a)}return this},submit:function(a){return this.doAction(this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(a){a=a||this._record;for(var d=a.fields.items,e=this.getFieldValues(),f={},c=0,g=d.length,b;c<g;++c){b=d[c].name;if(e.hasOwnProperty(b))f[b]=e[b]}a.beginEdit();a.set(f);a.endEdit();return this},loadRecord:function(a){this._record=a;return this.setValues(a.data)},getRecord:function(){return this._record},beforeAction:function(g){for(var b=g.waitMsg,f=Ext.baseCSSPrefix+"mask-loading",e=this.getFields().items,h=e.length,c,a,d=0;d<h;d++){c=e[d];c.isFormField&&c.syncValue&&c.syncValue()}if(b){a=this.waitMsgTarget;if(a===true)this.owner.el.mask(b,f);else if(a){a=this.waitMsgTarget=Ext.get(a);a.mask(b,f)}else Ext.MessageBox.wait(b,g.waitTitle||this.waitTitle)}},afterAction:function(a,d){if(a.waitMsg){var c=Ext.MessageBox,b=this.waitMsgTarget;if(b===true)this.owner.el.unmask();else if(b)b.unmask();else{c.updateProgress(1);c.hide()}}if(d){a.reset&&this.reset();Ext.callback(a.success,a.scope||a,[this,a]);this.fireEvent("actioncomplete",this,a)}else{Ext.callback(a.failure,a.scope||a,[this,a]);this.fireEvent("actionfailed",this,a)}},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.getName()===a})},markInvalid:function(a){var h=this,b,d,c,g,e;function f(b,c){var a=h.findField(b);a&&a.markInvalid(c)}if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=a[b];f(c.id,c.msg)}}else if(a instanceof Ext.data.Errors){d=a.items.length;for(b=0;b<d;b++){c=a.items[b];f(c.field,c.message)}}else for(e in a)if(a.hasOwnProperty(e)){g=a[e];f(e,g,a)}return this},setValues:function(b){var e=this,a,d,c,g;function f(b,c){var a=e.findField(b);if(a){a.setValue(c);e.trackResetOnLoad&&a.resetOriginalValue()}}if(Ext.isArray(b)){d=b.length;for(a=0;a<d;a++){c=b[a];f(c.id,c.value)}}else Ext.iterate(b,f);return this},getValues:function(k,l,j,m){for(var b={},i=this.getFields().items,n=i.length,h=Ext.isArray,f,e,c,d,a,g=0;g<n;g++){f=i[g];if(!l||f.isDirty()){e=f[m?"getModelData":"getSubmitData"](j);if(Ext.isObject(e))for(a in e)if(e.hasOwnProperty(a)){c=e[a];if(j&&c==="")c=f.emptyText||"";if(b.hasOwnProperty(a)){d=b[a];if(!h(d))d=b[a]=[d];if(h(c))b[a]=b[a]=d.concat(c);else d.push(c)}else b[a]=c}}}if(k)b=Ext.Object.toQueryString(b);return b},getFieldValues:function(a){return this.getValues(false,a,false,true)},clearInvalid:function(){Ext.suspendLayouts();for(var c=this,b=c.getFields().items,d=b.length,a=0;a<d;a++)b[a].clearInvalid();Ext.resumeLayouts(true);return c},reset:function(){Ext.suspendLayouts();for(var c=this,b=c.getFields().items,d=b.length,a=0;a<d;a++)b[a].reset();Ext.resumeLayouts(true);return c},applyToFields:function(c){for(var b=this.getFields().items,d=b.length,a=0;a<d;a++)Ext.apply(b[a],c);return this},applyIfToFields:function(c){for(var b=this.getFields().items,d=b.length,a=0;a<d;a++)Ext.applyIf(b[a],c);return this}});Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",initComponent:function(){var a=this;if(a.frame)a.border=false;a.initFieldAncestor();a.callParent();a.relayEvents(a.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);a.pollForChanges&&a.startPolling(a.pollInterval||500)},initItems:function(){var a=this;a.form=a.createForm();a.callParent()},afterFirstLayout:function(){this.callParent();this.form.initialize()},createForm:function(){return new Ext.form.Basic(this,Ext.applyIf({listeners:{}},this.initialConfig))},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},getValues:function(d,b,c,a){return this.getForm().getValues(d,b,c,a)},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(b){this.stopPolling();var a=new Ext.util.TaskRunner(b);a.start({interval:0,run:this.checkChange,scope:this});this.pollTask=a},stopPolling:function(){var a=this.pollTask;if(a){a.stopAll();delete this.pollTask}},checkChange:function(){for(var b=this.form.getFields().items,c=b.length,d,a=0;a<c;a++)b[a].checkChange()}});Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",requires:["Ext.tip.ToolTip","Ext.util.HashMap","Ext.util.KeyNav"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,hideMode:"offsets",initComponent:function(){var a=this,b;a.cls=Ext.baseCSSPrefix+"grid-row-editor";a.layout={type:"hbox",align:"middle"};a.columns=new Ext.util.HashMap;a.columns.getKey=function(b){var a;if(b.getEditor){a=b.getEditor();if(a)return a.id}return b.id};a.mon(a.columns,{add:a.onFieldAdd,remove:a.onFieldRemove,replace:a.onFieldReplace,scope:a});a.callParent(arguments);if(a.fields){a.setField(a.fields);delete a.fields}b=a.getForm();b.trackResetOnLoad=true},onFieldChange:function(){var a=this,c=a.getForm(),b=c.isValid();a.errorSummary&&a.isVisible()&&a[b?"hideToolTip":"showToolTip"]();a.floatingButtons&&a.floatingButtons.child("#update").setDisabled(!b);a.isValid=b},afterRender:function(){var a=this,b=a.editingPlugin;a.callParent(arguments);a.mon(a.renderTo,"scroll",a.onCtScroll,a,{buffer:100});a.mon(a.el,{click:Ext.emptyFn,stopPropagation:true});a.el.swallowEvent(["keypress","keydown"]);a.keyNav=new Ext.util.KeyNav(a.el,{enter:b.completeEdit,esc:b.onEscKey,scope:b});a.mon(b.view,{beforerefresh:a.onBeforeViewRefresh,refresh:a.onViewRefresh,scope:a})},onBeforeViewRefresh:function(c){var b=this,a=c.el.dom;b.el.dom.parentNode===a&&a.removeChild(b.el.dom)},onViewRefresh:function(d){var a=this,e=d.el.dom,b=a.context,c;e.appendChild(a.el.dom);if(b&&(c=b.store.indexOf(b.record))>=0){b.row=d.getNode(c);a.reposition();a.tooltip&&a.tooltip.isVisible()&&a.tooltip.setTarget(b.row)}else a.editingPlugin.cancelEdit()},onCtScroll:function(e,c){var a=this,b=c.scrollTop,d=c.scrollLeft;if(b!==a.lastScrollTop){a.lastScrollTop=b;(a.tooltip&&a.tooltip.isVisible()||a.hiddenTip)&&a.repositionTip()}if(d!==a.lastScrollLeft){a.lastScrollLeft=d;a.reposition()}},onColumnAdd:function(a){!a.isGroupHeader&&this.setField(a)},onColumnRemove:function(a){this.columns.remove(a)},onColumnResize:function(a,b){if(!a.isGroupHeader){a.getEditor().setWidth(b-2);this.isVisible()&&this.reposition()}},onColumnHide:function(a){if(!a.isGroupHeader){a.getEditor().hide();this.isVisible()&&this.reposition()}},onColumnShow:function(a){var b=a.getEditor();b.setWidth(a.getWidth()-2).show();this.isVisible()&&this.reposition()},onColumnMove:function(a,c,b){if(!a.isGroupHeader){var d=a.getEditor();this.items.indexOf(d)!=b&&this.move(c,b)}},onFieldAdd:function(f,e,a){var b=this,d,c;if(!a.isGroupHeader){d=b.editingPlugin.grid.headerCt.getHeaderIndex(a);c=a.getEditor({xtype:"displayfield"});b.insert(d,c)}},onFieldRemove:function(f,e,c){var d=this,b,a;if(!c.isGroupHeader){b=c.getEditor();a=b.el;d.remove(b,false);a&&a.remove()}},onFieldReplace:function(c,a,d,b){this.onFieldRemove(c,a,b)},clearFields:function(){var b=this.columns,a;for(a in b)b.hasOwnProperty(a)&&b.removeAtKey(a)},getFloatingButtons:function(){var a=this,e=Ext.baseCSSPrefix,d=e+"grid-row-editor-buttons",b=a.editingPlugin,c;if(!a.floatingButtons){c=a.floatingButtons=new Ext.Container({renderTpl:['<div class="{baseCls}-ml"></div>','<div class="{baseCls}-mr"></div>','<div class="{baseCls}-bl"></div>','<div class="{baseCls}-br"></div>','<div class="{baseCls}-bc"></div>',"{%this.renderContainer(out,values)%}"],width:200,renderTo:a.el,baseCls:d,layout:{type:"hbox",align:"middle"},defaults:{flex:1,margins:"0 1 0 1"},items:[{itemId:"update",xtype:"button",handler:b.completeEdit,scope:b,text:a.saveBtnText,disabled:!a.isValid,minWidth:Ext.panel.Panel.prototype.minButtonWidth},{xtype:"button",handler:b.cancelEdit,scope:b,text:a.cancelBtnText,minWidth:Ext.panel.Panel.prototype.minButtonWidth}]});a.mon(c.el,{mousedown:Ext.emptyFn,click:Ext.emptyFn,stopEvent:true})}return a.floatingButtons},reposition:function(c){var a=this,i=a.context,b=i&&Ext.get(i.row),m=a.getFloatingButtons(),n=m.el,d=a.editingPlugin.grid,j=d.view.el,g=d.headerCt.getFullWidth(),s=d.getWidth(),q=Math.min(g,s),r=d.view.el.dom.scrollLeft,p=m.getWidth(),o=(q-p)/2+r,e,k,f,l=function(){n.scrollIntoView(j,false);c&&c.callback&&c.callback.call(c.scope||a)},h;if(b&&Ext.isElement(b.dom)){b.scrollIntoView(j,false);e=b.getXY()[1]-5;k=b.getHeight();f=k+(a.editingPlugin.grid.rowLines?9:10);if(a.getHeight()!=f){a.setHeight(f);a.el.setLeft(0)}if(c){h={to:{y:e},duration:c.duration||125,listeners:{afteranimate:function(){l();e=b.getXY()[1]-5}}};a.el.animate(h)}else{a.el.setY(e);l()}}a.getWidth()!=g&&a.setWidth(g);n.setLeft(o)},getEditor:function(a){var b=this;return Ext.isNumber(a)?b.query(">[isFormField]")[a]:a.isHeader&&!a.isGroupHeader?a.getEditor():void 0},removeField:function(b){var a=this;b=a.getEditor(b);a.mun(b,"validitychange",a.onValidityChange,a);a.columns.removeAtKey(b.id);Ext.destroy(b)},setField:function(b){var a=this,d,e,c;if(Ext.isArray(b)){e=b.length;for(d=0;d<e;d++)a.setField(b[d]);return}c=b.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}});c.margins="0 0 0 2";a.mon(c,"change",a.onFieldChange,a);if(a.isVisible()&&a.context)if(c.is("displayfield"))a.renderColumnData(c,a.context.record,b);else{c.suspendEvents();c.setValue(a.context.record.get(b.dataIndex));c.resumeEvents()}a.columns.add(c.id,b);if(b.hidden)a.onColumnHide(b);else if(b.rendered)a.onColumnShow(b)},loadRecord:function(g){for(var b=this,f=b.getForm(),h=f.getFields(),d=h.items,c=d.length,e,a=0;a<c;a++)d[a].suspendEvents();f.loadRecord(g);for(a=0;a<c;a++)d[a].resumeEvents();if(b.errorSummary)if(f.isValid())b.hideToolTip();else b.showToolTip();e=b.query(">displayfield");c=e.length;for(a=0;a<c;a++)b.renderColumnData(e[a],g)},renderColumnData:function(c,b,n){var k=this,e=k.editingPlugin.grid,h=e.headerCt,l=e.view,m=l.store,a=n||k.columns.get(c.id),d=b.get(a.dataIndex),j=a.editRenderer||a.renderer,f,g,i;if(j){f={tdCls:"",style:""};g=m.indexOf(b);i=h.getHeaderIndex(a);d=j.call(a.scope||h.ownerCt,d,f,b,g,i,m,l)}c.setRawValue(d);c.resetOriginalValue()},beforeEdit:function(){var a=this;if(a.isVisible()&&a.errorSummary&&!a.autoCancel&&a.isDirty()){a.showToolTip();return false}},startEdit:function(b){var a=this,c=a.editingPlugin.grid,d=c.store,e=a.context=Ext.apply(a.editingPlugin.context,{view:c.getView(),store:d});e.grid.getSelectionModel().select(b);a.loadRecord(b);if(!a.isVisible()){a.show();a.focusContextCell()}else a.reposition({callback:this.focusContextCell})},focusContextCell:function(){var a=this.getEditor(this.context.colIdx);a&&a.focus&&a.focus()},cancelEdit:function(){var e=this,c=e.getForm(),f=c.getFields(),b=f.items,d=b.length,a;e.hide();c.clearInvalid();for(a=0;a<d;a++)b[a].suspendEvents();c.reset();for(a=0;a<d;a++)b[a].resumeEvents()},completeEdit:function(){var a=this,b=a.getForm();if(!b.isValid())return;b.updateRecord(a.context.record);a.hide();return true},onShow:function(){this.callParent(arguments);this.reposition()},onHide:function(){var a=this;a.callParent(arguments);a.tooltip&&a.hideToolTip();if(a.context){a.context.view.focus();a.context=null}},isDirty:function(){var b=this,a=b.getForm();return a.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left"}))},hideToolTip:function(){var a=this,b=a.getToolTip();b.rendered&&b.disable();a.hiddenTip=false},showToolTip:function(){var b=this,a=b.getToolTip(),c=b.context,d=Ext.get(c.row),e=c.grid.view.el;a.setTarget(d);a.showAt([-1e4,-1e4]);a.update(b.getErrors());a.mouseOffset=[e.getWidth()-d.getWidth()+b.lastScrollLeft+15,0];b.repositionTip();a.doLayout();a.enable()},repositionTip:function(){var a=this,e=a.getToolTip(),c=a.context,f=Ext.get(c.row),k=c.grid.view.el,i=k.getHeight(),d=a.lastScrollTop,j=d+i,g=f.getHeight(),b=f.dom.offsetTop,h=b+g;if(h>d&&b<j){e.show();a.hiddenTip=false}else{e.hide();a.hiddenTip=true}},getErrors:function(){var b=this,f=!b.autoCancel&&b.isDirty()?b.dirtyText+"<br />":"",c=[],d=b.query(">[isFormField]"),e=d.length,a;function g(a){return"<li>"+a+"</li>"}for(a=0;a<e;a++)c=c.concat(Ext.Array.map(d[a].getErrors(),g));return f+"<ul>"+c.join("")+"</ul>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);this.callParent()}});Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],editStyle:"row",autoCancel:true,errorSummary:true,constructor:function(){var a=this;a.callParent(arguments);if(!a.clicksToMoveEditor)a.clicksToMoveEditor=a.clicksToEdit;a.autoCancel=!!a.autoCancel},init:function(a){this.callParent([a])},destroy:function(){var a=this;Ext.destroy(a.editor);a.callParent(arguments)},startEdit:function(){var a=this,b=a.getEditor();if(a.callParent(arguments)!==false&&b.beforeEdit()!==false){b.startEdit(a.context.record,a.context.column);return true}return false},cancelEdit:function(){var a=this;if(a.editing){a.getEditor().cancelEdit();a.callParent(arguments)}},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.editing=false;a.fireEvent("edit",a,a.context)}},validateEdit:function(){for(var b=this,k=b.editor,e=b.context,j=e.record,h={},f={},g=k.items.items,i=g.length,a,d,c=0;c<i;c++){d=g[c];a=d.name;h[a]=d.getValue();f[a]=j.get(a)}Ext.apply(e,{newValues:h,originalValues:f});return b.callParent(arguments)&&b.getEditor().completeEdit()},getEditor:function(){var a=this;if(!a.editor)a.editor=a.initEditor();return a.editor},initEditor:function(){for(var a=this,g=a.grid,i=a.view,h=g.headerCt,d=["saveBtnText","cancelBtnText","errorsText","dirtyText"],f=d.length,e={autoCancel:a.autoCancel,errorSummary:a.errorSummary,fields:h.getGridColumns(),hidden:true,editingPlugin:a,renderTo:i.el},b,c=0;c<f;c++){b=d[c];if(Ext.isDefined(a[b]))e[b]=a[b]}return Ext.create("Ext.grid.RowEditor",e)},initEditTriggers:function(){var a=this,b=a.clicksToMoveEditor===1?"click":"dblclick";a.callParent(arguments);a.clicksToMoveEditor!==a.clicksToEdit&&a.mon(a.view,"cell"+b,a.moveEditorByClick,a)},addHeaderEvents:function(){var a=this;a.callParent();a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow,columnmove:a.onColumnMove})},startEditByClick:function(){var a=this;(!a.editing||a.clicksToMoveEditor===a.clicksToEdit)&&a.callParent(arguments)},moveEditorByClick:function(){var a=this;a.editing&&a.superclass.onCellClick.apply(a,arguments)},onColumnAdd:function(d,b){if(b.isHeader){var c=this,a;c.initFieldAccessors(b);a=c.editor;if(a&&a.onColumnAdd)a.onColumnAdd(b)}},onColumnRemove:function(d,b){if(b.isHeader){var c=this,a=c.getEditor();if(a&&a.onColumnRemove)a.onColumnRemove(b);c.removeFieldAccessors(b)}},onColumnResize:function(e,b,c){if(b.isHeader){var d=this,a=d.getEditor();if(a&&a.onColumnResize)a.onColumnResize(b,c)}},onColumnHide:function(d,b){var c=this,a=c.getEditor();if(a&&a.onColumnHide)a.onColumnHide(b)},onColumnShow:function(d,b){var c=this,a=c.getEditor();if(a&&a.onColumnShow)a.onColumnShow(b)},onColumnMove:function(f,c,b,e){var d=this,a=d.getEditor();if(a&&a.onColumnMove)a.onColumnMove(c,b,e)},setColumnField:function(b){var a=this,c=a.getEditor();c.removeField(b);a.callParent(arguments);a.getEditor().setField(b)}});Ext._endTime=(new Date).getTime();Ext._beforereadyhandler&&Ext._beforereadyhandler()